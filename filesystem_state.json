{"file_contents":{"pages/admin-dashboard/BotHealthView.tsx":{"content":"import React from 'react';\nimport Card from '../../components/Card';\nimport { BotHealth } from '../../types';\n\nconst mockBotHealth: BotHealth[] = [\n    { botId: 'BOT-A1', userId: 'USR-11A2', strategy: 'Advanced DCA', status: 'Healthy', lastHeartbeat: '5s ago' },\n    { botId: 'BOT-B2', userId: 'USR-B3C4', strategy: 'Grid Bot', status: 'Healthy', lastHeartbeat: '8s ago' },\n    { botId: 'BOT-C3', userId: 'USR-9D5E', strategy: 'Signal Bot', status: 'Critical', lastHeartbeat: '15m ago' },\n    { botId: 'BOT-E5', userId: 'USR-F6G7', strategy: 'Grid Bot', status: 'Warning', lastHeartbeat: '2m ago' },\n    { botId: 'BOT-F6', userId: 'USR-11A2', strategy: 'Advanced DCA', status: 'Healthy', lastHeartbeat: '12s ago' },\n];\n\nconst BotHealthView: React.FC = () => {\n\n    const getStatusInfo = (status: BotHealth['status']) => {\n        switch (status) {\n            case 'Healthy': return { color: 'bg-success', text: 'text-success' };\n            case 'Warning': return { color: 'bg-warning', text: 'text-warning' };\n            case 'Critical': return { color: 'bg-danger', text: 'text-danger' };\n        }\n    };\n    \n    const kpiData = {\n        total: mockBotHealth.length,\n        healthy: mockBotHealth.filter(b => b.status === 'Healthy').length,\n        warning: mockBotHealth.filter(b => b.status === 'Warning').length,\n        critical: mockBotHealth.filter(b => b.status === 'Critical').length,\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Total Bots</p><p className=\"text-3xl font-bold mt-1\">{kpiData.total}</p></Card>\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Healthy</p><p className=\"text-3xl font-bold text-success mt-1\">{kpiData.healthy}</p></Card>\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Warnings</p><p className=\"text-3xl font-bold text-warning mt-1\">{kpiData.warning}</p></Card>\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Critical</p><p className=\"text-3xl font-bold text-danger mt-1\">{kpiData.critical}</p></Card>\n            </div>\n            <Card>\n                <h2 className=\"text-xl font-bold mb-4\">Bot Health & Heartbeats</h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n                    {mockBotHealth.map(bot => (\n                        <div key={bot.botId} className=\"border dark:border-dark-border rounded-lg p-4\">\n                            <div className=\"flex justify-between items-center mb-2\">\n                                <span className=\"font-mono text-xs font-semibold\">{bot.botId}</span>\n                                <div className=\"flex items-center space-x-2\">\n                                    <span className={`text-xs font-bold ${getStatusInfo(bot.status).text}`}>{bot.status}</span>\n                                    <div className={`h-3 w-3 rounded-full ${getStatusInfo(bot.status).color}`}></div>\n                                </div>\n                            </div>\n                            <p className=\"text-sm\"><strong>User:</strong> {bot.userId}</p>\n                            <p className=\"text-sm\"><strong>Strategy:</strong> {bot.strategy}</p>\n                            <p className=\"text-xs text-gray-400 mt-2\">Last Heartbeat: {bot.lastHeartbeat}</p>\n                            <button className=\"text-xs font-semibold text-primary hover:underline mt-3 w-full text-left\">View Logs</button>\n                        </div>\n                    ))}\n                </div>\n            </Card>\n        </div>\n    );\n};\n\nexport default BotHealthView;","size_bytes":3857},"pages/user-dashboard/SocialTradingView.tsx":{"content":"\nimport React, { useState } from 'react';\nimport Card from '../../components/Card';\nimport Icon from '../../components/Icon';\nimport { MasterTrader, CopiedTrade } from '../../types';\n\nconst mockMasterTraders: MasterTrader[] = [\n  { id: 'trader-1', name: 'CryptoWizard', avatarUrl: 'https://picsum.photos/seed/wizard/100', pnl: 145.5, maxDrawdown: 15.2, winRate: 78, aumCopied: 1200000, strategy: 'Advanced DCA' },\n  { id: 'trader-2', name: 'VolatilityKing', avatarUrl: 'https://picsum.photos/seed/king/100', pnl: 98.2, maxDrawdown: 25.5, winRate: 65, aumCopied: 850000, strategy: 'Grid Bot' },\n  { id: 'trader-3', name: 'SteadyGains', avatarUrl: 'https://picsum.photos/seed/steady/100', pnl: 45.1, maxDrawdown: 8.1, winRate: 85, aumCopied: 2100000, strategy: 'Mean Reversion' },\n  { id: 'trader-4', name: 'SignalSurfer', avatarUrl: 'https://picsum.photos/seed/surfer/100', pnl: 210.3, maxDrawdown: 35.8, winRate: 61, aumCopied: 550000, strategy: 'Signal Bot' },\n];\n\nconst mockCopiedTrades: CopiedTrade[] = [\n    { id: 'ct-1', masterTraderId: 'trader-1', masterTraderName: 'CryptoWizard', masterTraderAvatarUrl: 'https://picsum.photos/seed/wizard/100', strategy: 'Advanced DCA', symbol: 'ETH/USDT', position: 'Long', pnl: 52.10, timestamp: '2m ago' },\n    { id: 'ct-2', masterTraderId: 'trader-2', masterTraderName: 'VolatilityKing', masterTraderAvatarUrl: 'https://picsum.photos/seed/king/100', strategy: 'Grid Bot', symbol: 'BTC/USDT', position: 'Short', pnl: -15.80, timestamp: '5m ago' },\n    { id: 'ct-3', masterTraderId: 'trader-3', masterTraderName: 'SteadyGains', masterTraderAvatarUrl: 'https://picsum.photos/seed/steady/100', strategy: 'Mean Reversion', symbol: 'ADA/USDT', position: 'Long', pnl: 22.45, timestamp: '8m ago' },\n    { id: 'ct-4', masterTraderId: 'trader-1', masterTraderName: 'CryptoWizard', masterTraderAvatarUrl: 'https://picsum.photos/seed/wizard/100', strategy: 'Advanced DCA', symbol: 'SOL/USDT', position: 'Long', pnl: 112.90, timestamp: '12m ago' },\n];\n\nconst CopySetupModal: React.FC<{ trader: MasterTrader; onClose: () => void }> = ({ trader, onClose }) => {\n    const [config, setConfig] = useState({\n        allocationMethod: 'Proportional',\n        maxCapital: 500,\n        maxLossLimit: 20,\n    });\n\n    const handleStartCopying = () => {\n        console.log('Starting to copy', trader.name, 'with config:', config);\n        onClose();\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4\">\n            <Card className=\"w-full max-w-lg\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-xl font-bold\">Copy Trader: <span className=\"text-primary\">{trader.name}</span></h3>\n                    <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-white\">\n                        <Icon name=\"cross\" className=\"h-6 w-6\" />\n                    </button>\n                </div>\n                <div className=\"space-y-6\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-2\">Allocation Method</label>\n                        <div className=\"flex space-x-2\">\n                            {['Proportional', 'Fixed Amount'].map(method => (\n                                <button key={method} onClick={() => setConfig(c => ({...c, allocationMethod: method}))} className={`flex-1 py-2 px-4 rounded-lg text-sm font-semibold transition-colors ${config.allocationMethod === method ? 'bg-primary text-white' : 'bg-gray-100 dark:bg-dark-bg-secondary hover:bg-gray-200 dark:hover:bg-gray-600'}`}>\n                                    {method}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                     <div>\n                        <label htmlFor=\"maxCapital\" className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Max Copy Capital (USDT)</label>\n                        <input id=\"maxCapital\" type=\"number\" value={config.maxCapital} onChange={e => setConfig(c => ({...c, maxCapital: parseInt(e.target.value)}))} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2 focus:ring-primary focus:border-primary\" />\n                    </div>\n                     <div>\n                        <label htmlFor=\"maxLoss\" className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Max Loss Limit (Copy Guard %)</label>\n                        <input id=\"maxLoss\" type=\"number\" value={config.maxLossLimit} onChange={e => setConfig(c => ({...c, maxLossLimit: parseInt(e.target.value)}))} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2 focus:ring-primary focus:border-primary\" />\n                        <p className=\"text-xs text-gray-400 mt-1\">If your copy P&L drops by this percentage, all positions will be closed automatically.</p>\n                    </div>\n\n                    <div className=\"flex space-x-4 pt-4\">\n                         <button onClick={onClose} className=\"w-full bg-gray-200 dark:bg-dark-bg-secondary py-2.5 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-semibold\">\n                            Cancel\n                        </button>\n                        <button onClick={handleStartCopying} className=\"w-full bg-primary text-white py-2.5 px-4 rounded-lg hover:bg-primary-hover transition-colors font-semibold\">\n                            Start Copying\n                        </button>\n                    </div>\n                </div>\n            </Card>\n        </div>\n    );\n};\n\n\nconst SocialTradingView: React.FC = () => {\n  const [copyTrader, setCopyTrader] = useState<MasterTrader | null>(null);\n\n  return (\n    <>\n      {copyTrader && <CopySetupModal trader={copyTrader} onClose={() => setCopyTrader(null)} />}\n      <div className=\"space-y-8\">\n        {/* Discover Traders Section */}\n        <Card>\n          <h2 className=\"text-2xl font-bold mb-4\">Discover Top Traders</h2>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm text-left text-gray-500 dark:text-dark-text-secondary\">\n              <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-dark-bg-secondary dark:text-dark-text-secondary\">\n                <tr>\n                  <th scope=\"col\" className=\"px-6 py-3\">Trader</th>\n                  <th scope=\"col\" className=\"px-6 py-3\">P&L (90d)</th>\n                  <th scope=\"col\" className=\"px-6 py-3\">Max Drawdown</th>\n                  <th scope=\"col\" className=\"px-6 py-3\">Win Rate</th>\n                  <th scope=\"col\" className=\"px-6 py-3\">AUM Copied</th>\n                  <th scope=\"col\" className=\"px-6 py-3\">Strategy</th>\n                  <th scope=\"col\" className=\"px-6 py-3\">Action</th>\n                </tr>\n              </thead>\n              <tbody>\n                {mockMasterTraders.map(trader => (\n                  <tr key={trader.id} className=\"bg-white border-b dark:bg-dark-card dark:border-dark-border hover:bg-gray-50 dark:hover:bg-dark-bg-secondary\">\n                    <td className=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\">\n                      <div className=\"flex items-center\">\n                        <img src={trader.avatarUrl} alt={trader.name} className=\"h-8 w-8 rounded-full mr-3\" />\n                        {trader.name}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 font-bold text-success\">{trader.pnl.toFixed(1)}%</td>\n                    <td className=\"px-6 py-4 text-danger\">{trader.maxDrawdown.toFixed(1)}%</td>\n                    <td className=\"px-6 py-4\">{trader.winRate}%</td>\n                    <td className=\"px-6 py-4\">${trader.aumCopied.toLocaleString()}</td>\n                    <td className=\"px-6 py-4\">{trader.strategy}</td>\n                    <td className=\"px-6 py-4\">\n                      <button \n                        onClick={() => setCopyTrader(trader)}\n                        className=\"bg-primary/10 text-primary hover:bg-primary/20 font-semibold py-1 px-3 rounded-lg text-xs flex items-center\"\n                      >\n                          <Icon name=\"copy\" className=\"h-4 w-4 mr-1\" />\n                          Copy\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </Card>\n\n        {/* Real-Time Feed Section */}\n        <Card>\n          <h2 className=\"text-2xl font-bold mb-4\">Real-Time Copy Trade Feed</h2>\n          <div className=\"space-y-4\">\n              {mockCopiedTrades.map(trade => (\n                  <div key={trade.id} className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-dark-bg-secondary rounded-lg\">\n                      <div className=\"flex items-center\">\n                          <img src={trade.masterTraderAvatarUrl} alt={trade.masterTraderName} className=\"h-10 w-10 rounded-full mr-4\"/>\n                          <div>\n                              <p className=\"text-sm font-semibold\">\n                                  You copied a trade from <span className=\"text-primary\">{trade.masterTraderName}</span>\n                              </p>\n                              <p className=\"text-xs text-gray-500 dark:text-dark-text-secondary\">\n                                  {trade.strategy} | {trade.symbol} ({trade.position})\n                              </p>\n                          </div>\n                      </div>\n                      <div className=\"flex items-center space-x-6\">\n                          <div className=\"text-right\">\n                              <p className={`font-bold ${trade.pnl >= 0 ? 'text-success' : 'text-danger'}`}>\n                                  {trade.pnl >= 0 ? `+$${trade.pnl.toFixed(2)}` : `-$${Math.abs(trade.pnl).toFixed(2)}`}\n                              </p>\n                              <p className=\"text-xs text-gray-400 dark:text-gray-500\">{trade.timestamp}</p>\n                          </div>\n                           <button className=\"text-sm font-medium text-primary hover:underline flex items-center space-x-1 whitespace-nowrap\">\n                              <Icon name=\"user\" className=\"h-4 w-4\" />\n                              <span>View Profile</span>\n                          </button>\n                      </div>\n                  </div>\n              ))}\n          </div>\n        </Card>\n      </div>\n    </>\n  );\n};\n\nexport default SocialTradingView;\n","size_bytes":10750},"pages/admin-dashboard/UserManagementView.tsx":{"content":"import React, { useState } from 'react';\nimport Card from '../../components/Card';\nimport { User } from '../../types';\nimport Icon from '../../components/Icon';\n\nconst mockUsers: User[] = [\n    { id: 'USR-11A2', name: 'John Doe', email: 'john.doe@email.com', avatarUrl: 'https://picsum.photos/seed/john/100', kycStatus: 'Verified', subscriptionPlan: 'Pro', lastLogin: '2h ago' },\n    { id: 'USR-B3C4', name: 'Jane Smith', email: 'jane.smith@email.com', avatarUrl: 'https://picsum.photos/seed/jane/100', kycStatus: 'Pending', subscriptionPlan: 'Starter', lastLogin: '1d ago' },\n    { id: 'USR-9D5E', name: 'Sam Wilson', email: 'sam.wilson@email.com', avatarUrl: 'https://picsum.photos/seed/sam/100', kycStatus: 'Not Submitted', subscriptionPlan: 'Free', lastLogin: '5d ago' },\n    { id: 'USR-F6G7', name: 'Emily Brown', email: 'emily.brown@email.com', avatarUrl: 'https://picsum.photos/seed/emily/100', kycStatus: 'Verified', subscriptionPlan: 'Expert', lastLogin: '5m ago' },\n];\n\n\nconst UserManagementView: React.FC = () => {\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const filteredUsers = mockUsers.filter(user => \n        user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        user.id.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    const getKycStatusClasses = (status: User['kycStatus']) => {\n        switch(status) {\n            case 'Verified': return 'bg-success/10 text-success';\n            case 'Pending': return 'bg-warning/10 text-warning';\n            case 'Rejected': return 'bg-danger/10 text-danger';\n            default: return 'bg-gray-100 dark:bg-gray-700 text-gray-500';\n        }\n    };\n    \n    return (\n        <Card>\n            <h2 className=\"text-2xl font-bold mb-4\">User Management</h2>\n            <div className=\"flex justify-between items-center mb-4\">\n                <div className=\"relative w-full max-w-xs\">\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                        <Icon name=\"search\" className=\"h-5 w-5 text-gray-400\" />\n                    </div>\n                    <input \n                        type=\"text\"\n                        placeholder=\"Search users by name, email, or ID\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        className=\"w-full pl-10 p-2 border dark:border-dark-border rounded-lg bg-gray-50 dark:bg-dark-bg-secondary focus:ring-primary focus:border-primary\"\n                    />\n                </div>\n                <button className=\"bg-primary text-white font-semibold py-2 px-4 rounded-lg hover:bg-primary-hover transition-colors flex items-center\">\n                    <Icon name=\"plus\" className=\"h-5 w-5 mr-2\" />\n                    Add User\n                </button>\n            </div>\n\n             <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm text-left\">\n                    <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-dark-bg-secondary dark:text-dark-text-secondary\">\n                        <tr>\n                            <th className=\"px-6 py-3\">User</th>\n                            <th className=\"px-6 py-3\">User ID</th>\n                            <th className=\"px-6 py-3\">KYC Status</th>\n                            <th className=\"px-6 py-3\">Subscription</th>\n                            <th className=\"px-6 py-3\">Last Login</th>\n                            <th className=\"px-6 py-3\">Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {filteredUsers.map(user => (\n                            <tr key={user.id} className=\"border-b dark:border-dark-border hover:bg-gray-50 dark:hover:bg-dark-bg-secondary\">\n                                <td className=\"px-6 py-4\">\n                                    <div className=\"flex items-center\">\n                                        <img src={user.avatarUrl} alt={user.name} className=\"h-9 w-9 rounded-full mr-3\" />\n                                        <div>\n                                            <div className=\"font-semibold text-gray-800 dark:text-white\">{user.name}</div>\n                                            <div className=\"text-xs text-gray-500\">{user.email}</div>\n                                        </div>\n                                    </div>\n                                </td>\n                                <td className=\"px-6 py-4\">{user.id}</td>\n                                <td className=\"px-6 py-4\">\n                                    <span className={`px-2 py-1 text-xs font-semibold rounded-full ${getKycStatusClasses(user.kycStatus)}`}>{user.kycStatus}</span>\n                                </td>\n                                <td className=\"px-6 py-4\">{user.subscriptionPlan}</td>\n                                <td className=\"px-6 py-4\">{user.lastLogin}</td>\n                                <td className=\"px-6 py-4\">\n                                    <button className=\"font-medium text-primary hover:underline\">View</button>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </Card>\n    );\n};\n\nexport default UserManagementView;\n","size_bytes":5462},"pages/user-dashboard/UserDashboard.tsx":{"content":"\nimport React, { useState } from 'react';\nimport Sidebar from './Sidebar';\nimport DashboardView from './DashboardView';\nimport ActiveTradesView from './ActiveTradesView';\nimport StrategiesView from './StrategiesView';\nimport AnalyticsView from './AnalyticsView';\nimport APISetup from './APISetup';\nimport InvestmentGoalsView from './InvestmentGoalsView';\nimport SocialTradingView from './SocialTradingView';\nimport AIStrategyOptimizerView from './AIStrategyOptimizerView';\nimport SettingsView from './SettingsView';\nimport ArbitrageView from './ArbitrageView';\nimport UserHeader from '../../components/UserHeader';\n\nconst UserDashboard: React.FC = () => {\n  const [isSidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [isMobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [activeView, setActiveView] = useState('Dashboard');\n\n  const handleViewChange = (view: string) => {\n    setActiveView(view);\n    setMobileMenuOpen(false);\n  };\n\n  const renderView = () => {\n    switch (activeView) {\n      case 'Dashboard':\n        return <DashboardView />;\n      case 'Active Trades':\n        return <ActiveTradesView />;\n      case 'Exchanges API Setup':\n        return <APISetup />;\n      case 'Arbitrage':\n        return <ArbitrageView />;\n      case 'Strategies':\n        return <StrategiesView />;\n      case 'Social Trading Hub':\n        return <SocialTradingView />;\n      case 'Analytics':\n        return <AnalyticsView />;\n      case 'Investment Goals':\n        return <InvestmentGoalsView />;\n      case 'AI Strategy Optimizer':\n        return <AIStrategyOptimizerView />;\n      case 'Account Settings':\n        return <SettingsView />;\n      default:\n        return <div className=\"p-4 sm:p-6 md:p-8\"><h1 className=\"text-xl sm:text-2xl font-bold\">{activeView}</h1><p>Content coming soon...</p></div>;\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen bg-gray-100 dark:bg-dark-bg overflow-hidden\">\n      <Sidebar \n        isCollapsed={isSidebarCollapsed} \n        setSidebarCollapsed={setSidebarCollapsed} \n        isMobileMenuOpen={isMobileMenuOpen}\n        setMobileMenuOpen={setMobileMenuOpen}\n        activeView={activeView} \n        setActiveView={handleViewChange} \n      />\n      \n      {isMobileMenuOpen && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden\"\n          onClick={() => setMobileMenuOpen(false)}\n        />\n      )}\n      \n      <div className={`flex-1 flex flex-col transition-all duration-300 w-full lg:w-auto ${isSidebarCollapsed ? 'lg:ml-20' : 'lg:ml-64'}`}>\n        <UserHeader onMenuClick={() => setMobileMenuOpen(true)} />\n        <main className=\"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6 lg:p-8\">\n          {renderView()}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default UserDashboard;\n","size_bytes":2802},"pages/user-dashboard/DashboardView.tsx":{"content":"\nimport React from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar } from 'recharts';\nimport Icon from '../../components/Icon';\nimport Card from '../../components/Card';\nimport { KpiCardData } from '../../types';\n\nconst kpiData: KpiCardData[] = [\n    { title: 'Total PnL', value: '$12,480.50', change: '+2.5%', changeType: 'increase', icon: 'wallet' },\n    { title: 'Win Rate', value: '72.3%', change: '-0.8%', changeType: 'decrease', icon: 'check' },\n    { title: 'Active Bots', value: '14', icon: 'bot' },\n    { title: 'Portfolio Value', value: '$152,830.00', change: '+5.1%', changeType: 'increase', icon: 'analytics' },\n];\n\nconst portfolioData = [\n    { name: 'Jan', value: 100000 },\n    { name: 'Feb', value: 105000 },\n    { name: 'Mar', value: 115000 },\n    { name: 'Apr', value: 110000 },\n    { name: 'May', value: 125000 },\n    { name: 'Jun', value: 140000 },\n    { name: 'Jul', value: 152830 },\n];\n\nconst pnlByStrategyData = [\n  { name: 'DCA', pnl: 4200 },\n  { name: 'Grid', pnl: 3500 },\n  { name: 'Signal', pnl: 2800 },\n  { name: 'Arbitrage', pnl: 1500 },\n  { name: 'Other', pnl: 480 },\n];\n\nconst KpiCard: React.FC<{ data: KpiCardData }> = ({ data }) => {\n    return (\n        <Card className=\"flex flex-col justify-between\">\n            <div>\n                <div className=\"flex justify-between items-center\">\n                    <p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{data.title}</p>\n                    <Icon name={data.icon} className=\"h-6 w-6 text-gray-400 dark:text-gray-500\" />\n                </div>\n                <p className=\"text-3xl font-bold text-gray-800 dark:text-white mt-1\">{data.value}</p>\n            </div>\n            {data.change && (\n                 <p className={`text-sm font-semibold mt-4 ${data.changeType === 'increase' ? 'text-success' : 'text-danger'}`}>\n                    {data.change} vs last month\n                </p>\n            )}\n        </Card>\n    );\n}\n\nconst DashboardView: React.FC = () => {\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {kpiData.map(item => <KpiCard key={item.title} data={item} />)}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <Card className=\"lg:col-span-2\">\n            <h3 className=\"text-lg font-semibold mb-4\">Portfolio Performance</h3>\n            <div className=\"h-80\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <LineChart data={portfolioData} margin={{ top: 5, right: 20, left: -10, bottom: 5 }}>\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(75, 85, 99, 0.3)\" />\n                        <XAxis dataKey=\"name\" stroke=\"rgba(156, 163, 175, 1)\" />\n                        <YAxis stroke=\"rgba(156, 163, 175, 1)\" />\n                        <Tooltip contentStyle={{ backgroundColor: '#2d3748', border: 'none' }} labelStyle={{ color: '#e2e8f0' }}/>\n                        <Legend />\n                        <Line type=\"monotone\" dataKey=\"value\" stroke=\"#4f46e5\" strokeWidth={2} activeDot={{ r: 8 }} />\n                    </LineChart>\n                </ResponsiveContainer>\n            </div>\n        </Card>\n\n        <Card>\n           <h3 className=\"text-lg font-semibold mb-4\">PnL by Strategy</h3>\n           <div className=\"h-80\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <BarChart data={pnlByStrategyData} layout=\"vertical\" margin={{ top: 5, right: 20, left: 10, bottom: 5 }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(75, 85, 99, 0.2)\" />\n                    <XAxis type=\"number\" stroke=\"rgba(156, 163, 175, 1)\" />\n                    <YAxis dataKey=\"name\" type=\"category\" stroke=\"rgba(156, 163, 175, 1)\" width={60}/>\n                    <Tooltip contentStyle={{ backgroundColor: '#2d3748', border: 'none' }} labelStyle={{ color: '#e2e8f0' }}/>\n                    <Bar dataKey=\"pnl\" fill=\"#4f46e5\" background={{ fill: '#eee', fillOpacity: 0.1 }} />\n                </BarChart>\n            </ResponsiveContainer>\n            </div>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardView;\n","size_bytes":4260},"components/ToggleSwitch.tsx":{"content":"\nimport React from 'react';\n\ninterface ToggleSwitchProps {\n  enabled: boolean;\n  onChange: (enabled: boolean) => void;\n  label?: string;\n  size?: 'sm' | 'md' | 'lg';\n}\n\nconst ToggleSwitch: React.FC<ToggleSwitchProps> = ({ enabled, onChange, label, size = 'md' }) => {\n  const sizeClasses = {\n    sm: { container: 'w-10 h-5', circle: 'w-4 h-4', translate: 'translate-x-5' },\n    md: { container: 'w-12 h-6', circle: 'w-5 h-5', translate: 'translate-x-6' },\n    lg: { container: 'w-14 h-7', circle: 'w-6 h-6', translate: 'translate-x-7' },\n  };\n\n  const currentSize = sizeClasses[size];\n\n  return (\n    <label className=\"flex items-center cursor-pointer\">\n      <div className=\"relative\">\n        <input type=\"checkbox\" className=\"sr-only\" checked={enabled} onChange={(e) => onChange(e.target.checked)} />\n        <div className={`block ${enabled ? 'bg-primary' : 'bg-gray-300 dark:bg-gray-600'} ${currentSize.container} rounded-full transition`}></div>\n        <div className={`dot absolute left-0.5 top-0.5 bg-white ${currentSize.circle} rounded-full transition-transform transform ${enabled ? currentSize.translate : 'translate-x-0'}`}></div>\n      </div>\n      {label && <span className=\"ml-3 text-sm font-medium text-gray-700 dark:text-dark-text-secondary\">{label}</span>}\n    </label>\n  );\n};\n\nexport default ToggleSwitch;\n","size_bytes":1327},"pages/user-dashboard/Sidebar.tsx":{"content":"import React from 'react';\nimport Icon from '../../components/Icon';\n\ninterface SidebarProps {\n  isCollapsed: boolean;\n  setSidebarCollapsed: (collapsed: boolean) => void;\n  isMobileMenuOpen: boolean;\n  setMobileMenuOpen: (open: boolean) => void;\n  activeView: string;\n  setActiveView: (view: string) => void;\n}\n\nconst Sidebar: React.FC<SidebarProps> = ({ isCollapsed, setSidebarCollapsed, isMobileMenuOpen, setMobileMenuOpen, activeView, setActiveView }) => {\n  const navItems = [\n    { name: 'Dashboard', icon: 'dashboard' },\n    { name: 'Active Trades', icon: 'trades' },\n    { name: 'Exchanges API Setup', icon: 'exchange' },\n    { name: 'Arbitrage', icon: 'refresh' },\n    { name: 'Strategies', icon: 'strategy' },\n    { name: 'Backtesting', icon: 'backtest' },\n    { name: 'Risk Assessment', icon: 'warning' },\n    { name: 'Social Trading Hub', icon: 'users' },\n    { name: 'Advanced', icon: 'advanced' },\n    { name: 'Analytics', icon: 'analytics' },\n    { name: 'AI Strategy Optimizer', icon: 'brain' },\n    { name: 'Investment Goals', icon: 'target' },\n    { name: 'My Wallet', icon: 'wallet'},\n    { name: 'Support/Help Desk', icon: 'support' },\n    { name: 'Join Our Community', icon: 'community'},\n    { name: 'Account Settings', icon: 'settings' },\n  ];\n\n  return (\n    <div className={`fixed top-0 left-0 h-full bg-white dark:bg-dark-card text-gray-700 dark:text-dark-text-secondary flex flex-col transition-all duration-300 shadow-2xl z-40 ${isCollapsed ? 'w-20' : 'w-64'} ${isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'} lg:translate-x-0`}>\n      <div className=\"flex items-center justify-between p-4 h-16 border-b dark:border-dark-border\">\n        {!isCollapsed && <span className=\"text-xl sm:text-2xl font-bold text-primary\">SpiderBot</span>}\n        <button onClick={() => setSidebarCollapsed(!isCollapsed)} className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-dark-bg-secondary hidden lg:block\">\n          <Icon name={isCollapsed ? 'chevronRight' : 'chevronLeft'} className=\"h-6 w-6\" />\n        </button>\n        <button onClick={() => setMobileMenuOpen(false)} className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-dark-bg-secondary lg:hidden\">\n          <Icon name=\"close\" className=\"h-6 w-6\" />\n        </button>\n      </div>\n      <nav className=\"flex-1 px-2 py-4 space-y-1 overflow-y-auto\">\n        {navItems.map(item => (\n          <a\n            key={item.name}\n            href=\"#\"\n            onClick={(e) => { e.preventDefault(); setActiveView(item.name); }}\n            className={`flex items-center p-3 rounded-lg transition-colors text-sm ${activeView === item.name ? 'bg-primary text-white' : 'hover:bg-gray-100 dark:hover:bg-dark-bg-secondary'}`}\n            title={item.name}\n          >\n            <Icon name={item.icon} className=\"h-5 w-5\" />\n            {!isCollapsed && <span className=\"ml-4 font-medium\">{item.name}</span>}\n          </a>\n        ))}\n      </nav>\n      <div className=\"p-2 border-t dark:border-dark-border\">\n        <a\n          href=\"#\"\n          onClick={(e) => { e.preventDefault(); /* handle logout */ }}\n          className={`flex items-center p-3 rounded-lg transition-colors text-danger hover:bg-red-50 dark:hover:bg-red-900/20`}\n          title=\"Logout\"\n        >\n          <Icon name=\"logout\" className=\"h-5 w-5\" />\n          {!isCollapsed && <span className=\"ml-4 font-medium\">Logout</span>}\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","size_bytes":3455},"pages/user-dashboard/ArbitrageView.tsx":{"content":"import React, { useState } from 'react';\nimport Card from '../../components/Card';\nimport { ArbitrageOpportunity, ActiveArbitrage, ArbitrageTradeHistory, ArbitrageConfig } from '../../types';\nimport Icon from '../../components/Icon';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\n\n// --- MOCK DATA ---\nconst mockOpportunities: ArbitrageOpportunity[] = [\n    { id: 'op-1', path: 'USDT -> BTC -> ETH -> USDT', exchanges: 'Binance / KuCoin', profit: 0.68, timestamp: Date.now() },\n    { id: 'op-2', path: 'USDT -> SOL -> JUP -> USDT', exchanges: 'Bybit / Gate.io', profit: 0.55, timestamp: Date.now() - 1000 },\n    { id: 'op-3', path: 'USDT -> ADA -> DOT -> USDT', exchanges: 'Kraken / Binance', profit: 0.49, timestamp: Date.now() - 2000 },\n];\nconst mockActiveTrades: ActiveArbitrage[] = [\n    { id: 'at-1', path: 'USDT -> BTC -> ADA -> USDT', status: 'Executing Leg 2/3 (BTC -> ADA)', startTime: '10s ago' },\n];\nconst mockTradeHistory: ArbitrageTradeHistory[] = [\n    { id: 'th-1', timestamp: '2m ago', path: 'USDT -> BTC -> ETH -> USDT', profit: 15.23, fees: 1.2, netProfit: 14.03 },\n    { id: 'th-2', timestamp: '5m ago', path: 'USDT -> ADA -> SOL -> USDT', profit: 8.45, fees: 0.8, netProfit: 7.65 },\n    { id: 'th-3', timestamp: '8m ago', path: 'USDT -> LINK -> UNI -> USDT', profit: 11.20, fees: 1.1, netProfit: 10.10 },\n];\nconst mockPnlData = [\n    { time: '10:00', pnl: 0 }, { time: '10:05', pnl: 7.65 }, { time: '10:07', pnl: 21.68 }, { time: '10:10', pnl: 20.50 }, {time: '10:15', pnl: 31.78}\n];\n\nconst ArbitrageView: React.FC = () => {\n    const [engineRunning, setEngineRunning] = useState(false);\n    const [config, setConfig] = useState<ArbitrageConfig>({ capitalAllocation: 10000, minReturnThreshold: 0.5, maxDrawdown: 10, includedAssets: ['BTC', 'ETH', 'SOL', 'ADA'] });\n\n    return (\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6 h-full\">\n            {/* Left Column: Config & Control */}\n            <div className=\"lg:col-span-3 space-y-6\">\n                <Card>\n                    <div className=\"flex justify-between items-center mb-4\">\n                        <h2 className=\"text-xl font-bold\">Arbitrage Engine</h2>\n                        <div className={`flex items-center text-sm font-semibold ${engineRunning ? 'text-success' : 'text-gray-500'}`}>\n                            <div className={`h-2 w-2 rounded-full mr-2 ${engineRunning ? 'bg-success animate-pulse' : 'bg-gray-400'}`}></div>\n                            {engineRunning ? 'RUNNING' : 'STOPPED'}\n                        </div>\n                    </div>\n                    <button \n                        onClick={() => setEngineRunning(!engineRunning)}\n                        className={`w-full flex items-center justify-center py-3 rounded-lg font-bold text-lg transition-colors ${engineRunning ? 'bg-danger text-white hover:bg-red-700' : 'bg-success text-white hover:bg-green-700'}`}\n                    >\n                        <Icon name=\"power\" className=\"h-6 w-6 mr-2\" />\n                        {engineRunning ? 'STOP ENGINE' : 'START ENGINE'}\n                    </button>\n                </Card>\n                <Card>\n                     <h3 className=\"text-lg font-semibold mb-4\">Configuration</h3>\n                     <div className=\"space-y-4 text-sm\">\n                        <div>\n                            <label className=\"font-medium\">Capital Allocation</label>\n                            <input type=\"number\" value={config.capitalAllocation} onChange={e => setConfig(c => ({...c, capitalAllocation: +e.target.value}))} className=\"w-full mt-1 p-2 bg-gray-100 dark:bg-dark-bg-secondary rounded-md border dark:border-dark-border\"/>\n                        </div>\n                         <div>\n                            <label className=\"font-medium\">Min. Profit Threshold (%)</label>\n                            <input type=\"number\" step=\"0.01\" value={config.minReturnThreshold} onChange={e => setConfig(c => ({...c, minReturnThreshold: +e.target.value}))} className=\"w-full mt-1 p-2 bg-gray-100 dark:bg-dark-bg-secondary rounded-md border dark:border-dark-border\"/>\n                        </div>\n                         <div>\n                            <label className=\"font-medium\">Max. Drawdown Circuit Breaker (%)</label>\n                            <input type=\"number\" value={config.maxDrawdown} onChange={e => setConfig(c => ({...c, maxDrawdown: +e.target.value}))} className=\"w-full mt-1 p-2 bg-gray-100 dark:bg-dark-bg-secondary rounded-md border dark:border-dark-border\"/>\n                        </div>\n                     </div>\n                </Card>\n            </div>\n\n            {/* Center Column: Live Data */}\n            <div className=\"lg:col-span-5 space-y-6\">\n                 <Card>\n                    <div className=\"grid grid-cols-3 gap-4 text-center\">\n                        <div><p className=\"text-sm text-gray-500\">Live PnL</p><p className=\"text-2xl font-bold text-success\">+$31.78</p></div>\n                        <div><p className=\"text-sm text-gray-500\">Capital Deployed</p><p className=\"text-2xl font-bold\">$2,500</p></div>\n                        <div><p className=\"text-sm text-gray-500\">Success Rate</p><p className=\"text-2xl font-bold\">88%</p></div>\n                    </div>\n                </Card>\n                <Card>\n                    <h3 className=\"text-lg font-semibold mb-2 flex items-center\">\n                        <Icon name=\"zap\" className=\"h-5 w-5 mr-2 text-yellow-400\" />\n                        Live Opportunity Ticker\n                    </h3>\n                    <div className=\"space-y-2\">\n                        {mockOpportunities.map(op => (\n                            <div key={op.id} className=\"p-2 bg-gray-50 dark:bg-dark-bg-secondary rounded-md flex justify-between items-center\">\n                                <div>\n                                    <p className=\"text-sm font-semibold\">{op.path}</p>\n                                    <p className=\"text-xs text-gray-400\">{op.exchanges}</p>\n                                </div>\n                                <p className=\"text-lg font-bold text-success\">+{op.profit.toFixed(2)}%</p>\n                            </div>\n                        ))}\n                    </div>\n                </Card>\n                <Card>\n                    <h3 className=\"text-lg font-semibold mb-2\">Active Executions</h3>\n                    <div className=\"space-y-2\">\n                         {mockActiveTrades.map(trade => (\n                            <div key={trade.id} className=\"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md\">\n                                <p className=\"text-sm font-semibold\">{trade.path}</p>\n                                <div className=\"flex items-center text-xs mt-1\">\n                                    <div className=\"w-full bg-gray-200 rounded-full h-1.5 dark:bg-gray-700 mr-2\">\n                                        <div className=\"bg-blue-500 h-1.5 rounded-full\" style={{width: '66%'}}></div>\n                                    </div>\n                                    <span className=\"whitespace-nowrap\">{trade.status}</span>\n                                </div>\n                            </div>\n                        ))}\n                         {mockActiveTrades.length === 0 && <p className=\"text-sm text-center text-gray-500 py-4\">No active trades.</p>}\n                    </div>\n                </Card>\n            </div>\n            \n            {/* Right Column: History & Analytics */}\n            <div className=\"lg:col-span-4 space-y-6\">\n                <Card>\n                    <h3 className=\"text-lg font-semibold mb-4\">Historical Performance</h3>\n                    <div className=\"h-48\">\n                         <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <LineChart data={mockPnlData}>\n                                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(75, 85, 99, 0.2)\" />\n                                <XAxis dataKey=\"time\" stroke=\"rgba(156, 163, 175, 1)\" />\n                                <YAxis stroke=\"rgba(156, 163, 175, 1)\" domain={['dataMin - 5', 'dataMax + 5']} />\n                                <Tooltip contentStyle={{ backgroundColor: '#2d3748', border: 'none' }} />\n                                <Line type=\"monotone\" dataKey=\"pnl\" stroke=\"#10b981\" strokeWidth={2} dot={false} />\n                            </LineChart>\n                        </ResponsiveContainer>\n                    </div>\n                </Card>\n                 <Card className=\"flex-1\">\n                    <h3 className=\"text-lg font-semibold mb-2\">Trade Ledger</h3>\n                    <div className=\"overflow-y-auto max-h-96\">\n                        <table className=\"w-full text-xs\">\n                             <thead className=\"sticky top-0 bg-white dark:bg-dark-card\">\n                                <tr>\n                                    <th className=\"p-1 text-left\">Time</th>\n                                    <th className=\"p-1 text-left\">Path</th>\n                                    <th className=\"p-1 text-right\">Net Profit</th>\n                                </tr>\n                             </thead>\n                             <tbody>\n                                {mockTradeHistory.map(t => (\n                                <tr key={t.id} className=\"border-b dark:border-dark-border\">\n                                    <td className=\"p-1 text-gray-400\">{t.timestamp}</td>\n                                    <td className=\"p-1 font-medium\">{t.path}</td>\n                                    <td className=\"p-1 text-right font-semibold text-success\">${t.netProfit.toFixed(2)}</td>\n                                </tr>\n                                ))}\n                             </tbody>\n                        </table>\n                    </div>\n                </Card>\n            </div>\n        </div>\n    );\n};\n\nexport default ArbitrageView;","size_bytes":10010},"pages/user-dashboard/InvestmentGoalsView.tsx":{"content":"\nimport React, { useState } from 'react';\nimport Card from '../../components/Card';\nimport Icon from '../../components/Icon';\nimport { InvestmentGoal } from '../../types';\n\n// Mock data for initial state\nconst mockGoals: InvestmentGoal[] = [\n    {\n        id: 'goal-1',\n        name: 'House Down Payment',\n        targetAmount: 50000,\n        currentAmount: 12500,\n        targetDate: '2028-12-31',\n    },\n    {\n        id: 'goal-2',\n        name: 'New Car',\n        targetAmount: 25000,\n        currentAmount: 21000,\n        targetDate: '2025-06-30',\n    },\n    {\n        id: 'goal-3',\n        name: 'Vacation Fund',\n        targetAmount: 5000,\n        currentAmount: 1500,\n        targetDate: '2025-01-15',\n    },\n];\n\nconst ProgressBar: React.FC<{ progress: number }> = ({ progress }) => (\n    <div className=\"w-full bg-gray-200 dark:bg-dark-bg-secondary rounded-full h-2.5\">\n        <div className=\"bg-primary h-2.5 rounded-full\" style={{ width: `${progress}%` }}></div>\n    </div>\n);\n\nconst GoalCard: React.FC<{ goal: InvestmentGoal }> = ({ goal }) => {\n    const progress = (goal.currentAmount / goal.targetAmount) * 100;\n    \n    return (\n        <Card>\n            <div className=\"flex justify-between items-start\">\n                <h3 className=\"text-lg font-bold\">{goal.name}</h3>\n                <span className=\"text-xs font-semibold text-gray-500 dark:text-dark-text-secondary\">\n                    Target: {new Date(goal.targetDate).toLocaleDateString()}\n                </span>\n            </div>\n            <div className=\"mt-4\">\n                <div className=\"flex justify-between items-end mb-1\">\n                    <span className=\"text-2xl font-bold text-primary\">\n                        ${goal.currentAmount.toLocaleString()}\n                    </span>\n                    <span className=\"text-sm text-gray-500 dark:text-dark-text-secondary\">\n                        of ${goal.targetAmount.toLocaleString()}\n                    </span>\n                </div>\n                <ProgressBar progress={progress} />\n                 <p className=\"text-right text-sm font-semibold mt-1\">{progress.toFixed(1)}%</p>\n            </div>\n        </Card>\n    );\n};\n\n\nconst InvestmentGoalsView: React.FC = () => {\n    const [goals, setGoals] = useState<InvestmentGoal[]>(mockGoals);\n    const [isAdding, setIsAdding] = useState(false);\n    const [newGoal, setNewGoal] = useState({ name: '', targetAmount: '', currentAmount: '', targetDate: '' });\n\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = e.target;\n        setNewGoal(prev => ({ ...prev, [name]: value }));\n    };\n\n    const handleAddGoal = (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!newGoal.name || !newGoal.targetAmount || !newGoal.currentAmount || !newGoal.targetDate) return;\n        const goalToAdd: InvestmentGoal = {\n            id: `goal-${Date.now()}`,\n            name: newGoal.name,\n            targetAmount: parseFloat(newGoal.targetAmount),\n            currentAmount: parseFloat(newGoal.currentAmount),\n            targetDate: newGoal.targetDate,\n        };\n        setGoals(prev => [...prev, goalToAdd]);\n        setNewGoal({ name: '', targetAmount: '', currentAmount: '', targetDate: '' });\n        setIsAdding(false);\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-2xl font-bold\">Your Investment Goals</h2>\n                <button \n                    onClick={() => setIsAdding(!isAdding)}\n                    className=\"bg-primary hover:bg-primary-hover text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center\"\n                >\n                    <Icon name={isAdding ? 'cross' : 'plus'} className=\"h-5 w-5 mr-2\" />\n                    {isAdding ? 'Cancel' : 'Add New Goal'}\n                </button>\n            </div>\n            \n            {isAdding && (\n                 <Card>\n                    <form onSubmit={handleAddGoal} className=\"space-y-4\">\n                        <h3 className=\"text-lg font-bold\">Create a New Goal</h3>\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Goal Name</label>\n                            <input type=\"text\" name=\"name\" value={newGoal.name} onChange={handleInputChange} required className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2\" placeholder=\"e.g., House Down Payment\"/>\n                        </div>\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Target Amount ($)</label>\n                                <input type=\"number\" name=\"targetAmount\" value={newGoal.targetAmount} onChange={handleInputChange} required className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2\" placeholder=\"50000\"/>\n                            </div>\n                             <div>\n                                <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Current Savings ($)</label>\n                                <input type=\"number\" name=\"currentAmount\" value={newGoal.currentAmount} onChange={handleInputChange} required className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2\" placeholder=\"12000\"/>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Target Date</label>\n                                <input type=\"date\" name=\"targetDate\" value={newGoal.targetDate} onChange={handleInputChange} required className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2\"/>\n                            </div>\n                        </div>\n                        <div className=\"text-right\">\n                            <button type=\"submit\" className=\"bg-success text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 transition-colors\">\n                                Save Goal\n                            </button>\n                        </div>\n                    </form>\n                 </Card>\n            )}\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {goals.map(goal => (\n                    <GoalCard key={goal.id} goal={goal} />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default InvestmentGoalsView;\n","size_bytes":6876},"components/Icon.tsx":{"content":"import React from 'react';\n\ntype IconProps = {\n  name: string;\n  className?: string;\n};\n\nconst icons: { [key: string]: React.ElementType } = {\n  dashboard: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n    </svg>\n  ),\n  trades: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\n    </svg>\n  ),\n  exchange: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\" />\n    </svg>\n  ),\n  strategy: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n    </svg>\n  ),\n  backtest: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n    </svg>\n  ),\n  analytics: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z\" />\n    </svg>\n  ),\n  settings: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066 2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n    </svg>\n  ),\n  logout: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n    </svg>\n  ),\n  sun: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\n    </svg>\n  ),\n  moon: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\n    </svg>\n  ),\n  user: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n    </svg>\n  ),\n  chevronDown: (props) => (\n      <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n      </svg>\n  ),\n  chevronLeft: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n    </svg>\n  ),\n  chevronRight: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n    </svg>\n  ),\n  bell: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n    </svg>\n  ),\n  users: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm6-11a4 4 0 11-8 0 4 4 0 018 0z\" />\n    </svg>\n  ),\n  kyc: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2\" />\n    </svg>\n  ),\n  billing: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\" />\n    </svg>\n  ),\n  system: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01\" />\n    </svg>\n  ),\n  support: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z\" />\n    </svg>\n  ),\n  check: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n    </svg>\n  ),\n  cross: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n    </svg>\n  ),\n  refresh: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h5m11 5h-5v5m0-15h5v5M4 20h5v-5\" />\n    </svg>\n  ),\n  search: (props) => (\n     <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n    </svg>\n  ),\n  bot: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 3.782C7.362 4.605 6 6.16 6 8v8a2 2 0 002 2h8a2 2 0 002-2V8c0-1.84-1.362-3.395-3-4.218M12 18h.01M15 11h.01M9 11h.01M12 5a1 1 0 011 1v1a1 1 0 11-2 0V6a1 1 0 011-1z\" />\n    </svg>\n  ),\n  arrowUp: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 10l7-7m0 0l7 7m-7-7v18\" />\n    </svg>\n  ),\n  arrowDown: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 14l-7 7m0 0l-7-7m7 7V3\" />\n    </svg>\n  ),\n  wallet: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\" />\n    </svg>\n  ),\n  target: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 21a9 9 0 100-18 9 9 0 000 18z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 15a3 3 0 100-6 3 3 0 000 6z\" />\n      <circle cx=\"12\" cy=\"12\" r=\"1\" fill=\"currentColor\" />\n    </svg>\n  ),\n  plus: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n    </svg>\n  ),\n  copy: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n    </svg>\n  ),\n  brain: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4.871 14.735c-1.092-1.637-1.31-3.66-1.04-5.61.27-1.95 1.2-3.78 2.65-5.23M19.129 9.265c1.092 1.637 1.31 3.66 1.04 5.61-.27 1.95-1.2 3.78-2.65 5.23M9 11a3 3 0 013-3v0a3 3 0 013 3v0a3 3 0 01-3 3v0a3 3 0 01-3-3v0zm-2 6a1 1 0 011-1h4a1 1 0 110 2H8a1 1 0 01-1-1z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 21a9 9 0 00-9-9 8.989 8.989 0 003.7-1.03M12 21a9 9 0 019-9 8.989 8.989 0 01-3.7-1.03M12 3a9 9 0 019 9 8.989 8.989 0 01-3.7 1.03M12 3a9 9 0 00-9 9 8.989 8.989 0 003.7 1.03\" />\n    </svg>\n  ),\n  warning: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n    </svg>\n  ),\n  community: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n    </svg>\n  ),\n  advanced: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 3v4M3 5h4M5 21v-4M3 19h4M12 3v4M10 5h4M12 21v-4M10 19h4M19 3v4M17 5h4M19 21v-4M17 19h4\" />\n    </svg>\n  ),\n  share: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.368a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\" />\n    </svg>\n  ),\n  portfolio: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 17v-2a4 4 0 00-4-4H3V7h2a4 4 0 004-4V3h5v2a4 4 0 004 4h2v4h-2a4 4 0 00-4 4v2H9z\" />\n    </svg>\n  ),\n  play: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n    </svg>\n  ),\n  pause: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n    </svg>\n  ),\n  clone: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n    </svg>\n  ),\n  template: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2-2H6a2 2 0 01-2-2V6zm4 0v12m8-12v12\" />\n    </svg>\n  ),\n  wizard: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 2.25c.998 0 1.93.42 2.599 1.126l.002.002c.038.037.073.076.107.115l2.09 2.28c.843.916.843 2.39 0 3.306l-2.09 2.28a3.733 3.733 0 01-1.127 1.018l-.002.001c-.67.334-1.39.516-2.14.516-.998 0-1.93-.42-2.599-1.126l-.002-.002a3.734 3.734 0 01-1.127-2.618v-1.5c0-.998.42-1.93 1.126-2.599l.002-.002c.038-.037.073-.076.107-.115l2.09-2.28A3.733 3.733 0 0110.873 3.37l.002-.001c.67-.334 1.39-.516 2.14-.516zm-7.5 10.5c0 .998-.42 1.93-1.126 2.599l-.002.002c-.037.038-.076.073-.115.107l-2.28 2.09c-.916.843-2.39.843-3.306 0l-2.28-2.09a3.733 3.733 0 01-1.018-1.127l-.001-.002c-.334-.67-.516-1.39-.516-2.14 0-.998.42-1.93 1.126-2.599l.002-.002c.037-.038.076-.073.115-.107l2.28-2.09c.916-.843 2.39-.843 3.306 0l2.28 2.09c.302.278.556.59.758.93l.001.002c.334.67.516 1.39.516 2.14z\" />\n    </svg>\n  ),\n  audit: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n    </svg>\n  ),\n  inbox: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4\" />\n    </svg>\n  ),\n  heartbeat: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7.5 10.5l2.5 2.5 2.5-5\" />\n    </svg>\n  ),\n  flag: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6H8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9\" />\n    </svg>\n  ),\n  edit: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\" />\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" />\n    </svg>\n  ),\n  compare: (props) => (\n     <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19V5l-2 2m4 12V5l2 2m-4 5h10\"/>\n    </svg>\n  ),\n  beaker: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21h10a2 2 0 002-2V8a2 2 0 00-2-2h-2.172a2 2 0 01-1.414-.586l-.707-.707A2 2 0 0012.172 4H11.828a2 2 0 00-1.414.586l-.707.707A2 2 0 018.172 6H6a2 2 0 00-2 2v11a2 2 0 002 2zm10-12h-2M7 9H5\" />\n    </svg>\n  ),\n  'trending-up': (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n    </svg>\n  ),\n  indicators: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18\" />\n    </svg>\n  ),\n  replay: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 5H6a2 2 0 00-2 2v10a2 2 0 002 2h2v-1.5M16 5h2a2 2 0 012 2v10a2 2 0 01-2 2h-2V5zm-4 14V5\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12l-4-3v6l4-3z\" />\n    </svg>\n  ),\n  'plus-circle': (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\" />\n    </svg>\n  ),\n  clock: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n    </svg>\n  ),\n  'dots-horizontal': (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 12h.01M12 12h.01M19 12h.01\" />\n    </svg>\n  ),\n  watchlist: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 10h16M4 14h16M4 18h16\" />\n    </svg>\n  ),\n  calendar: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n    </svg>\n  ),\n   news: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4 12h4m-4 0H9\" />\n    </svg>\n  ),\n  power: (props) => (\n     <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5.636 5.636a9 9 0 1012.728 0M12 3v9\" />\n    </svg>\n  ),\n  zap: (props) => (\n    <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n    </svg>\n  )\n};\n\nconst Icon: React.FC<IconProps> = ({ name, className = 'h-6 w-6' }) => {\n  const IconComponent = icons[name];\n  return IconComponent ? <IconComponent className={className} /> : null;\n};\n\nexport default Icon;\n","size_bytes":21780},"pages/admin-dashboard/KycManagementView.tsx":{"content":"\nimport React, { useState } from 'react';\nimport Card from '../../components/Card';\nimport { KycApplication } from '../../types';\nimport Icon from '../../components/Icon';\n\n// Fix: Add missing 'submittedDate' property to align with the KycApplication type.\nconst mockKycApps: KycApplication[] = [\n  { userId: 'USR-11A2', userEmail: 'john.doe@email.com', tier: 'Tier 2', documentType: 'Passport', timeInQueue: '15m', status: 'Pending', riskScore: 'Low', submittedDate: '2024-07-21T10:30:00Z' },\n  { userId: 'USR-B3C4', userEmail: 'jane.smith@email.com', tier: 'Tier 2', documentType: 'Driver\\'s License', timeInQueue: '1h', status: 'Pending', riskScore: 'Medium', submittedDate: '2024-07-21T09:45:00Z' },\n  { userId: 'USR-9D5E', userEmail: 'sam.wilson@email.com', tier: 'Tier 1', documentType: 'ID Card', timeInQueue: '3h', status: 'Requires Resubmission', riskScore: 'High', submittedDate: '2024-07-21T07:15:00Z' },\n];\n\nconst KycManagementView: React.FC = () => {\n    const [selectedApp, setSelectedApp] = useState<KycApplication | null>(mockKycApps[1]);\n\n    const getStatusClasses = (status: KycApplication['status']) => {\n        switch (status) {\n            case 'Pending': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300';\n            case 'Approved': return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300';\n            case 'Failed': return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300';\n            case 'Requires Resubmission': return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300';\n            default: return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\n        }\n    };\n\n    const getRiskClasses = (risk: KycApplication['riskScore']) => {\n        switch(risk) {\n            case 'Low': return 'text-success';\n            case 'Medium': return 'text-warning';\n            case 'High': return 'text-danger';\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <Card>\n                <h2 className=\"text-xl font-bold mb-4\">KYC Verification Queue</h2>\n                 <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-sm text-left text-gray-500 dark:text-dark-text-secondary\">\n                        <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-dark-bg-secondary dark:text-dark-text-secondary\">\n                            <tr>\n                                <th scope=\"col\" className=\"px-6 py-3\">User ID</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Email</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Tier</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Status</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Risk</th>\n                                {/* Fix: Changed header from \"Submitted\" to \"Time in Queue\" to match the data being displayed. */}\n                                <th scope=\"col\" className=\"px-6 py-3\">Time in Queue</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                           {mockKycApps.map(app => (\n                               <tr key={app.userId} onClick={() => setSelectedApp(app)} className=\"bg-white border-b dark:bg-dark-card dark:border-dark-border hover:bg-gray-50 dark:hover:bg-dark-bg-secondary cursor-pointer\">\n                                   <td className=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\">{app.userId}</td>\n                                   <td className=\"px-6 py-4\">{app.userEmail}</td>\n                                   <td className=\"px-6 py-4\">{app.tier}</td>\n                                   <td className=\"px-6 py-4\"><span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusClasses(app.status)}`}>{app.status}</span></td>\n                                   <td className={`px-6 py-4 font-bold ${getRiskClasses(app.riskScore)}`}>{app.riskScore}</td>\n                                   <td className=\"px-6 py-4\">{app.timeInQueue}</td>\n                               </tr>\n                           ))}\n                        </tbody>\n                    </table>\n                </div>\n            </Card>\n\n            {selectedApp && (\n                <Card>\n                    <h2 className=\"text-xl font-bold mb-4\">Review Application: {selectedApp.userId}</h2>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                        {/* Document Review */}\n                        <div className=\"md:col-span-2 space-y-4\">\n                            <h3 className=\"font-semibold\">Document Review</h3>\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                                <div className=\"border dark:border-dark-border p-2 rounded-lg\">\n                                    <p className=\"text-sm font-medium mb-2\">ID Document (Front)</p>\n                                    <img src={`https://picsum.photos/seed/${selectedApp.userId}1/400/250`} alt=\"ID Front\" className=\"rounded\"/>\n                                </div>\n                                <div className=\"border dark:border-dark-border p-2 rounded-lg\">\n                                    <p className=\"text-sm font-medium mb-2\">Liveness/Selfie Check</p>\n                                    <img src={`https://picsum.photos/seed/${selectedApp.userId}2/400/250`} alt=\"Selfie\" className=\"rounded\"/>\n                                </div>\n                            </div>\n                            <div className=\"bg-gray-50 dark:bg-dark-bg-secondary p-4 rounded-lg\">\n                                <h4 className=\"font-semibold mb-2\">OCR Extracted Data</h4>\n                                <p className=\"text-sm\"><strong>Name:</strong> Jane Smith</p>\n                                <p className=\"text-sm\"><strong>DOB:</strong> 1990-05-15</p>\n                                <p className=\"text-sm\"><strong>Expires:</strong> 2028-05-14</p>\n                            </div>\n                        </div>\n\n                        {/* Compliance & Actions */}\n                        <div>\n                            <h3 className=\"font-semibold mb-4\">Compliance Screening</h3>\n                            <div className=\"space-y-2 text-sm mb-6\">\n                                <p><strong>Sanctions Check:</strong> <span className=\"text-success\">Clear</span></p>\n                                <p><strong>PEP Status:</strong> <span className=\"text-success\">Clear</span></p>\n                                <p><strong>Adverse Media:</strong> <span className=\"text-warning\">1 potential match</span></p>\n                                <p><strong>Document Tamper Score:</strong> <span className=\"text-success\">Low</span></p>\n                            </div>\n\n                            <h3 className=\"font-semibold mb-2\">Actions</h3>\n                            <div className=\"space-y-2\">\n                                <button className=\"w-full flex items-center justify-center bg-success/90 text-white py-2 rounded-lg hover:bg-success transition-colors\">\n                                    <Icon name=\"check\" className=\"h-5 w-5 mr-2\" /> Approve\n                                </button>\n                                <button className=\"w-full flex items-center justify-center bg-danger/90 text-white py-2 rounded-lg hover:bg-danger transition-colors\">\n                                    <Icon name=\"cross\" className=\"h-5 w-5 mr-2\" /> Reject\n                                </button>\n                                <button className=\"w-full flex items-center justify-center bg-blue-500/90 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors\">\n                                    <Icon name=\"refresh\" className=\"h-5 w-5 mr-2\" /> Request Resubmission\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </Card>\n            )}\n        </div>\n    );\n};\n\nexport default KycManagementView;","size_bytes":8129},"pages/user-dashboard/AIStrategyOptimizerView.tsx":{"content":"\nimport React, { useState, useEffect } from 'react';\nimport Card from '../../components/Card';\nimport Icon from '../../components/Icon';\nimport { OptimizationResult } from '../../types';\n\nconst mockResults: OptimizationResult[] = [\n    { timeframe: '4h', totalReturn: 85.2, maxDrawdown: 12.5, winRate: 68, robustnessScore: 92, trades: 150, weeklyProfitability: 1.64, sharpeRatio: 2.1 },\n    { timeframe: '1d', totalReturn: 65.7, maxDrawdown: 9.8, winRate: 75, robustnessScore: 88, trades: 65, weeklyProfitability: 1.26, sharpeRatio: 2.5 },\n    { timeframe: '1h', totalReturn: 110.4, maxDrawdown: 25.1, winRate: 59, robustnessScore: 65, trades: 620, weeklyProfitability: 2.12, sharpeRatio: 1.8 },\n];\n\nconst sortedResults = [...mockResults].sort((a,b) => b.robustnessScore - a.robustnessScore);\n\nconst ConfigStep: React.FC<{ onStart: () => void }> = ({ onStart }) => (\n    <Card className=\"max-w-2xl mx-auto\">\n        <h2 className=\"text-2xl font-bold mb-2\">AI Strategy Optimizer</h2>\n        <p className=\"text-gray-500 dark:text-dark-text-secondary mb-6\">Let AI find the most profitable configuration for your trading strategy.</p>\n        <div className=\"space-y-4\">\n            <div>\n                <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Asset Selection</label>\n                <select className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2\">\n                    <option>BTC/USDT</option>\n                    <option>ETH/USDT</option>\n                    <option>SOL/USDT</option>\n                </select>\n            </div>\n            <div>\n                <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Strategy Selection</label>\n                <select className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2\">\n                    <option>Moving Average Crossover</option>\n                    <option>RSI Divergence</option>\n                    <option>Bollinger Bands</option>\n                </select>\n            </div>\n            <div>\n                <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Historical Data Range</label>\n                <select className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2\">\n                    <option>Last 6 months</option>\n                    <option>Last 1 year</option>\n                    <option>All available data</option>\n                </select>\n            </div>\n             <div>\n                <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Candlestick Intervals to Test</label>\n                <div className=\"flex space-x-4\">\n                    {['1h', '4h', '1d'].map(interval => (\n                        <label key={interval} className=\"flex items-center\">\n                            <input type=\"checkbox\" defaultChecked className=\"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary\"/>\n                            <span className=\"ml-2 text-sm\">{interval}</span>\n                        </label>\n                    ))}\n                </div>\n            </div>\n            <div>\n                <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Optimization Goal</label>\n                <select className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2\">\n                    <option>Maximize Sharpe Ratio (Recommended)</option>\n                    <option>Maximize Total Profit</option>\n                    <option>Minimize Maximum Drawdown</option>\n                </select>\n            </div>\n            <button onClick={onStart} className=\"w-full bg-primary text-white font-bold py-3 rounded-lg hover:bg-primary-hover transition-colors mt-4\">\n                Start AI Analysis\n            </button>\n        </div>\n    </Card>\n);\n\nconst LoadingStep: React.FC = () => {\n    const messages = [\"Analyzing historical data...\", \"Running thousands of simulations...\", \"Applying machine learning models...\", \"Calculating risk-adjusted metrics...\"];\n    const [message, setMessage] = useState(messages[0]);\n    \n    useEffect(() => {\n        let i = 0;\n        const interval = setInterval(() => {\n            i = (i + 1) % messages.length;\n            setMessage(messages[i]);\n        }, 1000);\n        return () => clearInterval(interval);\n    }, []);\n\n    return (\n         <div className=\"text-center\">\n            <Icon name=\"brain\" className=\"h-16 w-16 text-primary mx-auto animate-pulse\" />\n            <h2 className=\"text-2xl font-bold mt-4\">AI Analysis in Progress</h2>\n            <p className=\"text-gray-500 dark:text-dark-text-secondary mt-2\">{message}</p>\n        </div>\n    );\n}\n\nconst ResultsStep: React.FC<{ onReset: () => void }> = ({ onReset }) => (\n    <div className=\"space-y-6\">\n       <div className=\"flex justify-between items-center\">\n           <h2 className=\"text-2xl font-bold\">Optimization Results</h2>\n           <button onClick={onReset} className=\"bg-gray-200 dark:bg-dark-bg-secondary font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\">\n               Run New Analysis\n           </button>\n       </div>\n\n       <Card className=\"bg-primary/10 dark:bg-primary/20 border-l-4 border-primary\">\n           <h3 className=\"text-lg font-bold\">Optimal Configuration Found</h3>\n           <p className=\"mt-2\">Use a <span className=\"font-semibold text-primary\">{sortedResults[0].timeframe}</span> interval with a 50-period and 200-period EMA. Projected Annual Return: <span className=\"font-semibold text-success\">+{sortedResults[0].totalReturn}%</span></p>\n           <button className=\"bg-primary text-white font-bold py-2 px-4 rounded-lg hover:bg-primary-hover transition-colors mt-4 text-sm\">\n               Apply These Settings\n           </button>\n       </Card>\n\n        <Card>\n           <h3 className=\"text-xl font-bold mb-4\">Performance Matrix</h3>\n            <div className=\"overflow-x-auto\">\n               <table className=\"w-full text-sm text-left\">\n                   <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-dark-bg-secondary dark:text-dark-text-secondary\">\n                       <tr>\n                           <th className=\"px-6 py-3\">Timeframe</th>\n                           <th className=\"px-6 py-3\">Total Return</th>\n                           <th className=\"px-6 py-3\">Max Drawdown</th>\n                           <th className=\"px-6 py-3\">Win Rate</th>\n                           <th className=\"px-6 py-3\">Robustness Score</th>\n                           <th className=\"px-6 py-3\">Action</th>\n                       </tr>\n                   </thead>\n                   <tbody>\n                       {sortedResults.map(res => (\n                           <tr key={res.timeframe} className=\"border-b dark:border-dark-border hover:bg-gray-50 dark:hover:bg-dark-bg-secondary\">\n                               <td className=\"px-6 py-4 font-bold\">{res.timeframe}</td>\n                               <td className=\"px-6 py-4 text-success font-semibold\">+{res.totalReturn.toFixed(1)}%</td>\n                               <td className=\"px-6 py-4 text-danger\">{res.maxDrawdown.toFixed(1)}%</td>\n                               <td className=\"px-6 py-4\">{res.winRate}%</td>\n                               <td className=\"px-6 py-4 font-bold\">{res.robustnessScore}/100</td>\n                               <td className=\"px-6 py-4\">\n                                   <button className=\"bg-primary/10 text-primary hover:bg-primary/20 font-semibold py-1 px-3 rounded-lg text-xs\">Apply</button>\n                               </td>\n                           </tr>\n                       ))}\n                   </tbody>\n               </table>\n           </div>\n       </Card>\n   </div>\n);\n\n\nconst AIStrategyOptimizerView: React.FC = () => {\n    const [step, setStep] = useState<'config' | 'loading' | 'results'>('config');\n\n    useEffect(() => {\n        let timer: ReturnType<typeof setTimeout>;\n        if (step === 'loading') {\n            timer = setTimeout(() => setStep('results'), 4000);\n        }\n        return () => clearTimeout(timer);\n    }, [step]);\n    \n    return (\n        <div>\n            {step === 'config' && <ConfigStep onStart={() => setStep('loading')} />}\n            {step === 'loading' && <LoadingStep />}\n            {step === 'results' && <ResultsStep onReset={() => setStep('config')} />}\n        </div>\n    );\n};\n\nexport default AIStrategyOptimizerView;\n","size_bytes":8753},"index.tsx":{"content":"\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\nconst rootElement = document.getElementById('root');\nif (!rootElement) {\n  throw new Error(\"Could not find root element to mount to\");\n}\n\nconst root = ReactDOM.createRoot(rootElement);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n","size_bytes":351},"pages/admin-dashboard/AdminSidebar.tsx":{"content":"import React from 'react';\nimport Icon from '../../components/Icon';\n\ninterface AdminSidebarProps {\n  isCollapsed: boolean;\n  setSidebarCollapsed: (collapsed: boolean) => void;\n  isMobileMenuOpen: boolean;\n  setMobileMenuOpen: (open: boolean) => void;\n  activeView: string;\n  setActiveView: (view: string) => void;\n}\n\nconst AdminSidebar: React.FC<AdminSidebarProps> = ({ isCollapsed, setSidebarCollapsed, isMobileMenuOpen, setMobileMenuOpen, activeView, setActiveView }) => {\n  const navSections = [\n    {\n      title: \"Overview & Analytics\",\n      items: [\n        { name: 'Dashboard', icon: 'dashboard' },\n        { name: 'Performance Metrics', icon: 'analytics' },\n      ]\n    },\n    {\n      title: \"Trading Platform\",\n      items: [\n        { name: 'Bot Management', icon: 'bot' },\n        { name: 'Exchange & API Keys', icon: 'exchange' },\n        { name: 'Order & Trade Logs', icon: 'trades' },\n      ]\n    },\n    {\n      title: \"User Management\",\n      items: [\n        { name: 'User List / CRM', icon: 'users' },\n        { name: 'KYC Management', icon: 'kyc' },\n        { name: 'Roles & Permissions', icon: 'settings' },\n      ]\n    },\n    {\n      title: \"Financial & Billing\",\n      items: [\n        { name: 'Platform Treasury', icon: 'wallet' },\n        { name: 'Billing & Subscriptions', icon: 'billing' },\n      ]\n    },\n    {\n        title: \"System Health\",\n        items: [\n            { name: 'System Status', icon: 'system' },\n            { name: 'Bot Health / Heartbeats', icon: 'heartbeat' },\n        ]\n    },\n    {\n      title: \"Notifications & Alerts\",\n      items: [\n        { name: 'Admin Inbox', icon: 'inbox' },\n        { name: 'Audit Trail', icon: 'audit' },\n      ]\n    },\n    {\n        title: \"Settings\",\n        items: [\n            { name: 'Feature Flags', icon: 'flag' },\n        ]\n    },\n    {\n        title: \"Support\",\n        items: [\n            { name: 'Support Tickets', icon: 'support' },\n        ]\n    }\n  ];\n\n  return (\n    <div className={`fixed top-0 left-0 h-full bg-white dark:bg-dark-card text-gray-700 dark:text-dark-text-secondary flex flex-col transition-all duration-300 shadow-2xl z-40 ${isCollapsed ? 'w-20' : 'w-64'} ${isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'} lg:translate-x-0`}>\n      <div className=\"flex items-center justify-between p-4 h-16 border-b dark:border-dark-border\">\n        {!isCollapsed && <span className=\"text-xl sm:text-2xl font-bold text-danger\">SpiderBot</span>}\n        <button onClick={() => setSidebarCollapsed(!isCollapsed)} className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-dark-bg-secondary hidden lg:block\">\n          <Icon name={isCollapsed ? 'chevronRight' : 'chevronLeft'} className=\"h-6 w-6\" />\n        </button>\n        <button onClick={() => setMobileMenuOpen(false)} className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-dark-bg-secondary lg:hidden\">\n          <Icon name=\"close\" className=\"h-6 w-6\" />\n        </button>\n      </div>\n      <nav className=\"flex-1 px-2 py-4 space-y-2 overflow-y-auto\">\n        {navSections.map(section => (\n          <div key={section.title}>\n            {!isCollapsed && <h3 className=\"px-3 text-xs font-semibold uppercase text-gray-400 mb-1\">{section.title}</h3>}\n            {section.items.map(item => (\n              <a\n                key={item.name}\n                href=\"#\"\n                onClick={(e) => { e.preventDefault(); setActiveView(item.name); }}\n                className={`flex items-center p-3 rounded-lg transition-colors text-sm ${activeView === item.name ? 'bg-danger/80 text-white' : 'hover:bg-gray-100 dark:hover:bg-dark-bg-secondary'}`}\n                 title={item.name}\n              >\n                <Icon name={item.icon} className=\"h-5 w-5\" />\n                {!isCollapsed && <span className=\"ml-4 font-medium\">{item.name}</span>}\n              </a>\n            ))}\n             {isCollapsed && section.title === 'User Management' && <hr className=\"my-2 border-gray-200 dark:border-dark-border\"/>}\n          </div>\n        ))}\n      </nav>\n       <div className=\"p-2 border-t dark:border-dark-border\">\n        <a href=\"#\" className={`flex items-center p-3 rounded-lg transition-colors text-gray-700 dark:text-dark-text-secondary hover:bg-gray-100 dark:hover:bg-dark-bg-secondary`}>\n          <Icon name=\"user\" className=\"h-5 w-5\" />\n          {!isCollapsed && <span className=\"ml-4 font-medium\">Admin User</span>}\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminSidebar;","size_bytes":4471},"pages/admin-dashboard/AdminHomeView.tsx":{"content":"\nimport React from 'react';\nimport Card from '../../components/Card';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, Legend } from 'recharts';\nimport Icon from '../../components/Icon';\nimport { SystemHealth } from '../../types';\n\nconst systemHealthData: SystemHealth[] = [\n    { name: 'Binance API', status: 'ok', metric: '25ms' },\n    { name: 'Bybit API', status: 'ok', metric: '40ms' },\n    { name: 'Trading Engine', status: 'ok', metric: '65% Load' },\n    { name: 'Database', status: 'warning', metric: '150ms latency' },\n    { name: 'Unprocessed Signals', status: 'ok', metric: '2' },\n];\n\nconst feesData = [ { day: 'Mon', fees: 2500 }, { day: 'Tue', fees: 3200 }, { day: 'Wed', fees: 2800 }, { day: 'Thu', fees: 4100 }, { day: 'Fri', fees: 5500 }, { day: 'Sat', fees: 6200 }, { day: 'Sun', fees: 5800 }];\nconst aumData = [{ name: 'BTC', value: 200.3 }, { name: 'ETH', value: 150.1 }, { name: 'USDT', value: 100.3 }];\nconst AUM_COLORS = ['#f59e0b', '#60a5fa', '#10b981'];\n\nconst getStatusColor = (status: string) => {\n    if (status === 'ok') return 'text-success';\n    if (status === 'warning') return 'text-warning';\n    return 'text-danger';\n};\n\nconst AuditLogItem: React.FC<{ action: string, user: string, time: string }> = ({ action, user, time }) => (\n    <div className=\"flex items-start text-sm py-2\">\n        <div className=\"bg-gray-100 dark:bg-dark-bg-secondary p-1.5 rounded-full mr-3\">\n            <Icon name=\"search\" className=\"h-4 w-4 text-gray-500\" />\n        </div>\n        <div>\n            <p className=\"font-medium\">{action}</p>\n            <p className=\"text-xs text-gray-400\">{user} - {time}</p>\n        </div>\n    </div>\n);\n\nconst AdminHomeView: React.FC = () => {\n    return (\n        <div className=\"space-y-6\">\n            {/* KPI Row */}\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6\">\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Total Users</p><p className=\"text-2xl lg:text-3xl font-bold mt-1\">24,812</p></Card>\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">24h Volume</p><p className=\"text-2xl lg:text-3xl font-bold mt-1\">$1.2B</p></Card>\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Platform AUM</p><p className=\"text-2xl lg:text-3xl font-bold mt-1\">$450.7M</p></Card>\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Active Bots</p><p className=\"text-2xl lg:text-3xl font-bold mt-1\">18,345</p></Card>\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Pending Actions</p><p className=\"text-2xl lg:text-3xl font-bold text-warning mt-1\">17</p></Card>\n            </div>\n\n            {/* Main Dashboard Grid */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                \n                {/* Left Column */}\n                <div className=\"lg:col-span-2 space-y-6\">\n                    <Card>\n                        <h3 className=\"text-lg font-semibold mb-4\">Platform Fees Collected (Last 7 Days)</h3>\n                        <div className=\"h-72\">\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                <BarChart data={feesData}><CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(75, 85, 99, 0.3)\" /><XAxis dataKey=\"day\" stroke=\"rgba(156, 163, 175, 1)\" /><YAxis stroke=\"rgba(156, 163, 175, 1)\" /><Tooltip contentStyle={{ backgroundColor: '#2d3748', border: 'none' }} labelStyle={{ color: '#e2e8f0' }}/><Bar dataKey=\"fees\" fill=\"#4f46e5\" /></BarChart>\n                            </ResponsiveContainer>\n                        </div>\n                    </Card>\n                     <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <Card>\n                             <h3 className=\"text-lg font-semibold mb-4\">System Health</h3>\n                             <div className=\"space-y-3\">\n                                {systemHealthData.map(item => (\n                                    <div key={item.name} className=\"flex justify-between items-center text-sm\">\n                                        <div className=\"flex items-center\">\n                                            <div className={`h-2.5 w-2.5 rounded-full mr-2 ${getStatusColor(item.status).replace('text-', 'bg-')}`}></div>\n                                            <span>{item.name}</span>\n                                        </div>\n                                        <span className=\"font-semibold\">{item.metric}</span>\n                                    </div>\n                                ))}\n                             </div>\n                        </Card>\n                        <Card>\n                             <h3 className=\"text-lg font-semibold mb-4\">Platform AUM Split</h3>\n                             <div className=\"h-48\">\n                                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                    <PieChart>\n                                        <Pie data={aumData} cx=\"50%\" cy=\"50%\" outerRadius={80} dataKey=\"value\" nameKey=\"name\">\n                                            {aumData.map((entry, index) => <Cell key={`cell-${index}`} fill={AUM_COLORS[index % AUM_COLORS.length]} />)}\n                                        </Pie>\n                                        <Tooltip contentStyle={{ backgroundColor: '#2d3748', border: 'none' }} labelStyle={{ color: '#e2e8f0' }}/>\n                                        <Legend />\n                                    </PieChart>\n                                </ResponsiveContainer>\n                            </div>\n                        </Card>\n                     </div>\n                </div>\n                \n                {/* Right Column */}\n                <div className=\"lg:col-span-1 space-y-6\">\n                     <Card>\n                        <h3 className=\"text-lg font-semibold mb-2\">Pending Admin Actions</h3>\n                        <div className=\"space-y-3 text-sm\">\n                            <div className=\"flex justify-between items-center\"><p>KYC Pending Review</p><span className=\"font-bold text-warning\">8</span></div>\n                            <div className=\"flex justify-between items-center\"><p>Large Withdrawals</p><span className=\"font-bold text-warning\">3</span></div>\n                            <div className=\"flex justify-between items-center\"><p>Open Support Tickets</p><span className=\"font-bold text-warning\">6</span></div>\n                        </div>\n                    </Card>\n                    <Card>\n                        <h3 className=\"text-lg font-semibold mb-2\">Recent Audit Trail</h3>\n                        <div className=\"divide-y divide-gray-200 dark:divide-dark-border -mx-6 px-6\">\n                            <AuditLogItem action=\"Changed global fee to 0.18%\" user=\"SuperAdmin\" time=\"5m ago\" />\n                            <AuditLogItem action=\"Approved KYC for User ID 12345\" user=\"Mod Y\" time=\"15m ago\" />\n                            <AuditLogItem action=\"Force-closed position on BOT-C3\" user=\"RiskManager\" time=\"1h ago\" />\n                        </div>\n                    </Card>\n                </div>\n\n            </div>\n        </div>\n    );\n};\n\nexport default AdminHomeView;\n","size_bytes":7469},"pages/user-dashboard/StrategiesView.tsx":{"content":"\nimport React, { useState, useContext } from 'react';\nimport Card from '../../components/Card';\nimport ToggleSwitch from '../../components/ToggleSwitch';\nimport { UserStrategy, StrategyTemplate, DcaConfig, GridConfig, AlgoStrategyConfig, CandlestickData, StrategyType, NormalGridConfig, NormalDCAConfig, TrendFollowingConfig, MeanReversionConfig, VolatilityBreakoutConfig, TradingViewWebhookConfig, DipAnalyserConfig, SignalBotConfig, UTCTimestamp } from '../../types';\nimport Icon from '../../components/Icon';\nimport TradingViewWidget from '../../components/TradingViewWidget';\nimport { ThemeContext } from '../../App';\nimport NormalGridConfigPanel from '../../components/strategies/NormalGridConfigPanel';\nimport NormalDCAConfigPanel from '../../components/strategies/NormalDCAConfigPanel';\nimport TrendFollowingConfigPanel from '../../components/strategies/TrendFollowingConfigPanel';\nimport MeanReversionConfigPanel from '../../components/strategies/MeanReversionConfigPanel';\nimport VolatilityBreakoutConfigPanel from '../../components/strategies/VolatilityBreakoutConfigPanel';\nimport TradingViewWebhookConfigPanel from '../../components/strategies/TradingViewWebhookConfigPanel';\nimport DipAnalyserConfigPanel from '../../components/strategies/DipAnalyserConfigPanel';\nimport SignalBotConfigPanel from '../../components/strategies/SignalBotConfigPanel';\n\n// --- MOCK DATA ---\nconst mockUserStrategies: UserStrategy[] = [\n    { id: 'us-1', name: 'BTC Aggressive DCA', type: 'Advanced DCA', pair: 'BTC/USDT', status: 'Active', pnl: 125.50, config: { marketType: 'FUTURES', initialBuy: 20, openPositionDoubled: true, marginCallLimit: 10, marginCallDrop: 1.5, multipleBuyRatio: 1.5, wholePositionTPRatio: 1.2, wholePositionTPCallback: 0.2, tpRule: 'Combined TP', timeframe: '4h', startOrderType: 'MARKET', startCondition: 'RSI < 30', buyInCallback: 0.5, tpBasis: '% by Average Price', subPositionTPCallback: 1.5, soScalingType: 'Geometric', maxSOPriceDeviation: 15, maxActiveSOs: 3, soPriceStepMultiplier: 1.3, rebuy: 1.3, rebuyCallbackRatio: 1.3, maxLossSL: 25, trailingSL: true, trailingSLCallback: 2, cooldownPeriod: 4, maxDrawdownLimit: 50, totalUsedUSDT: 1000, maxTradesPerDay: 10, tradingWindowStart: '00:00', tradingWindowEnd: '23:59', reinvestProfit: true, leverage: 5, marginMode: 'Isolated' } },\n    { id: 'us-2', name: 'ETH Stable Grid', type: 'Advanced Grid', pair: 'ETH/USDT', status: 'Active', pnl: 88.20, config: { marketType: 'SPOT', rangeType: 'AI_OPTIMIZED', aiModel: 'notebook', analysisPeriod: 90, lowerPrice: 3500, upperPrice: 4000, gridCount: 50, investmentAmount: 2000, gridSpacingType: 'Geometric', startCondition: 'None', pumpProtection: true, timeframeForPumpDump: 15, trailingUp: true, trailingUpPercentage: 2, trailingDown: false, trailingDownPercentage: 2, stopLossTrailing: true, stopLossTrailingPercentage: 5, stopLossPrice: 3300, rangeBreakoutAction: 'Stop Bot', maxInventoryLimit: 0.5, compoundingProfit: true, gridRedeploymentStrategy: 'Auto-Restart New AI', orderDirection: 'Neutral', leverageRatio: 1, marginMode: 'Cross', autoMarginTransfer: false, hedgeGridToggle: false } },\n    { id: 'us-3', name: 'SOL Scalper Signals', type: 'Signal Bot', pair: 'SOL/USDT', status: 'Paused', pnl: -15.80, config: {} },\n    { id: 'us-4', name: 'BTC Cautious DCA', type: 'Advanced DCA', pair: 'BTC/USDT', status: 'Error', pnl: -45.10, config: { marketType: 'SPOT', initialBuy: 10, openPositionDoubled: false, marginCallLimit: 5, marginCallDrop: 2, multipleBuyRatio: 1.2, wholePositionTPRatio: 2, wholePositionTPCallback: 0.5, tpRule: '1st & last TP', timeframe: '4h', startOrderType: 'LIMIT', startCondition: 'None', buyInCallback: 0.2, tpBasis: '% by Base Order Value', subPositionTPCallback: 2, soScalingType: 'Arithmetic', maxSOPriceDeviation: 20, maxActiveSOs: 2, soPriceStepMultiplier: 1.5, rebuy: 2, rebuyCallbackRatio: 0.5, maxLossSL: 15, trailingSL: false, trailingSLCallback: 5, cooldownPeriod: 24, maxDrawdownLimit: 30, totalUsedUSDT: 500, maxTradesPerDay: 2, tradingWindowStart: '09:00', tradingWindowEnd: '17:00', reinvestProfit: false, leverage: 1, marginMode: 'Cross' } },\n];\n\nconst strategyMarketplace = [\n    { type: 'Advanced DCA', description: 'A robust strategy that averages down your entry price by placing subsequent buy orders if the price moves against you.', icon: 'arrowDown' },\n    { type: 'Advanced Grid', description: 'Uses manual or AI-powered ranges to set up a grid of buy and sell orders to profit from volatility.', icon: 'bot' },\n    { type: 'Normal Grid', description: 'Simplified grid trading bot with basic upper/lower price range and grid count settings for range-bound markets.', icon: 'bot' },\n    { type: 'Normal DCA', description: 'Basic dollar-cost averaging bot with simple safety orders and take profit settings for accumulation strategies.', icon: 'arrowDown' },\n    { type: 'Quantitative Strategy', description: 'Deploys advanced algorithmic models like trend-following, mean reversion, or statistical arbitrage.', icon: 'beaker' },\n    { type: 'Signal Bot', description: 'Executes trades based on external signals from sources like TradingView, Telegram, or custom APIs with institutional-grade controls.', icon: 'trades' },\n    { type: 'TradingView Webhook Bot', description: 'Automated trading bot that receives and executes TradingView alerts via webhook with advanced risk management and execution controls.', icon: 'bell' },\n    { type: 'Dip Analyser Bot', description: 'Institutional dip-buying strategy with Smart Money Concepts, structural filters, TWAP execution, and forced accumulation mode.', icon: 'chart' },\n    { type: 'Trend-Following Bot', description: 'EMA Crossover strategy with ATR-based filters and trailing stops for capturing sustained market trends.', icon: 'trending' },\n    { type: 'Mean Reversion Bot', description: 'Z-Score and RSI-based mean reversion strategy for trading oversold/overbought conditions in ranging markets.', icon: 'activity' },\n    { type: 'Volatility Breakout Bot', description: 'Donchian/Keltner channel breakout strategy with time-of-day filters for capturing volatility expansion moves.', icon: 'lightning' },\n];\n\nconst mockStrategyTemplates: StrategyTemplate[] = [\n    { id: 'st-1', name: 'Safe BTC DCA', type: 'Advanced DCA', config: { marketType: 'SPOT', initialBuy: 10, openPositionDoubled: false, marginCallLimit: 5, marginCallDrop: 2, multipleBuyRatio: 1.2, wholePositionTPRatio: 2, wholePositionTPCallback: 0.5, tpRule: '1st & last TP', timeframe: '4h', startOrderType: 'LIMIT', startCondition: 'None', buyInCallback: 0.2, tpBasis: '% by Base Order Value', subPositionTPCallback: 2, soScalingType: 'Arithmetic', maxSOPriceDeviation: 20, maxActiveSOs: 2, soPriceStepMultiplier: 1.5, rebuy: 2, rebuyCallbackRatio: 0.5, maxLossSL: 15, trailingSL: false, trailingSLCallback: 5, cooldownPeriod: 24, maxDrawdownLimit: 30, totalUsedUSDT: 500, maxTradesPerDay: 2, tradingWindowStart: '09:00', tradingWindowEnd: '17:00', reinvestProfit: false, leverage: 1, marginMode: 'Cross' } },\n    { id: 'st-2', name: 'Volatile ETH Grid', type: 'Advanced Grid', config: { marketType: 'FUTURES', rangeType: 'Manual', lowerPrice: 3000, upperPrice: 4500, gridCount: 100, investmentAmount: 1500, gridSpacingType: 'Geometric', leverageRatio: 5, stopLossPrice: 2800, orderDirection: 'Long', marginMode: 'Isolated', hedgeGridToggle: true } },\n];\n\n// Generate mock candlestick data\nconst generateCandlestickData = (startTime: number, numPoints: number): CandlestickData[] => {\n    let price = 68000;\n    let currentTime = startTime;\n    const data: CandlestickData[] = [];\n    for (let i = 0; i < numPoints; i++) {\n        const open = price + (Math.random() - 0.5) * 200;\n        const close = open + (Math.random() - 0.5) * 500;\n        const high = Math.max(open, close) + Math.random() * 100;\n        const low = Math.min(open, close) - Math.random() * 100;\n        const value = 1000 + Math.random() * 2000;\n        const color = close >= open ? 'rgba(16, 185, 129, 0.6)' : 'rgba(239, 68, 68, 0.6)';\n\n        data.push({ time: Math.floor(currentTime / 1000) as UTCTimestamp, open, high, low, close, value, color });\n        price = close;\n        currentTime += 4 * 60 * 60 * 1000; // 4 hour candles\n    }\n    return data;\n};\nconst mockCandlestickData = generateCandlestickData(new Date().getTime() - 365 * 24 * 60 * 60 * 1000, 500);\n\nconst mockRsiData = mockCandlestickData.map(d => ({\n    time: d.time,\n    value: 30 + Math.random() * 40,\n}));\n\n\n// --- HELPER COMPONENTS (defined outside to prevent re-renders) ---\nconst InputField: React.FC<{ label: string, type?: string, value: any, onChange: (e: any) => void, unit?: string, placeholder?: string, helpText?: string }> = ({ label, type = 'text', value, onChange, unit, placeholder, helpText }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</label>\n        <div className=\"mt-1 flex items-center\">\n            <input type={type} value={value} onChange={onChange} placeholder={placeholder} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\" />\n            {unit && <span className=\"ml-2 text-gray-500 dark:text-dark-text-secondary whitespace-nowrap\">{unit}</span>}\n        </div>\n        {helpText && <p className=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">{helpText}</p>}\n    </div>\n);\n\nconst ToggleField: React.FC<{ label: string, enabled: boolean, onChange: (val: boolean) => void, helpText?: string }> = ({ label, enabled, onChange, helpText }) => (\n    <div>\n        <div className=\"flex justify-between items-center\">\n            <label className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</label>\n            <ToggleSwitch enabled={enabled} onChange={onChange} />\n        </div>\n        {helpText && <p className=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">{helpText}</p>}\n    </div>\n);\n\nconst SelectField: React.FC<{ label: string, value: any, onChange: (e: any) => void, children?: React.ReactNode }> = ({ label, value, onChange, children }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">{label}</label>\n        <select value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\">\n            {children}\n        </select>\n    </div>\n);\n\nconst Section: React.FC<{ title: string; children: React.ReactNode }> = ({ title, children }) => (\n    <details className=\"group\" open>\n        <summary className=\"text-md font-semibold cursor-pointer py-2 text-gray-700 dark:text-dark-text group-open:border-b dark:border-dark-border mb-4\">{title}</summary>\n        <div className=\"space-y-4 animate-fadeIn\">{children}</div>\n    </details>\n);\n\nconst MarketTypeSelector: React.FC<{ value: 'SPOT' | 'FUTURES'; onChange: (value: 'SPOT' | 'FUTURES') => void; }> = ({ value, onChange }) => (\n    <div className=\"mb-6\">\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-2\">Market Type</label>\n        <div className=\"flex w-full bg-gray-100 dark:bg-dark-bg-secondary rounded-lg p-1\">\n            <button onClick={() => onChange('SPOT')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'SPOT' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>SPOT</button>\n            <button onClick={() => onChange('FUTURES')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'FUTURES' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>FUTURES</button>\n        </div>\n    </div>\n);\n\n\n// --- CONFIGURATION PANELS ---\nconst DcaBotConfigPanel: React.FC<{ config: DcaConfig; onConfigChange: (newConfig: DcaConfig) => void; onSave: () => void; onSaveTemplate: () => void; }> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    \n    const handleChange = (field: keyof DcaConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement> | boolean | 'SPOT' | 'FUTURES') => {\n        const value = typeof e === 'boolean' || e === 'SPOT' || e === 'FUTURES'\n            ? e \n            : e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n\n    return (\n        <Card>\n            <h3 className=\"text-lg font-bold mb-4\">Configure Advanced DCA Bot</h3>\n            <div className=\"space-y-6 max-h-[70vh] overflow-y-auto pr-2\">\n                \n                <MarketTypeSelector value={config.marketType} onChange={handleChange('marketType')} />\n\n                <Section title=\"Entry Logic\">\n                    <SelectField label=\"Start Order Type\" value={config.startOrderType} onChange={handleChange('startOrderType')}>\n                        <option value=\"MARKET\">MARKET (Prioritize Speed)</option>\n                        <option value=\"LIMIT\">LIMIT (Prioritize Price)</option>\n                    </SelectField>\n                    <InputField label=\"First Buy in amount\" type=\"number\" value={config.initialBuy} onChange={handleChange('initialBuy')} unit=\"USDT\" helpText=\"The initial capital to start the position.\"/>\n                    <ToggleField label=\"Open position doubled\" enabled={config.openPositionDoubled} onChange={handleChange('openPositionDoubled')} />\n                    <SelectField label=\"Timeframe (for Indicators)\" value={config.timeframe} onChange={handleChange('timeframe')}>\n                        {['1m', '5m', '15m', '1h', '4h', '1d'].map(tf => <option key={tf} value={tf}>{tf}</option>)}\n                    </SelectField>\n                    <InputField label=\"Start Condition / Signal\" value={config.startCondition} onChange={handleChange('startCondition')} helpText=\"e.g., RSI < 30, MACD cross, etc. Use 'None' to start immediately.\" />\n                    <InputField label=\"Buy in callback\" type=\"number\" value={config.buyInCallback} onChange={handleChange('buyInCallback')} unit=\"%\" helpText=\"Trailing buy to optimize entry timing.\" />\n                </Section>\n                <Section title=\"Take Profit\">\n                    <SelectField label=\"Take Profit Basis\" value={config.tpBasis} onChange={handleChange('tpBasis')}>\n                        <option value=\"% by Average Price\">% by Average Price (DCA Default)</option>\n                        <option value=\"% by Base Order Value\">% by Base Order Value</option>\n                    </SelectField>\n                    <InputField label=\"Whole position take profit\" type=\"number\" value={config.wholePositionTPRatio} onChange={handleChange('wholePositionTPRatio')} unit=\"%\" />\n                    <InputField label=\"Whole position TP callback\" type=\"number\" value={config.wholePositionTPCallback} onChange={handleChange('wholePositionTPCallback')} unit=\"%\" helpText=\"Trailing stop for the main profit target.\"/>\n                    <InputField label=\"Sub-position TP callback\" type=\"number\" value={config.subPositionTPCallback} onChange={handleChange('subPositionTPCallback')} unit=\"%\" helpText=\"Trailing stop for individual safety orders.\" />\n                    <SelectField label=\"Set TP Rules\" value={config.tpRule} onChange={handleChange('tpRule')}>\n                        {['Combined TP', '1st & last TP', 'TP all'].map(rule => <option key={rule} value={rule}>{rule}</option>)}\n                    </SelectField>\n                </Section>\n                <Section title=\"Safety Orders (SO) Logic\">\n                    <InputField label=\"Margin call limit\" type=\"number\" value={config.marginCallLimit} onChange={handleChange('marginCallLimit')} helpText=\"Maximum number of safety orders.\" />\n                    <InputField label=\"Margin Call Drop\" type=\"number\" value={config.marginCallDrop} onChange={handleChange('marginCallDrop')} unit=\"%\" helpText=\"Price drop to trigger the next SO.\"/>\n                    <InputField label=\"Multiple Buy in ratio\" type=\"number\" value={config.multipleBuyRatio} onChange={handleChange('multipleBuyRatio')} unit=\"x\" helpText=\"Multiplier to increase the size of each subsequent SO.\" />\n                    <SelectField label=\"SO Scaling Type\" value={config.soScalingType} onChange={handleChange('soScalingType')}>\n                        <option value=\"Geometric\">Geometric (Linear drop %)</option>\n                        <option value=\"Arithmetic\">Arithmetic (Progressive drop %)</option>\n                    </SelectField>\n                    <InputField label=\"SO Price Step Multiplier\" type=\"number\" value={config.soPriceStepMultiplier} onChange={handleChange('soPriceStepMultiplier')} unit=\"x\" helpText=\"Widens the grid between subsequent SOs.\" />\n                    <InputField label=\"Maximum SO Price Deviation\" type=\"number\" value={config.maxSOPriceDeviation} onChange={handleChange('maxSOPriceDeviation')} unit=\"%\" helpText=\"Hard floor for safety orders from initial buy.\"/>\n                    <InputField label=\"Max Active SOs\" type=\"number\" value={config.maxActiveSOs} onChange={handleChange('maxActiveSOs')} helpText=\"Limits simultaneous safety orders.\" />\n                </Section>\n                 <Section title=\"Risk Control\">\n                    <InputField label=\"Max Loss Stop-Loss (SL)\" type=\"number\" value={config.maxLossSL} onChange={handleChange('maxLossSL')} unit=\"%\" helpText=\"Global hard stop if total loss reaches this %.\" />\n                    <ToggleField label=\"Trailing Stop-Loss (TSL)\" enabled={config.trailingSL} onChange={handleChange('trailingSL')} />\n                    {config.trailingSL && <InputField label=\"TSL Callback\" type=\"number\" value={config.trailingSLCallback} onChange={handleChange('trailingSLCallback')} unit=\"%\" helpText=\"Callback for the trailing stop-loss.\" />}\n                    <InputField label=\"Cooldown Period After SL\" type=\"number\" value={config.cooldownPeriod} onChange={handleChange('cooldownPeriod')} unit=\"hours\" helpText=\"Wait period before restarting after a stop-loss.\" />\n                    <InputField label=\"Max Drawdown Limit / Cycle\" type=\"number\" value={config.maxDrawdownLimit} onChange={handleChange('maxDrawdownLimit')} unit=\"%\" helpText=\"Stops a single bot cycle if floating loss reaches this %.\" />\n                </Section>\n                <Section title=\"Deployment & Automation\">\n                    <InputField label=\"Total Used Capital\" type=\"number\" value={config.totalUsedUSDT} onChange={handleChange('totalUsedUSDT')} unit=\"USDT\" helpText=\"Total capital dedicated to this bot.\" />\n                    <InputField label=\"Max Trades Per Day\" type=\"number\" value={config.maxTradesPerDay} onChange={handleChange('maxTradesPerDay')} helpText=\"0 for unlimited.\" />\n                    <ToggleField label=\"Reinvest Profit\" enabled={config.reinvestProfit} onChange={handleChange('reinvestProfit')} helpText=\"Enable compounding returns.\"/>\n                </Section>\n                 \n                {config.marketType === 'FUTURES' && (\n                    <Section title=\"Futures / Margin Settings\">\n                        <InputField label=\"Leverage Ratio\" type=\"number\" value={config.leverage} onChange={handleChange('leverage')} unit=\"x\" />\n                         <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                            <option value=\"Cross\">Cross</option>\n                            <option value=\"Isolated\">Isolated</option>\n                        </SelectField>\n                    </Section>\n                )}\n            </div>\n            <div className=\"mt-6 flex space-x-2\">\n                <button onClick={onSaveTemplate} className=\"flex-1 bg-gray-200 dark:bg-dark-bg-secondary py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700\">Save as Template</button>\n                <button onClick={onSave} className=\"flex-1 bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary-hover\">Save & Start</button>\n            </div>\n        </Card>\n    );\n};\n\nconst GridBotConfigPanel: React.FC<{ config: GridConfig; onConfigChange: (newConfig: GridConfig) => void; onSave: () => void; onSaveTemplate: () => void; }> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    \n    const handleChange = (field: keyof GridConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement> | boolean | 'SPOT' | 'FUTURES') => {\n        const value = typeof e === 'boolean' || e === 'SPOT' || e === 'FUTURES'\n            ? e\n            : e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n    \n    return (\n        <Card>\n            <h3 className=\"text-lg font-bold mb-4\">Configure Advanced Grid Bot</h3>\n            \n            <div className=\"space-y-6 max-h-[70vh] overflow-y-auto pr-2\">\n                \n                <MarketTypeSelector value={config.marketType} onChange={handleChange('marketType')} />\n\n                <Section title=\"Basic Grid Settings\">\n                     <SelectField label=\"Range Type\" value={config.rangeType} onChange={handleChange('rangeType')}>\n                        <option value=\"AI_OPTIMIZED\">AI Optimized</option>\n                        <option value=\"Manual\">Manual</option>\n                    </SelectField>\n                    {config.rangeType === 'AI_OPTIMIZED' ? (\n                        <>\n                            <SelectField label=\"AI Model\" value={config.aiModel} onChange={handleChange('aiModel')}>\n                                <option value=\"notebook\">Notebook (Spot)</option>\n                                <option value=\"princeton\">Princeton (Futures)</option>\n                            </SelectField>\n                            <InputField label=\"Analysis Period\" type=\"number\" value={config.analysisPeriod} onChange={handleChange('analysisPeriod')} unit=\"days\" />\n                        </>\n                    ) : (\n                         <div className=\"grid grid-cols-2 gap-4\">\n                            <InputField label=\"Lower Price\" type=\"number\" value={config.lowerPrice} onChange={handleChange('lowerPrice')} />\n                            <InputField label=\"Upper Price\" type=\"number\" value={config.upperPrice} onChange={handleChange('upperPrice')} />\n                        </div>\n                    )}\n                    <InputField label=\"Grid Count\" type=\"number\" value={config.gridCount} onChange={handleChange('gridCount')} />\n                    <InputField label=\"Total Investment\" type=\"number\" value={config.investmentAmount} onChange={handleChange('investmentAmount')} unit=\"USDT\" />\n                </Section>\n\n                <Section title=\"Grid Logic & Execution\">\n                    <SelectField label=\"Grid Spacing Type\" value={config.gridSpacingType} onChange={handleChange('gridSpacingType')}>\n                        <option value=\"Arithmetic\">Arithmetic (Equal Price Difference)</option>\n                        <option value=\"Geometric\">Geometric (Equal % Difference)</option>\n                    </SelectField>\n                    <InputField label=\"Start Condition\" value={config.startCondition} onChange={handleChange('startCondition')} helpText=\"e.g., RSI < 30. Use 'None' to start immediately.\" />\n                    <ToggleField label=\"Pump Protection\" enabled={config.pumpProtection} onChange={handleChange('pumpProtection')} />\n                    <InputField label=\"Timeframe for Pump/Dump\" type=\"number\" value={config.timeframeForPumpDump} onChange={handleChange('timeframeForPumpDump')} unit=\"minutes\" />\n                </Section>\n                \n                <Section title=\"Advanced Trailing Controls\">\n                    <ToggleField label=\"Trailing Up\" enabled={config.trailingUp} onChange={handleChange('trailingUp')} helpText=\"Moves the entire grid up if price breaks the upper range.\" />\n                    {config.trailingUp && <InputField label=\"Trailing Up By\" type=\"number\" value={config.trailingUpPercentage} onChange={handleChange('trailingUpPercentage')} unit=\"%\" />}\n                     <ToggleField label=\"Trailing Down\" enabled={config.trailingDown} onChange={handleChange('trailingDown')} helpText=\"Moves the entire grid down.\" />\n                    {config.trailingDown && <InputField label=\"Trailing Down By\" type=\"number\" value={config.trailingDownPercentage} onChange={handleChange('trailingDownPercentage')} unit=\"%\" />}\n                    <ToggleField label=\"Stop Loss Trailing\" enabled={config.stopLossTrailing} onChange={handleChange('stopLossTrailing')} />\n                    {config.stopLossTrailing && <InputField label=\"Trailing SL %\" type=\"number\" value={config.stopLossTrailingPercentage} onChange={handleChange('stopLossTrailingPercentage')} unit=\"%\" />}\n                </Section>\n                \n                <Section title=\"Risk & Inventory Management\">\n                    <InputField label=\"Stop-Loss Price\" type=\"number\" value={config.stopLossPrice} onChange={handleChange('stopLossPrice')} />\n                    <SelectField label=\"Range Breakout Action\" value={config.rangeBreakoutAction} onChange={handleChange('rangeBreakoutAction')}>\n                        <option value=\"Stop Bot\">Stop Bot</option>\n                        <option value=\"Stop & Sell\">Stop Bot & Sell Inventory</option>\n                        <option value=\"Convert to DCA\">Convert to DCA Bot</option>\n                    </SelectField>\n                    <InputField label=\"Max Inventory Limit\" type=\"number\" value={config.maxInventoryLimit} onChange={handleChange('maxInventoryLimit')} helpText=\"In base currency, e.g., max 0.5 BTC. 0 for unlimited.\" />\n                </Section>\n                \n                <Section title=\"Profit & Automation\">\n                    <ToggleField label=\"Compounding Profit\" enabled={config.compoundingProfit} onChange={handleChange('compoundingProfit')} helpText=\"Automatically roll profits back into the total investment.\" />\n                    <SelectField label=\"Grid Re-Deployment Strategy\" value={config.gridRedeploymentStrategy} onChange={handleChange('gridRedeploymentStrategy')}>\n                        <option value=\"Pause\">Pause and Notify</option>\n                        <option value=\"Auto-Restart Same\">Auto-Restart with Same Settings</option>\n                        <option value=\"Auto-Restart New AI\">Auto-Restart with New AI-Optimized Range</option>\n                    </SelectField>\n                </Section>\n\n                {config.marketType === 'FUTURES' && (\n                    <Section title=\"Futures Trading\">\n                        <SelectField label=\"Order Direction\" value={config.orderDirection} onChange={handleChange('orderDirection')}>\n                            <option value=\"Neutral\">Neutral</option>\n                            <option value=\"Long\">Long</option>\n                            <option value=\"Short\">Short</option>\n                        </SelectField>\n                        <InputField label=\"Leverage Ratio\" type=\"number\" value={config.leverageRatio} onChange={handleChange('leverageRatio')} unit=\"x\" />\n                        <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                            <option value=\"Cross\">Cross</option>\n                            <option value=\"Isolated\">Isolated</option>\n                        </SelectField>\n                        <p className=\"text-sm\">Est. Liquidation Price: <span className=\"font-bold text-warning\">$55,123.45</span></p>\n                        <ToggleField label=\"Auto Margin Transfer\" enabled={config.autoMarginTransfer} onChange={handleChange('autoMarginTransfer')} />\n                        <ToggleField label=\"Hedge Grid Toggle (Two-Way Grid)\" enabled={config.hedgeGridToggle} onChange={handleChange('hedgeGridToggle')} />\n                    </Section>\n                )}\n            </div>\n             <div className=\"mt-6 flex space-x-2\">\n                <button onClick={onSaveTemplate} className=\"flex-1 bg-gray-200 dark:bg-dark-bg-secondary py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700\">Save as Template</button>\n                <button onClick={onSave} className=\"flex-1 bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary-hover\">Save & Start</button>\n            </div>\n        </Card>\n    );\n};\n\nconst QuantitativeStrategyConfigPanel: React.FC<{ config: AlgoStrategyConfig; onConfigChange: (newConfig: AlgoStrategyConfig) => void; onSave: () => void; onSaveTemplate: () => void; }> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    const [activeCategory, setActiveCategory] = useState<'core' | 'risk' | 'execution' | 'compliance' | 'operational' | 'adaptive'>('core');\n    \n    const handleChange = (field: keyof AlgoStrategyConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement> | boolean | 'SPOT' | 'FUTURES') => {\n        const value = typeof e === 'boolean' || e === 'SPOT' || e === 'FUTURES'\n            ? e \n            : e.target.type === 'checkbox' ? (e as React.ChangeEvent<HTMLInputElement>).target.checked\n            : e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n\n    const categories = [\n        { id: 'core', label: 'Core Logic', icon: 'beaker' },\n        { id: 'risk', label: 'Risk Management', icon: 'shield' },\n        { id: 'execution', label: 'Execution', icon: 'flash' },\n        { id: 'compliance', label: 'Compliance', icon: 'file' },\n        { id: 'operational', label: 'Operational', icon: 'settings' },\n        { id: 'adaptive', label: 'Adaptive & Model Risk', icon: 'trending' },\n    ];\n\n    return (\n        <Card>\n            <h3 className=\"text-lg font-bold mb-4\">Institutional Algorithmic Strategy</h3>\n            \n            <div className=\"flex gap-2 mb-4 overflow-x-auto pb-2\">\n                {categories.map((cat) => (\n                    <button\n                        key={cat.id}\n                        onClick={() => setActiveCategory(cat.id as any)}\n                        className={`flex items-center space-x-2 px-3 py-2 rounded-lg text-xs font-medium whitespace-nowrap transition-colors ${\n                            activeCategory === cat.id\n                                ? 'bg-primary text-white'\n                                : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700'\n                        }`}\n                    >\n                        <Icon name={cat.icon} className=\"h-4 w-4\" />\n                        <span>{cat.label}</span>\n                    </button>\n                ))}\n            </div>\n\n            <div className=\"space-y-6 max-h-[65vh] overflow-y-auto pr-2\">\n                <MarketTypeSelector value={config.marketType} onChange={handleChange('marketType')} />\n\n                {activeCategory === 'core' && (\n                    <>\n                        <Section title=\"Core Strategy Logic\">\n                            <SelectField label=\"Algorithmic Model\" value={config.model} onChange={handleChange('model')}>\n                                <option value=\"Trend-Following\">Trend-Following</option>\n                                <option value=\"Mean Reversion\">Mean Reversion</option>\n                                <option value=\"Volatility Breakout\">Volatility Breakout</option>\n                                <option value=\"Pairs/Stat-Arb\">Pairs/Stat-Arb</option>\n                            </SelectField>\n                            <InputField label=\"Primary Entry Signal\" value={config.primaryEntrySignal} onChange={handleChange('primaryEntrySignal')} helpText=\"e.g., EMA 50 cross EMA 200\" />\n                            <InputField label=\"Confirmation Filter\" value={config.confirmationFilter} onChange={handleChange('confirmationFilter')} helpText=\"e.g., ATR > 10 or RSI < 30\" />\n                            <SelectField label=\"Regime Filter\" value={config.regimeFilter} onChange={handleChange('regimeFilter')}>\n                                <option value=\"None\">None</option>\n                                <option value=\"ADX\">ADX</option>\n                                <option value=\"Volatility\">Volatility</option>\n                            </SelectField>\n                        </Section>\n                        {config.model === 'Pairs/Stat-Arb' && (\n                            <Section title=\"Pairs Trading Settings\">\n                                <InputField label=\"Pair Selection\" value={config.pairSelection} onChange={handleChange('pairSelection')} helpText=\"e.g., BTC/USDT,ETH/USDT\" />\n                                <InputField label=\"Z-Score Entry\" type=\"number\" value={config.zScoreEntry} onChange={handleChange('zScoreEntry')} step=\"0.1\" />\n                                <InputField label=\"Z-Score Exit\" type=\"number\" value={config.zScoreExit} onChange={handleChange('zScoreExit')} step=\"0.1\" />\n                                <ToggleField label=\"Structural Break Detection\" enabled={config.useStructuralBreakDetection} onChange={handleChange('useStructuralBreakDetection')} />\n                            </Section>\n                        )}\n                    </>\n                )}\n\n                {activeCategory === 'risk' && (\n                    <>\n                        <Section title=\"Universal Risk Controls\">\n                            <InputField label=\"ATR Multiplier for Stops\" type=\"number\" value={config.atrMultiplierForStops} onChange={handleChange('atrMultiplierForStops')} step=\"0.1\" helpText=\"Volatility-adjusted stops\" />\n                            <InputField label=\"Max Holding Period\" type=\"number\" value={config.maxHoldingPeriod} onChange={handleChange('maxHoldingPeriod')} unit=\"days\" />\n                            <ToggleField label=\"Extreme Volatility Filter\" enabled={config.useVolatilityFilter} onChange={handleChange('useVolatilityFilter')} />\n                            {config.useVolatilityFilter && (\n                                <InputField label=\"Volatility Filter ATR Multiple\" type=\"number\" value={config.volatilityFilterATR} onChange={handleChange('volatilityFilterATR')} step=\"0.1\" />\n                            )}\n                            <ToggleField label=\"Correlation Awareness\" enabled={config.useCorrelationAwareness} onChange={handleChange('useCorrelationAwareness')} />\n                        </Section>\n                        <Section title=\"Portfolio-Level Risk\">\n                            <InputField label=\"Max Portfolio Drawdown\" type=\"number\" value={config.maxPortfolioDrawdown} onChange={handleChange('maxPortfolioDrawdown')} unit=\"%\" helpText=\"Auto-halts all strategies\" />\n                            <InputField label=\"Value at Risk (VaR) Limit\" type=\"number\" value={config.varLimit} onChange={handleChange('varLimit')} unit=\"USD\" />\n                            <InputField label=\"Max Portfolio Leverage\" type=\"number\" value={config.maxPortfolioLeverage} onChange={handleChange('maxPortfolioLeverage')} unit=\"x\" step=\"0.1\" />\n                            <InputField label=\"Liquidity Depth Threshold\" type=\"number\" value={config.liquidityDepthThreshold} onChange={handleChange('liquidityDepthThreshold')} unit=\"USD\" helpText=\"Min order book depth\" />\n                            <InputField label=\"Inter-Strategy Correlation Limit\" type=\"number\" value={config.interStrategyCorrelationFilter} onChange={handleChange('interStrategyCorrelationFilter')} step=\"0.01\" helpText=\"Max 0.0-1.0\" />\n                        </Section>\n                        <Section title=\"Portfolio Construction\">\n                            <InputField label=\"Target Portfolio Beta\" type=\"number\" value={config.targetPortfolioBeta} onChange={handleChange('targetPortfolioBeta')} step=\"0.1\" helpText=\"vs. benchmark\" />\n                            <InputField label=\"Asset Class Exposure Cap\" type=\"number\" value={config.assetClassExposureCap} onChange={handleChange('assetClassExposureCap')} unit=\"%\" />\n                            <SelectField label=\"Capital Allocation Method\" value={config.riskBasedCapitalAllocation} onChange={handleChange('riskBasedCapitalAllocation')}>\n                                <option value=\"Equal-Weight\">Equal-Weight</option>\n                                <option value=\"Risk-Parity\">Risk-Parity</option>\n                                <option value=\"Kelly\">Kelly Criterion</option>\n                            </SelectField>\n                            <InputField label=\"Dynamic Rebalance Threshold\" type=\"number\" value={config.dynamicRebalanceThreshold} onChange={handleChange('dynamicRebalanceThreshold')} unit=\"%\" />\n                            <InputField label=\"Rebalance Time Interval\" value={config.rebalanceTimeInterval} onChange={handleChange('rebalanceTimeInterval')} helpText=\"e.g., daily, weekly, monthly\" />\n                        </Section>\n                    </>\n                )}\n\n                {activeCategory === 'execution' && (\n                    <>\n                        <Section title=\"Execution & Order Management\">\n                            <InputField label=\"Max Position Size\" type=\"number\" value={config.maxPositionSize} onChange={handleChange('maxPositionSize')} unit=\"USD\" />\n                            <InputField label=\"Max Daily Loss\" type=\"number\" value={config.maxDailyLoss} onChange={handleChange('maxDailyLoss')} unit=\"USD\" />\n                            <InputField label=\"Max Weekly Loss\" type=\"number\" value={config.maxWeeklyLoss} onChange={handleChange('maxWeeklyLoss')} unit=\"USD\" />\n                            <InputField label=\"Slippage Tolerance\" type=\"number\" value={config.slippageTolerance} onChange={handleChange('slippageTolerance')} unit=\"%\" step=\"0.01\" />\n                            <SelectField label=\"Default Order Type\" value={config.orderType} onChange={handleChange('orderType')}>\n                                <option value=\"Market\">Market</option>\n                                <option value=\"Limit\">Limit</option>\n                                <option value=\"IOC\">Immediate-or-Cancel (IOC)</option>\n                                <option value=\"FOK\">Fill-or-Kill (FOK)</option>\n                            </SelectField>\n                            <SelectField label=\"Partial Fill Handling\" value={config.partialFillHandling} onChange={handleChange('partialFillHandling')}>\n                                <option value=\"Wait\">Wait for Complete Fill</option>\n                                <option value=\"Cancel Remainder\">Cancel Remainder</option>\n                            </SelectField>\n                        </Section>\n                        <Section title=\"Advanced Risk & System Health\">\n                            <ToggleField label=\"Circuit Breaker\" enabled={config.circuitBreakerEnabled} onChange={handleChange('circuitBreakerEnabled')} helpText=\"Monitors exchange halts\" />\n                            <InputField label=\"Max Open Positions\" type=\"number\" value={config.maxOpenPositions} onChange={handleChange('maxOpenPositions')} helpText=\"Total across all bots\" />\n                            <ToggleField label=\"Time-of-Day Filter\" enabled={config.useTimeOfDayFilter} onChange={handleChange('useTimeOfDayFilter')} />\n                            {config.useTimeOfDayFilter && (\n                                <>\n                                    <InputField label=\"Trading Hours Start\" type=\"time\" value={config.tradingHoursStart} onChange={handleChange('tradingHoursStart')} />\n                                    <InputField label=\"Trading Hours End\" type=\"time\" value={config.tradingHoursEnd} onChange={handleChange('tradingHoursEnd')} />\n                                </>\n                            )}\n                            <InputField label=\"Trade Velocity Limit\" type=\"number\" value={config.tradeVelocityLimit} onChange={handleChange('tradeVelocityLimit')} unit=\"orders/min\" />\n                            <SelectField label=\"Commission Fee Model\" value={config.commissionFeeModel} onChange={handleChange('commissionFeeModel')}>\n                                <option value=\"Fixed\">Fixed Rate</option>\n                                <option value=\"Maker/Taker Tiers\">Maker/Taker Tiers</option>\n                            </SelectField>\n                            <InputField label=\"Commission Fee\" type=\"number\" value={config.commissionFee} onChange={handleChange('commissionFee')} unit=\"%\" step=\"0.001\" />\n                        </Section>\n                    </>\n                )}\n\n                {activeCategory === 'compliance' && (\n                    <>\n                        <Section title=\"Compliance & Reporting\">\n                            <InputField label=\"Allocation Bucket ID\" value={config.allocationBucket} onChange={handleChange('allocationBucket')} helpText=\"e.g., Fund A, Desk B\" />\n                            <SelectField label=\"Audit Log Verbosity\" value={config.auditLogVerbosity} onChange={handleChange('auditLogVerbosity')}>\n                                <option value=\"Low\">Low</option>\n                                <option value=\"Medium\">Medium</option>\n                                <option value=\"High\">High</option>\n                            </SelectField>\n                            <ToggleField label=\"Post-Trade Reporting Flag\" enabled={config.postTradeReportingFlag} onChange={handleChange('postTradeReportingFlag')} />\n                        </Section>\n                        <Section title=\"Post-Trade & Compliance\">\n                            <InputField label=\"Slippage Report Deviation\" type=\"number\" value={config.slippageReportDeviation} onChange={handleChange('slippageReportDeviation')} unit=\"%\" helpText=\"Alert threshold\" />\n                            <SelectField label=\"Trade Audit Trail Level\" value={config.tradeAuditTrailLevel} onChange={handleChange('tradeAuditTrailLevel')}>\n                                <option value=\"Minimal\">Minimal</option>\n                                <option value=\"Decision-Level\">Decision-Level</option>\n                                <option value=\"Full Tick\">Full Tick Data</option>\n                            </SelectField>\n                            <InputField label=\"Backtest/Live Skew Threshold\" type=\"number\" value={config.backtestLiveSkewThreshold} onChange={handleChange('backtestLiveSkewThreshold')} unit=\"%\" helpText=\"Model drift warning\" />\n                        </Section>\n                    </>\n                )}\n\n                {activeCategory === 'operational' && (\n                    <>\n                        <Section title=\"Operational & System Health\">\n                            <ToggleField label=\"Global Kill Switch\" enabled={config.globalKillSwitch} onChange={handleChange('globalKillSwitch')} helpText=\"Emergency stop all trading\" />\n                            <InputField label=\"Data Feed Latency Threshold\" type=\"number\" value={config.dataFeedLatencyThreshold} onChange={handleChange('dataFeedLatencyThreshold')} unit=\"ms\" />\n                            <InputField label=\"Connectivity Failure Retries\" type=\"number\" value={config.connectivityFailureRetries} onChange={handleChange('connectivityFailureRetries')} />\n                            <InputField label=\"Retry Delay\" type=\"number\" value={config.connectivityRetryDelay} onChange={handleChange('connectivityRetryDelay')} unit=\"seconds\" />\n                            <InputField label=\"Max Order Cancel Rate\" type=\"number\" value={config.maxOrderCancelRate} onChange={handleChange('maxOrderCancelRate')} unit=\"/min\" />\n                        </Section>\n                        <Section title=\"System Integrity & Emergency\">\n                            <ToggleField label=\"Graceful Shutdown Mode\" enabled={config.gracefulShutdownMode} onChange={handleChange('gracefulShutdownMode')} helpText=\"Stop new entries, let exits run\" />\n                            <InputField label=\"Hardware Latency Alert\" type=\"number\" value={config.hardwareLatencyAlert} onChange={handleChange('hardwareLatencyAlert')} unit=\"ms\" helpText=\"CPU/network ping threshold\" />\n                        </Section>\n                    </>\n                )}\n\n                {activeCategory === 'adaptive' && (\n                    <>\n                        <Section title=\"Strategy Adaptivity\">\n                            <ToggleField label=\"Adaptive Parameters\" enabled={config.useAdaptiveParameters} onChange={handleChange('useAdaptiveParameters')} helpText=\"Auto-adjust parameters\" />\n                            {config.useAdaptiveParameters && (\n                                <>\n                                    <InputField label=\"Adaptive Parameter Range\" type=\"number\" value={config.adaptiveParameterRange} onChange={handleChange('adaptiveParameterRange')} unit=\"%\" helpText=\"Max adjustment range\" />\n                                    <InputField label=\"Market Regime Switch Threshold\" type=\"number\" value={config.marketRegimeSwitchThreshold} onChange={handleChange('marketRegimeSwitchThreshold')} helpText=\"e.g., ADX level\" />\n                                </>\n                            )}\n                            <SelectField label=\"Performance Degradation Action\" value={config.performanceDegradationAction} onChange={handleChange('performanceDegradationAction')}>\n                                <option value=\"Alert\">Alert Only</option>\n                                <option value=\"Pause\">Pause Strategy</option>\n                                <option value=\"Re-calibrate\">Auto Re-calibrate</option>\n                            </SelectField>\n                            <InputField label=\"Walk-Forward Analysis Period\" type=\"number\" value={config.walkForwardAnalysisPeriod} onChange={handleChange('walkForwardAnalysisPeriod')} unit=\"days\" />\n                        </Section>\n                        <Section title=\"Model Risk & Decay Management\">\n                            <SelectField label=\"Model Validation Frequency\" value={config.modelValidationFrequency} onChange={handleChange('modelValidationFrequency')}>\n                                <option value=\"Daily\">Daily</option>\n                                <option value=\"Weekly\">Weekly</option>\n                                <option value=\"Monthly\">Monthly</option>\n                            </SelectField>\n                            <InputField label=\"Out-of-Sample Performance Threshold\" type=\"number\" value={config.outOfSamplePerformanceThreshold} onChange={handleChange('outOfSamplePerformanceThreshold')} unit=\"%\" helpText=\"Min % of backtest Sharpe\" />\n                            <InputField label=\"Strategy Decommissioning Logic\" type=\"number\" value={config.strategyDecommissioningLogic} onChange={handleChange('strategyDecommissioningLogic')} helpText=\"Consecutive negative periods\" />\n                            <InputField label=\"Parameter Stability Metric (PSI)\" type=\"number\" value={config.parameterStabilityMetric} onChange={handleChange('parameterStabilityMetric')} step=\"0.01\" helpText=\"Max drift threshold\" />\n                            <SelectField label=\"Trade Rationale Logging\" value={config.tradeRationaleLoggingDetail} onChange={handleChange('tradeRationaleLoggingDetail')}>\n                                <option value=\"Minimal\">Minimal</option>\n                                <option value=\"Decision Tree\">Decision Tree</option>\n                                <option value=\"Full Feature Set\">Full Feature Set</option>\n                            </SelectField>\n                        </Section>\n                    </>\n                )}\n\n                {config.marketType === 'FUTURES' && (\n                    <Section title=\"Futures / Margin Settings\">\n                        <InputField label=\"Leverage Ratio\" type=\"number\" value={config.leverage} onChange={handleChange('leverage')} unit=\"x\" step=\"0.1\" />\n                        <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                            <option value=\"Cross\">Cross Margin</option>\n                            <option value=\"Isolated\">Isolated Margin</option>\n                        </SelectField>\n                    </Section>\n                )}\n            </div>\n            \n            <div className=\"mt-6 flex space-x-2\">\n                <button onClick={onSaveTemplate} className=\"flex-1 bg-gray-200 dark:bg-dark-bg-secondary py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700\">Save as Template</button>\n                <button onClick={onSave} className=\"flex-1 bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary-hover\">Save & Start</button>\n            </div>\n        </Card>\n    );\n};\n\n\n// --- MODALS ---\nconst ComparisonModal: React.FC<{ strategyIds: string[]; onClose: () => void }> = ({ strategyIds, onClose }) => {\n    const strategiesToCompare = mockUserStrategies.filter(s => strategyIds.includes(s.id));\n    \n    const allConfigKeys = Array.from(new Set(strategiesToCompare.flatMap(s => Object.keys(s.config))));\n\n    const renderValue = (value: any) => {\n        if (typeof value === 'boolean') {\n            return value ? 'Yes' : 'No';\n        }\n        if (value === undefined || value === null) {\n            return <span className=\"text-gray-400\">N/A</span>;\n        }\n        return String(value);\n    }\n    \n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4\">\n            <Card className=\"w-full max-w-4xl max-h-[90vh] flex flex-col\">\n                 <div className=\"flex justify-between items-center mb-4\">\n                    <h2 className=\"text-xl font-bold\">Compare Strategies</h2>\n                    <button onClick={onClose}><Icon name=\"cross\" /></button>\n                </div>\n                <div className=\"overflow-x-auto flex-1\">\n                    <table className=\"w-full text-sm\">\n                        <thead>\n                            <tr className=\"bg-gray-50 dark:bg-dark-bg-secondary\">\n                                <th className=\"p-2 text-left font-semibold sticky left-0 bg-gray-50 dark:bg-dark-bg-secondary\">Parameter</th>\n                                {strategiesToCompare.map(s => <th key={s.id} className=\"p-2 text-center font-semibold\">{s.name}</th>)}\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y dark:divide-dark-border\">\n                             {/* General Info */}\n                            <tr className=\"font-bold bg-gray-100 dark:bg-dark-bg-secondary/50\"><td colSpan={strategiesToCompare.length + 1} className=\"p-2 sticky left-0 bg-gray-100 dark:bg-dark-bg-secondary/50\">General</td></tr>\n                            <tr><td className=\"p-2 font-medium sticky left-0 bg-white dark:bg-dark-card\">Type</td>{strategiesToCompare.map(s => <td key={s.id} className=\"p-2 text-center\">{s.type}</td>)}</tr>\n                            <tr><td className=\"p-2 font-medium sticky left-0 bg-white dark:bg-dark-card\">Pair</td>{strategiesToCompare.map(s => <td key={s.id} className=\"p-2 text-center\">{s.pair}</td>)}</tr>\n                            <tr><td className=\"p-2 font-medium sticky left-0 bg-white dark:bg-dark-card\">Status</td>{strategiesToCompare.map(s => <td key={s.id} className=\"p-2 text-center\">{s.status}</td>)}</tr>\n                            <tr><td className=\"p-2 font-medium sticky left-0 bg-white dark:bg-dark-card\">PnL</td>{strategiesToCompare.map(s => <td key={s.id} className={`p-2 text-center font-semibold ${s.pnl >= 0 ? 'text-success' : 'text-danger'}`}>{s.pnl.toFixed(2)} USDT</td>)}</tr>\n\n                            {/* Configuration */}\n                            <tr className=\"font-bold bg-gray-100 dark:bg-dark-bg-secondary/50\"><td colSpan={strategiesToCompare.length + 1} className=\"p-2 sticky left-0 bg-gray-100 dark:bg-dark-bg-secondary/50\">Configuration</td></tr>\n                            {allConfigKeys.map(key => (\n                                <tr key={key}>\n                                    <td className=\"p-2 font-medium sticky left-0 bg-white dark:bg-dark-card capitalize\">{key.replace(/([A-Z])/g, ' $1').trim()}</td>\n                                    {strategiesToCompare.map(s => (\n                                        <td key={s.id} className=\"p-2 text-center\">\n                                            {renderValue((s.config as any)[key])}\n                                        </td>\n                                    ))}\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </Card>\n        </div>\n    );\n};\n\n// --- MAIN VIEW ---\nconst StrategiesView: React.FC = () => {\n    const [activeTab, setActiveTab] = useState<'my' | 'market' | 'templates'>('my');\n    const [userStrategies, setUserStrategies] = useState<UserStrategy[]>(mockUserStrategies);\n    const [templates, setTemplates] = useState<StrategyTemplate[]>(mockStrategyTemplates);\n\n    // State for creation/editing flow\n    const [view, setView] = useState<'list' | 'config'>('list');\n    const [editingStrategy, setEditingStrategy] = useState<UserStrategy | null>(null);\n    const [currentConfig, setCurrentConfig] = useState<any | null>(null);\n    const [selectedStrategyType, setSelectedStrategyType] = useState<StrategyType | null>(null);\n    const [currentPair, setCurrentPair] = useState('BTC/USDT');\n\n    // State for comparison\n    const [comparingIds, setComparingIds] = useState<string[]>([]);\n    const [isComparing, setIsComparing] = useState(false);\n\n    const { theme } = useContext(ThemeContext);\n    \n    const getDefaultConfig = (type: StrategyType): any => {\n        switch (type) {\n            case 'Normal Grid':\n                return { marketType: 'SPOT', lowerPrice: 60000, upperPrice: 70000, gridCount: 20, investmentAmount: 1000, gridSpacingType: 'Arithmetic', stopLossPrice: 58000, takeProfitPrice: 72000, leverage: 1, marginMode: 'Isolated' } as NormalGridConfig;\n            case 'Normal DCA':\n                return { marketType: 'SPOT', initialBuy: 100, buyInCallback: 2, takeProfitPercentage: 3, safetyOrderCount: 5, safetyOrderStepPercentage: 2, safetyOrderVolumeMultiplier: 1.5, stopLossPercentage: 10, leverage: 1, marginMode: 'Isolated' } as NormalDCAConfig;\n            case 'Trend-Following Bot':\n                return { marketType: 'SPOT', fastEMAPeriod: 12, slowEMAPeriod: 26, atrPeriod: 14, atrMultiplier: 1.5, positionSize: 5, stopLossATRMultiplier: 2, takeProfitATRMultiplier: 3, trailingStopEnabled: true, leverage: 1, marginMode: 'Isolated' } as TrendFollowingConfig;\n            case 'Mean Reversion Bot':\n                return { marketType: 'SPOT', zScorePeriod: 20, zScoreEntryThreshold: 2, zScoreExitThreshold: 0.5, rsiPeriod: 14, rsiOversold: 30, rsiOverbought: 70, positionSize: 5, stopLossPercentage: 5, takeProfitPercentage: 5, leverage: 1, marginMode: 'Isolated' } as MeanReversionConfig;\n            case 'Volatility Breakout Bot':\n                return { marketType: 'SPOT', breakoutIndicator: 'Donchian', lookbackPeriod: 20, keltnerATRMultiplier: 2, positionSize: 5, stopLossPercentage: 3, takeProfitPercentage: 6, timeOfDayFilterEnabled: false, tradingHoursStart: '09:00', tradingHoursEnd: '16:00', leverage: 1, marginMode: 'Isolated' } as VolatilityBreakoutConfig;\n            case 'TradingView Webhook Bot':\n                return { marketType: 'SPOT', webhookURL: '', alertParser: '{\"action\": \"{{strategy.order.action}}\", \"ticker\": \"{{ticker}}\"}', signalSourceTrustScore: 7, maximumSlippage: 0.5, orderTimeout: 30, positionSizeOverride: 'Use Signal', fixedPositionSize: 5, dailyLossLimit: 5, maxExchangeAPIRateUsage: 80, orderTypeDefault: 'Market', maxOpenPositions: 5, minimumPositionSize: 10, takeProfitPercentage: 5, stopLossPercentage: 3, globalCapitalAllocation: 50, maxPositionLeverage: 5, dailyTradeCountLimit: 20, ignoreTickersList: '', confirmationWebhookURL: '', logLevel: 'Info', timeZoneSetting: 'UTC', partialFillHandling: 'Wait for Fill', cooldownPeriod: 300, trailingStopActivation: 2, maxDrawdown: 20, exchangeTimeOffset: 0, executionEnvironment: 'Paper Trading', whitelistedIPAddresses: '', maxTradeFeePercentage: 0.1, minimumProfitTarget: 5, strategyTagID: '', accountMode: 'Single', webhookRetryMechanism: 'Exponential Backoff', leverage: 1, marginMode: 'Isolated' } as TradingViewWebhookConfig;\n            case 'Dip Analyser Bot':\n                return { marketType: 'SPOT', dipScoreComponents: { rsiDivergence: true, volumeSpike: true, priceLevelTest: true }, scoreThreshold: 70, minimumDipDepth: 5, timeframeForAnalysis: '4h', buyAggression: 'Moderate', quickProfitTarget: 3, progressiveStop: true, progressiveStopPercentage: 1.5, maximumConcurrentDips: 3, forcedAccumulationMode: false, recoveryConfirmationFilter: 10, liquiditySweepRequirement: false, fvgRetracementPercentage: 50, orderBlockProximityFilter: 1, maxOrderBookSkew: 65, executionSliceSize: 100, twapHorizon: 15, maxCumulativeSlippage: 0.2, dcaTrancheSizeMultiplier: 0.5, dcaProfitExitThreshold: false, dcaProfitExitPercentage: 3, portfolioHedgeRatioAdjustment: 0.1, maxLossFromAverageEntry: 15, assetAllocationHardCap: 30, botHealthCheckInterval: 15, apiPermissionValidation: 'Read/Trade', autoPauseOnNewsEvent: false, newsEventSeverity: 'High', volumeParticipationRate: 1, timeBasedDipInvalidation: 30, minAssetHoldingQuantity: 0, leverage: 1, marginMode: 'Isolated' } as DipAnalyserConfig;\n            case 'Signal Bot':\n                return { marketType: 'SPOT', signalSource: 'Telegram', messageParser: '^(BUY|SELL)\\\\s+(\\\\w+)\\\\s+@\\\\s+([\\\\d.]+)', providerTrustScore: 7, signalVerificationDelay: 5, maximumPositions: 5, correlationLimit: 75, autoStopOnProviderError: true, maxOrderDeviation: 2, maxPortfolioDrawdown: 20, auditLogVerbosity: 'Standard', assetWhitelist: 'BTC,ETH,SOL,BNB', timeOfDayTradingWindow: '00:00-23:59', maxDailyLoss: 1000, maxWeeklyLoss: 5000, orderTypePreference: 'Limit', slippageTolerance: 0.5, fillOrKillTimeout: 5000, dynamicPositionSizing: '% of Balance', dataFeedLatencyThreshold: 1000, maxAPIRequestRate: 60, emergencyKillSwitchKey: '', signalReentryDelay: 15, tpSlOverwrite: 'Allow', partialFillPolicy: 'Hold', marketDataTolerance: 2, orderTradeRatioLimit: 20, strategyVersionLock: 'v1.0.0', tradeIdentifierTag: 'SIGNAL_BOT_1', pnlReportingFrequency: 'Real-Time', vendorSignalLicenseKey: '', minExchangeLiquidity: 1000000, postTradeComplianceDelay: 500, circuitBreakerResponse: 'Pause New', requiredDataFields: ['Asset', 'Action', 'Price'], exposureNettingMode: 'Net', maxVolatilityFilter: 100, maxSlippagePerPosition: 1, strategyConfidenceScoreThreshold: 0.6, auditLogRetentionPeriod: 1825, correlationCheckLookbackWindow: '30 Days', externalRiskSystemHeartbeatTimeout: 60, orderRoutingDestinationOverride: '', signalParsingFailureLimit: 5, tradeExecutionWindowMaxLatency: 1000, maxAdverseExcursion: 10, outOfSampleFailureThreshold: 3, leverage: 1, marginMode: 'Isolated' } as SignalBotConfig;\n            default:\n                return {};\n        }\n    };\n    \n    const handleSelectForCompare = (id: string) => {\n        setComparingIds(prev => prev.includes(id) ? prev.filter(i => i !== id) : [...prev, id]);\n    };\n\n    const handlePauseResume = (id: string) => {\n        setUserStrategies(prev => prev.map(s => s.id === id ? { ...s, status: s.status === 'Active' ? 'Paused' : 'Active' } : s));\n    };\n    \n    const getChartVisualizations = () => {\n        if (!currentConfig) return {};\n        \n        if (selectedStrategyType === 'Advanced Grid') {\n            const gridConfig = currentConfig as GridConfig;\n            const gridLines = [];\n            \n            if (gridConfig.gridCount > 0 && gridConfig.upperPrice > gridConfig.lowerPrice) {\n                 const step = (gridConfig.upperPrice - gridConfig.lowerPrice) / gridConfig.gridCount;\n                 for (let i = 0; i <= gridConfig.gridCount; i++) {\n                    gridLines.push({ price: gridConfig.lowerPrice + i * step, color: 'rgba(160, 174, 192, 0.5)', label: `Lvl ${i}` });\n                }\n            }\n\n            if (gridConfig.lowerPrice) gridLines.push({ price: gridConfig.lowerPrice, color: '#10b981', label: 'Lower Price' });\n            if (gridConfig.upperPrice) gridLines.push({ price: gridConfig.upperPrice, color: '#ef4444', label: 'Upper Price' });\n            if(gridConfig.stopLossPrice > 0) {\n                 gridLines.push({ price: gridConfig.stopLossPrice, color: '#f59e0b', label: 'Stop Loss' });\n            }\n            return { gridLines };\n        }\n        \n        if (selectedStrategyType === 'Advanced DCA') {\n             return { rsiData: mockRsiData };\n        }\n\n        return {};\n    };\n\n    const startCreation = (type: StrategyType, initialConf: any = {}) => {\n        setSelectedStrategyType(type);\n        const config = Object.keys(initialConf).length > 0 ? initialConf : getDefaultConfig(type);\n        setCurrentConfig(config);\n        setView('config');\n        setCurrentPair('BTC/USDT');\n    };\n    \n    const handleUseTemplate = (template: StrategyTemplate) => {\n        startCreation(template.type, template.config);\n    };\n\n    const handleEditStrategy = (strategy: UserStrategy) => {\n        setEditingStrategy(strategy);\n        startCreation(strategy.type, strategy.config);\n        setCurrentPair(strategy.pair);\n    };\n    \n    const handleSaveStrategy = () => {\n        if (!currentConfig || !selectedStrategyType) return;\n        if (editingStrategy) {\n            setUserStrategies(prev => prev.map(s => s.id === editingStrategy.id ? { ...s, pair: currentPair, config: currentConfig } : s));\n        } else {\n             const newStrategy: UserStrategy = {\n                id: `us-${Date.now()}`, name: `New ${selectedStrategyType}`, type: selectedStrategyType,\n                pair: currentPair, status: 'Active', pnl: 0, config: currentConfig,\n            };\n            setUserStrategies(prev => [newStrategy, ...prev]);\n        }\n        setView('list');\n        setEditingStrategy(null);\n    };\n\n    const handleSaveTemplate = () => {\n        if (!currentConfig || !selectedStrategyType) return;\n        const name = prompt(\"Enter a name for this template:\", `My ${selectedStrategyType} Template`);\n        if (name) {\n            const newTemplate: StrategyTemplate = {\n                id: `st-${Date.now()}`, name, type: selectedStrategyType, config: currentConfig,\n            };\n            setTemplates(prev => [...prev, newTemplate]);\n            alert(`Template \"${name}\" saved!`);\n        }\n    };\n\n    const renderConfigPanel = () => {\n        if (!currentConfig) return null;\n        switch (selectedStrategyType) {\n            case 'Advanced DCA':\n                return <DcaBotConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            case 'Advanced Grid':\n                return <GridBotConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            case 'Normal Grid':\n                return <NormalGridConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            case 'Normal DCA':\n                return <NormalDCAConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            case 'Quantitative Strategy':\n                return <QuantitativeStrategyConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            case 'Trend-Following Bot':\n                return <TrendFollowingConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            case 'Mean Reversion Bot':\n                return <MeanReversionConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            case 'Volatility Breakout Bot':\n                return <VolatilityBreakoutConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            case 'TradingView Webhook Bot':\n                return <TradingViewWebhookConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            case 'Dip Analyser Bot':\n                return <DipAnalyserConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            case 'Signal Bot':\n                return <SignalBotConfigPanel config={currentConfig} onConfigChange={setCurrentConfig} onSave={handleSaveStrategy} onSaveTemplate={handleSaveTemplate} />;\n            default:\n                return <Card><p>This strategy is not yet configurable.</p></Card>;\n        }\n    };\n    \n    const getStatusClasses = (status: UserStrategy['status']) => {\n        switch (status) {\n            case 'Active': return 'bg-success/10 text-success';\n            case 'Paused': return 'bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300';\n            case 'Error': return 'bg-danger/10 text-danger';\n        }\n    };\n\n    if (view === 'config') {\n        const chartVisuals = getChartVisualizations();\n        const timeframe = (currentConfig as DcaConfig)?.timeframe || '1D';\n\n        return (\n            <div>\n                 <button onClick={() => setView('list')} className=\"mb-4 text-sm font-semibold text-primary hover:underline flex items-center\">\n                    <Icon name=\"chevronLeft\" className=\"h-4 w-4 mr-1\" /> Back to Strategies\n                </button>\n                \n                <div className=\"space-y-4 sm:space-y-6\">\n                    {renderConfigPanel()}\n                    \n                    <Card className=\"h-[500px] sm:h-[600px] lg:h-[700px] p-0 overflow-hidden\">\n                        <TradingViewWidget \n                            symbol={currentPair.replace('/', '')}\n                            exchange=\"BINANCE\"\n                        />\n                    </Card>\n                    \n                    <Card className=\"p-4 sm:p-6\">\n                        <h3 className=\"text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-2 sm:mb-3\">\n                            Professional Trading Charts\n                        </h3>\n                        <p className=\"text-sm sm:text-base text-gray-600 dark:text-dark-text-secondary mb-4 sm:mb-6\">\n                            Powered by TradingView, the world's leading charting platform. Analyze markets with advanced technical indicators, drawing tools, and real-time data.\n                        </p>\n                        \n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6\">\n                            <div>\n                                <h4 className=\"font-semibold text-gray-900 dark:text-white mb-2 sm:mb-3 flex items-center text-sm sm:text-base\">\n                                    <span className=\"text-green-500 mr-2\"></span> Features\n                                </h4>\n                                <ul className=\"space-y-1.5 sm:space-y-2 text-xs sm:text-sm text-gray-600 dark:text-dark-text-secondary\">\n                                    <li className=\"flex items-start\">\n                                        <span className=\"mr-2\"></span>\n                                        <span>Real-time price data</span>\n                                    </li>\n                                    <li className=\"flex items-start\">\n                                        <span className=\"mr-2\"></span>\n                                        <span>50+ technical indicators</span>\n                                    </li>\n                                    <li className=\"flex items-start\">\n                                        <span className=\"mr-2\"></span>\n                                        <span>Multiple timeframes</span>\n                                    </li>\n                                    <li className=\"flex items-start\">\n                                        <span className=\"mr-2\"></span>\n                                        <span>Drawing tools & patterns</span>\n                                    </li>\n                                </ul>\n                            </div>\n                            \n                            <div>\n                                <h4 className=\"font-semibold text-gray-900 dark:text-white mb-2 sm:mb-3 flex items-center text-sm sm:text-base\">\n                                    <span className=\"text-blue-500 mr-2\"></span> Indicators Included\n                                </h4>\n                                <ul className=\"space-y-1.5 sm:space-y-2 text-xs sm:text-sm text-gray-600 dark:text-dark-text-secondary\">\n                                    <li className=\"flex items-start\">\n                                        <span className=\"mr-2\"></span>\n                                        <span>RSI (Relative Strength Index)</span>\n                                    </li>\n                                    <li className=\"flex items-start\">\n                                        <span className=\"mr-2\"></span>\n                                        <span>Moving Averages (MA)</span>\n                                    </li>\n                                    <li className=\"flex items-start\">\n                                        <span className=\"mr-2\"></span>\n                                        <span>MACD</span>\n                                    </li>\n                                    <li className=\"flex items-start\">\n                                        <span className=\"mr-2\"></span>\n                                        <span>Bollinger Bands</span>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </Card>\n                </div>\n            </div>\n        )\n    }\n\n    // Main Tabbed View\n    return (\n        <>\n            {isComparing && <ComparisonModal strategyIds={comparingIds} onClose={() => { setIsComparing(false); setComparingIds([]); }} />}\n            <Card>\n                <div className=\"flex justify-between items-center pb-2 border-b border-gray-200 dark:border-dark-border\">\n                    <div className=\"flex\">\n                        <button onClick={() => setActiveTab('my')} className={`px-4 py-2 text-sm font-medium transition-colors ${activeTab === 'my' ? 'border-b-2 border-primary text-primary' : 'text-gray-500 hover:text-gray-700 dark:text-dark-text-secondary dark:hover:text-white'}`}>My Strategies ({userStrategies.length})</button>\n                        <button onClick={() => setActiveTab('market')} className={`px-4 py-2 text-sm font-medium transition-colors ${activeTab === 'market' ? 'border-b-2 border-primary text-primary' : 'text-gray-500 hover:text-gray-700 dark:text-dark-text-secondary dark:hover:text-white'}`}>Strategy Marketplace</button>\n                        <button onClick={() => setActiveTab('templates')} className={`px-4 py-2 text-sm font-medium transition-colors ${activeTab === 'templates' ? 'border-b-2 border-primary text-primary' : 'text-gray-500 hover:text-gray-700 dark:text-dark-text-secondary dark:hover:text-white'}`}>Templates ({templates.length})</button>\n                    </div>\n                </div>\n\n                {/* My Strategies Tab */}\n                {activeTab === 'my' && (\n                    <div className=\"pt-4\">\n                        <div className=\"flex justify-between items-center mb-4\">\n                            <button onClick={() => setIsComparing(true)} disabled={comparingIds.length < 2} className=\"bg-primary/10 text-primary font-semibold py-2 px-4 rounded-lg hover:bg-primary/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center text-sm\">\n                                <Icon name=\"compare\" className=\"h-4 w-4 mr-2\" />\n                                Compare Selected ({comparingIds.length})\n                            </button>\n                            <button onClick={() => setActiveTab('market')} className=\"bg-primary text-white font-semibold py-2 px-4 rounded-lg hover:bg-primary-hover transition-colors flex items-center text-sm\">\n                                <Icon name=\"plus\" className=\"h-4 w-4 mr-2\" />\n                                Create New Strategy\n                            </button>\n                        </div>\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-sm\">\n                                <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-dark-bg-secondary dark:text-dark-text-secondary\">\n                                    <tr>\n                                        <th className=\"px-1 py-3 w-8\"></th>\n                                        <th className=\"px-6 py-3 text-left\">Strategy Name</th>\n                                        <th className=\"px-6 py-3\">Type</th>\n                                        <th className=\"px-6 py-3\">Status</th>\n                                        <th className=\"px-6 py-3\">PnL</th>\n                                        <th className=\"px-6 py-3\">Actions</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                {userStrategies.map(s => (\n                                    <tr key={s.id} className=\"border-b dark:border-dark-border hover:bg-gray-50 dark:hover:bg-dark-bg-secondary\">\n                                        <td className=\"px-1 py-4 text-center\">\n                                            <input type=\"checkbox\" checked={comparingIds.includes(s.id)} onChange={() => handleSelectForCompare(s.id)} className=\"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary\" />\n                                        </td>\n                                        <td className=\"px-6 py-4 font-semibold text-gray-800 dark:text-white\">{s.name}<p className=\"font-normal text-xs text-gray-400\">{s.pair}</p></td>\n                                        <td className=\"px-6 py-4\">{s.type}</td>\n                                        <td className=\"px-6 py-4\"><span className={`px-2 py-1 text-xs font-semibold rounded-full ${getStatusClasses(s.status)}`}>{s.status}</span></td>\n                                        <td className={`px-6 py-4 font-semibold ${s.pnl >= 0 ? 'text-success' : 'text-danger'}`}>{s.pnl.toFixed(2)}</td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center space-x-3\">\n                                                <button onClick={() => handlePauseResume(s.id)} title={s.status === 'Active' ? 'Pause' : 'Resume'} className=\"text-gray-400 hover:text-primary\"><Icon name={s.status === 'Active' ? 'pause' : 'play'} className=\"h-5 w-5\"/></button>\n                                                <button onClick={() => handleEditStrategy(s)} title=\"Edit\" className=\"text-gray-400 hover:text-primary\"><Icon name=\"edit\" className=\"h-5 w-5\"/></button>\n                                                <button title=\"Clone\" className=\"text-gray-400 hover:text-primary\"><Icon name=\"clone\" className=\"h-5 w-5\"/></button>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                )}\n\n                {/* Strategy Marketplace Tab */}\n                {activeTab === 'market' && (\n                    <div className=\"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        {strategyMarketplace.map(s => (\n                            <div key={s.type} className=\"border dark:border-dark-border rounded-lg p-4 flex items-start justify-between hover:bg-gray-50 dark:hover:bg-dark-bg-secondary\">\n                                <div>\n                                    <h4 className=\"font-bold flex items-center\"><Icon name={s.icon} className=\"h-5 w-5 mr-2 text-primary\" />{s.type}</h4>\n                                    <p className=\"text-xs text-gray-500 dark:text-dark-text-secondary mt-1\">{s.description}</p>\n                                </div>\n                                <button onClick={() => startCreation(s.type as StrategyType, {})} className=\"bg-primary text-white font-semibold py-1 px-3 rounded-lg hover:bg-primary-hover text-xs whitespace-nowrap\">\n                                    Create Bot\n                                </button>\n                            </div>\n                        ))}\n                    </div>\n                )}\n                \n                {/* Templates Tab */}\n                {activeTab === 'templates' && (\n                     <div className=\"pt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {templates.map(t => (\n                            <div key={t.id} className=\"border dark:border-dark-border rounded-lg p-4\">\n                                <h4 className=\"font-bold\">{t.name}</h4>\n                                <p className=\"text-xs bg-gray-100 dark:bg-dark-bg-secondary inline-block px-2 py-0.5 rounded-md my-2\">{t.type}</p>\n                                <div className=\"mt-4 flex space-x-2\">\n                                     <button onClick={() => handleUseTemplate(t)} className=\"flex-1 bg-primary text-white font-semibold py-1.5 px-3 rounded-lg hover:bg-primary-hover text-xs\">Use Template</button>\n                                     <button className=\"flex-1 bg-gray-200 dark:bg-dark-bg-secondary font-semibold py-1.5 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 text-xs\">Delete</button>\n                                </div>\n                            </div>\n                        ))}\n                         {templates.length === 0 && <p className=\"text-center p-8 text-gray-500 col-span-full\">You have no saved templates.</p>}\n                    </div>\n                )}\n\n            </Card>\n        </>\n    );\n};\n\nexport default StrategiesView;\n","size_bytes":78919},"pages/user-dashboard/AnalyticsView.tsx":{"content":"import React from 'react';\nimport Card from '../../components/Card';\nimport { BarChart, Bar, Cell, ResponsiveContainer, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\n\nconst AnalyticsView: React.FC = () => {\n    \n    const kpiData = [\n        { title: 'Total PnL', value: '$12,480.50' },\n        { title: 'Win Rate', value: '72.3%' },\n        { title: 'Profit Factor', value: '1.82' },\n        { title: 'Avg Trade PnL', value: '$45.80' },\n    ];\n\n    const emotionalData = [\n        { title: 'Adherence Score', value: '8/10', description: \"Bot cycles completed without manual intervention.\" },\n        { title: 'Intervention P&L Impact', value: '-$245.30', description: \"P&L change from your manual closes vs. bot's logic.\" },\n    ]\n\n    const profitByPairData = [\n        { name: 'BTC/USDT', profit: 5500 },\n        { name: 'ETH/USDT', profit: 4200 },\n        { name: 'SOL/USDT', profit: 2100 },\n        { name: 'ADA/USDT', profit: 1200 },\n        { name: 'XRP/USDT', profit: -500 },\n    ];\n\n    const tradeDurationData = [\n        { name: '< 1h', wins: 40, losses: 25 },\n        { name: '1-4h', wins: 80, losses: 30 },\n        { name: '4-12h', wins: 50, losses: 15 },\n        { name: '> 12h', wins: 20, losses: 5 },\n    ];\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n                {kpiData.map(item => (\n                    <Card key={item.title}>\n                        <p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{item.title}</p>\n                        <p className=\"text-3xl font-bold text-gray-800 dark:text-white mt-1\">{item.value}</p>\n                    </Card>\n                ))}\n            </div>\n            \n            <Card>\n                <h3 className=\"text-lg font-semibold mb-2\">Emotional Performance Indicators</h3>\n                <p className=\"text-sm text-gray-500 dark:text-dark-text-secondary mb-4\">Quantifying your interaction with the bots.</p>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    {emotionalData.map(item => (\n                        <div key={item.title} className=\"bg-gray-50 dark:bg-dark-bg-secondary p-4 rounded-lg\">\n                            <p className=\"font-semibold text-gray-700 dark:text-dark-text\">{item.title}</p>\n                            <p className={`text-2xl font-bold ${item.value.startsWith('-') ? 'text-danger' : 'text-success'}`}>{item.value}</p>\n                            <p className=\"text-xs text-gray-500 dark:text-dark-text-secondary mt-1\">{item.description}</p>\n                        </div>\n                    ))}\n                </div>\n            </Card>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <Card>\n                    <h3 className=\"text-lg font-semibold mb-4\">Profit by Trading Pair</h3>\n                    <div className=\"h-80\">\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <BarChart data={profitByPairData} margin={{ top: 5, right: 20, left: -10, bottom: 5 }}>\n                                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(75, 85, 99, 0.3)\" />\n                                <XAxis dataKey=\"name\" stroke=\"rgba(156, 163, 175, 1)\" />\n                                <YAxis stroke=\"rgba(156, 163, 175, 1)\" />\n                                <Tooltip contentStyle={{ backgroundColor: '#2d3748', border: 'none' }} labelStyle={{ color: '#e2e8f0' }} />\n                                <Bar dataKey=\"profit\">\n                                    {profitByPairData.map((entry, index) => (\n                                        <Cell key={`cell-${index}`} fill={entry.profit >= 0 ? '#10b981' : '#ef4444'} />\n                                    ))}\n                                </Bar>\n                            </BarChart>\n                        </ResponsiveContainer>\n                    </div>\n                </Card>\n                 <Card>\n                    <h3 className=\"text-lg font-semibold mb-4\">Trade Duration Analysis</h3>\n                    <div className=\"h-80\">\n                       <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <BarChart data={tradeDurationData} margin={{ top: 5, right: 20, left: -10, bottom: 5 }}>\n                                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(75, 85, 99, 0.3)\" />\n                                <XAxis dataKey=\"name\" stroke=\"rgba(156, 163, 175, 1)\" />\n                                <YAxis stroke=\"rgba(156, 163, 175, 1)\" />\n                                <Tooltip contentStyle={{ backgroundColor: '#2d3748', border: 'none' }} labelStyle={{ color: '#e2e8f0' }}/>\n                                <Legend />\n                                <Bar dataKey=\"wins\" stackId=\"a\" fill=\"#10b981\" />\n                                <Bar dataKey=\"losses\" stackId=\"a\" fill=\"#ef4444\" />\n                            </BarChart>\n                        </ResponsiveContainer>\n                    </div>\n                </Card>\n            </div>\n        </div>\n    );\n};\n\nexport default AnalyticsView;","size_bytes":5190},"pages/admin-dashboard/BotManagementView.tsx":{"content":"import React from 'react';\nimport Card from '../../components/Card';\nimport { AdminBotInfo } from '../../types';\nimport Icon from '../../components/Icon';\n\nconst mockBots: AdminBotInfo[] = [\n    { botId: 'BOT-A1', userId: 'USR-11A2', strategy: 'Advanced DCA', pair: 'BTC/USDT', status: 'Active', pnl: 1250.50, drawdown: -2.5 },\n    { botId: 'BOT-B2', userId: 'USR-B3C4', strategy: 'Grid Bot', pair: 'ETH/USDT', status: 'Active', pnl: 850.75, drawdown: -1.8 },\n    { botId: 'BOT-C3', userId: 'USR-9D5E', strategy: 'Signal Bot', pair: 'SOL/USDT', status: 'Error', pnl: -150.20, drawdown: -8.2 },\n    { botId: 'BOT-D4', userId: 'USR-F6G7', strategy: 'Advanced DCA', pair: 'ADA/USDT', status: 'Paused', pnl: 25.10, drawdown: -0.5 },\n];\n\nconst BotManagementView: React.FC = () => {\n\n    const getStatusClasses = (status: AdminBotInfo['status']) => {\n        switch(status) {\n            case 'Active': return 'bg-success/10 text-success';\n            case 'Paused': return 'bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300';\n            case 'Error': return 'bg-danger/10 text-danger';\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Total Active Bots</p><p className=\"text-3xl font-bold mt-1\">18,345</p></Card>\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Bots with Errors</p><p className=\"text-3xl font-bold text-danger mt-1\">12</p></Card>\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">24h PnL</p><p className=\"text-3xl font-bold text-success mt-1\">+$150,000</p></Card>\n                 <Card><p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">Highest Drawdown</p><p className=\"text-3xl font-bold text-warning mt-1\">-18.5%</p></Card>\n            </div>\n            <Card>\n                <h2 className=\"text-xl font-bold mb-4\">Global Bot Management</h2>\n                 <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-sm text-left\">\n                        <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-dark-bg-secondary dark:text-dark-text-secondary\">\n                            <tr>\n                                <th className=\"px-6 py-3\">Bot ID</th>\n                                <th className=\"px-6 py-3\">User ID</th>\n                                <th className=\"px-6 py-3\">Strategy</th>\n                                <th className=\"px-6 py-3\">Pair</th>\n                                <th className=\"px-6 py-3\">Status</th>\n                                <th className=\"px-6 py-3\">PnL</th>\n                                <th className=\"px-6 py-3\">Drawdown</th>\n                                <th className=\"px-6 py-3\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {mockBots.map(bot => (\n                                <tr key={bot.botId} className=\"border-b dark:border-dark-border hover:bg-gray-50 dark:hover:bg-dark-bg-secondary\">\n                                    <td className=\"px-6 py-4 font-mono text-xs\">{bot.botId}</td>\n                                    <td className=\"px-6 py-4\">{bot.userId}</td>\n                                    <td className=\"px-6 py-4\">{bot.strategy}</td>\n                                    <td className=\"px-6 py-4\">{bot.pair}</td>\n                                    <td className=\"px-6 py-4\"><span className={`px-2 py-1 text-xs font-semibold rounded-full ${getStatusClasses(bot.status)}`}>{bot.status}</span></td>\n                                    <td className={`px-6 py-4 font-semibold ${bot.pnl >= 0 ? 'text-success' : 'text-danger'}`}>${bot.pnl.toFixed(2)}</td>\n                                    <td className=\"px-6 py-4\">{bot.drawdown.toFixed(1)}%</td>\n                                    <td className=\"px-6 py-4\">\n                                        <div className=\"flex space-x-2\">\n                                             <button title=\"Force Pause\" className=\"text-yellow-500 hover:text-yellow-700\"><Icon name=\"warning\" className=\"h-5 w-5\" /></button>\n                                             <button title=\"Force Close Position\" className=\"text-danger hover:text-red-700\"><Icon name=\"cross\" className=\"h-5 w-5\" /></button>\n                                             <button title=\"View Details\" className=\"text-primary hover:text-primary-hover\"><Icon name=\"search\" className=\"h-5 w-5\" /></button>\n                                        </div>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </Card>\n        </div>\n    );\n};\n\nexport default BotManagementView;\n","size_bytes":5024},"README.md":{"content":"<div align=\"center\">\n<img width=\"1200\" height=\"475\" alt=\"GHBanner\" src=\"https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6\" />\n</div>\n\n# Run and deploy your AI Studio app\n\nThis contains everything you need to run your app locally.\n\nView your app in AI Studio: https://ai.studio/apps/drive/1BbU3jgXcz_jx5X_47mmr7WEu8YNmcK-e\n\n## Run Locally\n\n**Prerequisites:**  Node.js\n\n\n1. Install dependencies:\n   `npm install`\n2. Set the `GEMINI_API_KEY` in [.env.local](.env.local) to your Gemini API key\n3. Run the app:\n   `npm run dev`\n","size_bytes":553},"pages/admin-dashboard/AuditTrailView.tsx":{"content":"import React, { useState, useMemo } from 'react';\nimport Card from '../../components/Card';\nimport { AuditLog } from '../../types';\nimport Icon from '../../components/Icon';\n\nconst mockAuditLogs: AuditLog[] = [\n    { id: 'log-1', timestamp: '2024-07-21 10:30:15 UTC', adminUser: 'SuperAdmin', ipAddress: '192.168.1.1', action: 'CHANGE_GLOBAL_FEE', details: '{\"old_value\": \"0.15%\", \"new_value\": \"0.18%\"}' },\n    { id: 'log-2', timestamp: '2024-07-21 10:15:00 UTC', adminUser: 'Mod Y', ipAddress: '10.0.0.5', action: 'APPROVE_KYC', details: '{\"userId\": \"USR-11A2\"}' },\n    { id: 'log-3', timestamp: '2024-07-21 09:05:10 UTC', adminUser: 'RiskManager', ipAddress: '172.16.0.10', action: 'FORCE_CLOSE_POSITION', details: '{\"botId\": \"BOT-C3\", \"reason\": \"Market volatility\"}' },\n    { id: 'log-4', timestamp: '2024-07-20 18:00:00 UTC', adminUser: 'SuperAdmin', ipAddress: '192.168.1.1', action: 'UPDATE_SUBSCRIPTION_PLAN', details: '{\"planId\": \"pro\", \"newName\": \"Pro Plus\"}' },\n    { id: 'log-5', timestamp: '2024-07-20 15:30:00 UTC', adminUser: 'Mod X', ipAddress: '10.0.0.8', action: 'REJECT_KYC', details: '{\"userId\": \"USR-9D5E\", \"reason\": \"Invalid document\"}' },\n];\n\nconst AuditTrailView: React.FC = () => {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [actionFilter, setActionFilter] = useState('All');\n\n    const filteredLogs = useMemo(() => {\n        return mockAuditLogs.filter(log => {\n            const searchMatch = log.adminUser.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                log.ipAddress.includes(searchTerm) ||\n                log.action.toLowerCase().includes(searchTerm.toLowerCase());\n            const actionMatch = actionFilter === 'All' || log.action === actionFilter;\n            return searchMatch && actionMatch;\n        });\n    }, [searchTerm, actionFilter]);\n    \n    const uniqueActions = ['All', ...Array.from(new Set(mockAuditLogs.map(log => log.action)))];\n\n    return (\n        <Card>\n            <h2 className=\"text-2xl font-bold mb-2\">Comprehensive Audit Trail</h2>\n            <p className=\"text-sm text-gray-500 dark:text-dark-text-secondary mb-4\">A chronological record of all administrative actions taken on the platform.</p>\n\n            <div className=\"flex flex-col md:flex-row justify-between items-center mb-4 space-y-2 md:space-y-0\">\n                <div className=\"relative w-full md:w-1/3\">\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                        <Icon name=\"search\" className=\"h-5 w-5 text-gray-400\" />\n                    </div>\n                    <input \n                        type=\"text\"\n                        placeholder=\"Search by user, IP, or action...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        className=\"w-full pl-10 p-2 border dark:border-dark-border rounded-lg bg-gray-50 dark:bg-dark-bg-secondary focus:ring-primary focus:border-primary\"\n                    />\n                </div>\n                <div className=\"flex items-center space-x-2 w-full md:w-auto\">\n                    <label className=\"text-sm font-medium\">Action:</label>\n                    <select value={actionFilter} onChange={(e) => setActionFilter(e.target.value)} className=\"p-2 border dark:border-dark-border rounded-lg bg-gray-50 dark:bg-dark-bg-secondary focus:ring-primary focus:border-primary\">\n                        {uniqueActions.map(action => <option key={action} value={action}>{action}</option>)}\n                    </select>\n                </div>\n            </div>\n\n            <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm text-left\">\n                    <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-dark-bg-secondary dark:text-dark-text-secondary\">\n                        <tr>\n                            <th className=\"px-6 py-3\">Timestamp</th>\n                            <th className=\"px-6 py-3\">Admin User</th>\n                            <th className=\"px-6 py-3\">Source IP</th>\n                            <th className=\"px-6 py-3\">Action</th>\n                            <th className=\"px-6 py-3\">Details</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {filteredLogs.map(log => (\n                            <tr key={log.id} className=\"border-b dark:border-dark-border hover:bg-gray-50 dark:hover:bg-dark-bg-secondary\">\n                                <td className=\"px-6 py-4 whitespace-nowrap\">{log.timestamp}</td>\n                                <td className=\"px-6 py-4 font-semibold\">{log.adminUser}</td>\n                                <td className=\"px-6 py-4\">{log.ipAddress}</td>\n                                <td className=\"px-6 py-4\">\n                                    <span className=\"px-2 py-1 text-xs font-mono rounded-md bg-gray-100 dark:bg-dark-bg-secondary\">{log.action}</span>\n                                </td>\n                                <td className=\"px-6 py-4 font-mono text-xs\">{log.details}</td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n                 {filteredLogs.length === 0 && <p className=\"text-center p-4\">No logs found.</p>}\n            </div>\n        </Card>\n    );\n};\n\nexport default AuditTrailView;","size_bytes":5420},"pages/user-dashboard/APISetup.tsx":{"content":"import React from 'react';\nimport Card from '../../components/Card';\nimport { Exchange } from '../../types';\nimport Icon from '../../components/Icon';\n\nconst exchanges: Exchange[] = [\n    { name: 'Binance', logo: 'https://cdn.worldvectorlogo.com/logos/binance.svg', connected: true, permissions: ['Read', 'Spot & Margin Trading'], requiredPermissions: ['Read', 'Spot & Margin Trading'] },\n    { name: 'Bybit', logo: 'https://cdn.worldvectorlogo.com/logos/bybit.svg', connected: true, permissions: ['Read', 'Derivatives Trading'], requiredPermissions: ['Read', 'Derivatives Trading'] },\n    { name: 'KuCoin', logo: 'https://cdn.worldvectorlogo.com/logos/kucoin.svg', connected: false, permissions: [], requiredPermissions: ['Read', 'Spot Trading'] },\n    { name: 'BingX', logo: 'https://bingx.com/en-us/fileres/images/bingx-logoplate.svg', connected: false, permissions: [], requiredPermissions: ['Read', 'Spot Trading', 'Futures Trading'] },\n    { name: 'Bitget', logo: 'https://www.bitget.com/da/header-logo.31553630.svg', connected: true, permissions: ['Read', 'Spot Trading'], requiredPermissions: ['Read', 'Spot Trading'] },\n    { name: 'MEXC', logo: 'https://www.mexc.com/favicon.ico', connected: false, permissions: [], requiredPermissions: ['Read', 'Spot Trading'] },\n    { name: 'Gate.io', logo: 'https://www.gate.io/favicon.ico', connected: false, permissions: [], requiredPermissions: ['Read', 'Spot Trading', 'Futures Trading'] },\n    { name: 'HTX', logo: 'https://www.htx.com/favicon.ico', connected: false, permissions: [], requiredPermissions: ['Read', 'Spot Trading'] },\n];\n\nconst APISetup: React.FC = () => {\n    return (\n        <Card>\n            <h2 className=\"text-2xl font-bold mb-2\">Connect Your Exchanges</h2>\n            <p className=\"text-gray-500 dark:text-dark-text-secondary mb-6\">Manage API keys to enable automated trading on your favorite exchanges.</p>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {exchanges.map(exchange => (\n                    <div key={exchange.name} className=\"border border-gray-200 dark:border-dark-border rounded-lg p-4 flex flex-col justify-between\">\n                        <div>\n                            <div className=\"flex items-center mb-4\">\n                                <img src={exchange.logo} alt={`${exchange.name} logo`} className=\"h-8 w-8 mr-3\"/>\n                                <h3 className=\"text-lg font-semibold\">{exchange.name}</h3>\n                            </div>\n                            <div className=\"mb-4\">\n                                {exchange.connected ? (\n                                    <div className=\"flex items-center text-sm text-success\">\n                                        <Icon name=\"check\" className=\"h-4 w-4 mr-1\" />\n                                        <span>Connected</span>\n                                    </div>\n                                ) : (\n                                    <div className=\"flex items-center text-sm text-gray-500\">\n                                        <Icon name=\"cross\" className=\"h-4 w-4 mr-1\" />\n                                        <span>Not Connected</span>\n                                    </div>\n                                )}\n                            </div>\n                            <div className=\"text-xs text-gray-500 dark:text-dark-text-secondary min-h-[50px]\">\n                                {exchange.connected ? (\n                                    <>\n                                        <p className=\"font-semibold mb-1\">Granted Permissions:</p>\n                                        <div className=\"flex flex-wrap gap-1\">\n                                            {exchange.permissions.map(p => (\n                                                <span key={p} className=\"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 px-2 py-0.5 rounded-md font-medium\">{p}</span>\n                                            ))}\n                                        </div>\n                                    </>\n                                ) : (\n                                    <>\n                                        <p className=\"font-semibold mb-1\">Required Permissions:</p>\n                                        <div className=\"flex flex-wrap gap-1\">\n                                            {exchange.requiredPermissions.map(p => (\n                                                <span key={p} className=\"bg-gray-100 dark:bg-dark-bg-secondary text-gray-700 dark:text-dark-text-secondary px-2 py-0.5 rounded-md\">{p}</span>\n                                            ))}\n                                        </div>\n                                    </>\n                                )}\n                            </div>\n                        </div>\n                        <div className=\"mt-4\">\n                            {exchange.connected ? (\n                                <button className=\"w-full bg-danger/10 text-danger py-2 rounded-lg hover:bg-danger/20 transition-colors text-sm\">\n                                    Disconnect\n                                </button>\n                            ) : (\n                                <button className=\"w-full bg-primary text-white py-2 rounded-lg hover:bg-primary-hover transition-colors text-sm\">\n                                    Connect\n                                </button>\n                            )}\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </Card>\n    );\n}\n\nexport default APISetup;","size_bytes":5625},"pages/user-dashboard/ActiveTradesView.tsx":{"content":"\nimport React, { useState, useMemo } from 'react';\nimport Card from '../../components/Card';\nimport { ActivePosition, TradeHistory } from '../../types';\nimport Icon from '../../components/Icon';\n\nconst mockActivePositions: ActivePosition[] = [\n  { symbol: 'BTC/USDT', entryPrice: 68500, quantity: 0.5, currentPrice: 69200, pnl: 350, position: 'Long', exchange: 'Binance' },\n  { symbol: 'ETH/USDT', entryPrice: 3800, quantity: 10, currentPrice: 3750, pnl: -500, position: 'Short', exchange: 'Bybit' },\n  { symbol: 'SOL/USDT', entryPrice: 165, quantity: 100, currentPrice: 172, pnl: 700, position: 'Long', exchange: 'KuCoin' },\n];\n\nconst mockTradeHistory: TradeHistory[] = [\n  { symbol: 'ADA/USDT', entryPrice: 0.45, exitPrice: 0.48, quantity: 5000, pnl: 150, position: 'Long', date: '2024-07-20', mode: 'Real', strategy: 'DCA' },\n  { symbol: 'XRP/USDT', entryPrice: 0.52, exitPrice: 0.50, quantity: 10000, pnl: 200, position: 'Short', date: '2024-07-19', mode: 'Real', strategy: 'Signal Bot' },\n  { symbol: 'DOGE/USDT', entryPrice: 0.15, exitPrice: 0.16, quantity: 20000, pnl: 200, position: 'Long', date: '2024-07-18', mode: 'Demo', strategy: 'Grid' },\n  { symbol: 'BTC/USDT', entryPrice: 68000, exitPrice: 69500, quantity: 0.1, pnl: 150, position: 'Long', date: '2024-07-15', mode: 'Real', strategy: 'DCA' },\n];\n\nconst SegmentedButton: React.FC<{ options: string[]; selected: string; onSelect: (option: any) => void }> = ({ options, selected, onSelect }) => (\n    <div className=\"flex w-full bg-gray-100 dark:bg-dark-bg rounded-lg p-1\">\n        {options.map(option => (\n            <button\n                key={option}\n                onClick={() => onSelect(option)}\n                className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${selected === option ? 'bg-white dark:bg-primary shadow-sm' : 'text-gray-500 dark:text-dark-text-secondary hover:bg-gray-200 dark:hover:bg-dark-bg-secondary'}`}\n            >\n                {option}\n            </button>\n        ))}\n    </div>\n);\n\nconst ManualOrderModal: React.FC<{ isOpen: boolean; onClose: () => void }> = ({ isOpen, onClose }) => {\n    const [orderType, setOrderType] = useState<'Market' | 'Limit'>('Market');\n    const [side, setSide] = useState<'Buy' | 'Sell'>('Buy');\n\n    if (!isOpen) return null;\n\n    const handlePlaceOrder = () => {\n        // In a real app, this would dispatch the order\n        console.log(`Placing ${side} ${orderType} order...`);\n        onClose();\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center\">\n            <Card className=\"w-full max-w-md\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-xl font-bold\">Manual Order Entry</h3>\n                    <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-white\">\n                        <Icon name=\"cross\" className=\"h-6 w-6\" />\n                    </button>\n                </div>\n                <div className=\"space-y-4\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Order Type</label>\n                        <SegmentedButton options={['Market', 'Limit']} selected={orderType} onSelect={setOrderType} />\n                    </div>\n                     <div>\n                        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Side</label>\n                        <SegmentedButton options={['Buy', 'Sell']} selected={side} onSelect={setSide} />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Symbol</label>\n                        <input type=\"text\" placeholder=\"e.g., BTC/USDT\" className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2 focus:ring-primary focus:border-primary\"/>\n                    </div>\n                    {orderType === 'Limit' && (\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Limit Price</label>\n                            <input type=\"number\" placeholder=\"Enter price\" className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2 focus:ring-primary focus:border-primary\"/>\n                        </div>\n                    )}\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Amount</label>\n                        <input type=\"number\" placeholder=\"Enter amount\" className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-2 focus:ring-primary focus:border-primary\"/>\n                    </div>\n                    <div className=\"p-2 bg-gray-50 dark:bg-dark-bg-secondary rounded-lg text-sm\">\n                        <div className=\"flex justify-between\">\n                            <span>Total (Estimate)</span>\n                            <span className=\"font-semibold\">$0.00</span>\n                        </div>\n                    </div>\n                    <div className=\"flex space-x-2 pt-4\">\n                         <button onClick={onClose} className=\"w-full bg-gray-200 dark:bg-dark-bg-secondary py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-semibold\">\n                            Cancel\n                        </button>\n                        <button onClick={handlePlaceOrder} className=\"w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary-hover transition-colors font-semibold\">\n                            Place Order\n                        </button>\n                    </div>\n                </div>\n            </Card>\n        </div>\n    );\n};\n\nconst FilterInput: React.FC<React.InputHTMLAttributes<HTMLInputElement | HTMLSelectElement> & {label: string}> = ({label, ...props}) => (\n    <div>\n       <label className=\"block text-xs font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">{label}</label>\n       <input {...props} className=\"w-full bg-gray-100 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 text-sm focus:ring-primary focus:border-primary\" />\n   </div>\n);\n\nconst FilterSelect: React.FC<React.InputHTMLAttributes<HTMLSelectElement> & {label: string}> = ({label, children, ...props}) => (\n   <div>\n       <label className=\"block text-xs font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">{label}</label>\n       <select {...props} className=\"w-full bg-gray-100 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 text-sm focus:ring-primary focus:border-primary\">\n           {children}\n       </select>\n   </div>\n);\n\n\nconst ActiveTradesView: React.FC = () => {\n    const [activeTab, setActiveTab] = useState<'positions' | 'history'>('positions');\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    \n    // State for filters\n    const [symbolFilter, setSymbolFilter] = useState('');\n    const [startDateFilter, setStartDateFilter] = useState('');\n    const [endDateFilter, setEndDateFilter] = useState('');\n    const [modeFilter, setModeFilter] = useState('All');\n\n    const handleResetFilters = () => {\n        setSymbolFilter('');\n        setStartDateFilter('');\n        setEndDateFilter('');\n        setModeFilter('All');\n    };\n\n    const filteredTradeHistory = useMemo(() => {\n        return mockTradeHistory.filter(trade => {\n            const tradeDate = new Date(trade.date);\n            const startDate = startDateFilter ? new Date(startDateFilter) : null;\n            const endDate = endDateFilter ? new Date(endDateFilter) : null;\n\n            if (startDate) startDate.setUTCHours(0, 0, 0, 0);\n            if (endDate) endDate.setUTCHours(23, 59, 59, 999);\n            \n            const symbolMatch = trade.symbol.toLowerCase().includes(symbolFilter.toLowerCase());\n            const startDateMatch = !startDate || tradeDate >= startDate;\n            const endDateMatch = !endDate || tradeDate <= endDate;\n            const modeMatch = modeFilter === 'All' || trade.mode === modeFilter;\n\n            return symbolMatch && startDateMatch && endDateMatch && modeMatch;\n        });\n    }, [symbolFilter, startDateFilter, endDateFilter, modeFilter]);\n\n    return (\n        <>\n        <ManualOrderModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} />\n        <Card>\n            <div className=\"flex justify-between items-center pb-2 border-b border-gray-200 dark:border-dark-border\">\n                <div className=\"flex\">\n                    <button \n                        onClick={() => setActiveTab('positions')} \n                        className={`px-4 py-2 text-sm font-medium transition-colors ${activeTab === 'positions' ? 'border-b-2 border-primary text-primary' : 'text-gray-500 hover:text-gray-700 dark:text-dark-text-secondary dark:hover:text-white'}`}\n                    >\n                        Active Positions ({mockActivePositions.length})\n                    </button>\n                    <button \n                        onClick={() => setActiveTab('history')} \n                        className={`px-4 py-2 text-sm font-medium transition-colors ${activeTab === 'history' ? 'border-b-2 border-primary text-primary' : 'text-gray-500 hover:text-gray-700 dark:text-dark-text-secondary dark:hover:text-white'}`}\n                    >\n                        Trade History\n                    </button>\n                </div>\n                <button \n                    onClick={() => setIsModalOpen(true)}\n                    className=\"bg-primary text-white font-semibold py-2 px-4 rounded-lg hover:bg-primary-hover transition-colors flex items-center text-sm\"\n                >\n                    <Icon name=\"plus\" className=\"h-4 w-4 mr-2\" />\n                    Manual Order\n                </button>\n            </div>\n\n\n            {activeTab === 'history' && (\n                <div className=\"p-4 border-b border-gray-200 dark:border-dark-border\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end\">\n                        <FilterInput label=\"Symbol\" type=\"text\" placeholder=\"e.g. BTC\" value={symbolFilter} onChange={e => setSymbolFilter(e.target.value)} />\n                        <FilterInput label=\"Start Date\" type=\"date\" value={startDateFilter} onChange={e => setStartDateFilter(e.target.value)} />\n                        <FilterInput label=\"End Date\" type=\"date\" value={endDateFilter} onChange={e => setEndDateFilter(e.target.value)} />\n                        <FilterSelect label=\"Mode\" value={modeFilter} onChange={e => setModeFilter(e.target.value)}>\n                            <option value=\"All\">All</option>\n                            <option value=\"Real\">Real</option>\n                            <option value=\"Demo\">Demo</option>\n                        </FilterSelect>\n                        <button onClick={handleResetFilters} className=\"bg-gray-200 dark:bg-dark-bg-secondary text-sm font-medium py-2 px-4 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors h-10\">\n                            Reset Filters\n                        </button>\n                    </div>\n                </div>\n            )}\n            \n            <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm text-left text-gray-500 dark:text-dark-text-secondary\">\n                    <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-dark-bg-secondary dark:text-dark-text-secondary\">\n                        {activeTab === 'positions' ? (\n                            <tr>\n                                <th scope=\"col\" className=\"px-6 py-3\">Symbol</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Entry Price</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Quantity</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Current Price</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Profit/Loss</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Position</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Exchange</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Actions</th>\n                            </tr>\n                        ) : (\n                            <tr>\n                                <th scope=\"col\" className=\"px-6 py-3\">Symbol</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Entry Price</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Exit Price</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Quantity</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">P/L</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Position</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Date</th>\n                                <th scope=\"col\" className=\"px-6 py-3\">Mode</th>\n                            </tr>\n                        )}\n                    </thead>\n                    <tbody>\n                        {activeTab === 'positions' ? mockActivePositions.map((pos, i) => (\n                            <tr key={i} className=\"bg-white border-b dark:bg-dark-card dark:border-dark-border hover:bg-gray-50 dark:hover:bg-dark-bg-secondary\">\n                                <td className=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\">{pos.symbol}</td>\n                                <td className=\"px-6 py-4\">${pos.entryPrice.toLocaleString()}</td>\n                                <td className=\"px-6 py-4\">{pos.quantity}</td>\n                                <td className=\"px-6 py-4\">${pos.currentPrice.toLocaleString()}</td>\n                                <td className={`px-6 py-4 font-bold ${pos.pnl >= 0 ? 'text-success' : 'text-danger'}`}>${pos.pnl.toLocaleString()}</td>\n                                <td className=\"px-6 py-4\">{pos.position}</td>\n                                <td className=\"px-6 py-4\">{pos.exchange}</td>\n                                <td className=\"px-6 py-4\"><button className=\"font-medium text-primary hover:underline\">Close</button></td>\n                            </tr>\n                        )) : filteredTradeHistory.map((trade, i) => (\n                            <tr key={i} className=\"bg-white border-b dark:bg-dark-card dark:border-dark-border hover:bg-gray-50 dark:hover:bg-dark-bg-secondary\">\n                                <td className=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\">{trade.symbol}</td>\n                                <td className=\"px-6 py-4\">${trade.entryPrice.toLocaleString()}</td>\n                                <td className=\"px-6 py-4\">${trade.exitPrice.toLocaleString()}</td>\n                                <td className=\"px-6 py-4\">{trade.quantity}</td>\n                                <td className={`px-6 py-4 font-bold ${trade.pnl >= 0 ? 'text-success' : 'text-danger'}`}>${trade.pnl.toLocaleString()}</td>\n                                <td className=\"px-6 py-4\">{trade.position}</td>\n                                <td className=\"px-6 py-4\">{trade.date}</td>\n                                <td className=\"px-6 py-4\"><span className={`px-2 py-1 text-xs font-medium rounded-full ${trade.mode === 'Real' ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300' : 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300'}`}>{trade.mode}</span></td>\n                            </tr>\n                        ))}\n                         {activeTab === 'history' && filteredTradeHistory.length === 0 && (\n                            <tr>\n                                <td colSpan={8} className=\"text-center py-8 text-gray-500 dark:text-dark-text-secondary\">\n                                    No trades found matching your filters.\n                                </td>\n                            </tr>\n                        )}\n                    </tbody>\n                </table>\n            </div>\n        </Card>\n        </>\n    );\n};\n\nexport default ActiveTradesView;\n","size_bytes":16539},"components/Card.tsx":{"content":"\nimport React from 'react';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst Card: React.FC<CardProps> = ({ children, className = '' }) => {\n  return (\n    <div className={`bg-white dark:bg-dark-card shadow-lg rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","size_bytes":361},"pages/admin-dashboard/FeatureFlagsView.tsx":{"content":"import React, { useState } from 'react';\nimport Card from '../../components/Card';\nimport { FeatureFlag } from '../../types';\nimport ToggleSwitch from '../../components/ToggleSwitch';\n\nconst initialFeatureFlags: FeatureFlag[] = [\n    { id: 'ff-1', name: 'Social Trading Hub', description: 'Enables the \"Discover Traders\" and copy trading features for all users.', enabled: true },\n    { id: 'ff-2', name: 'AI Strategy Optimizer', description: 'Allows users to access the AI-powered backtesting and optimization module.', enabled: true },\n    { id: 'ff-3', name: 'Fiat Deposit Gateway', description: 'Controls the visibility and functionality of credit card and bank transfer deposits.', enabled: false },\n    { id: 'ff-4', name: 'Advanced Charting Tools', description: 'Unlocks professional-grade charting tools and indicators on the strategy page (BETA).', enabled: true },\n];\n\nconst FeatureFlagsView: React.FC = () => {\n    const [flags, setFlags] = useState(initialFeatureFlags);\n\n    const handleToggle = (id: string) => {\n        setFlags(prevFlags =>\n            prevFlags.map(flag =>\n                flag.id === id ? { ...flag, enabled: !flag.enabled } : flag\n            )\n        );\n    };\n\n    return (\n        <Card>\n            <h2 className=\"text-2xl font-bold mb-2\">Feature Flags & System Toggles</h2>\n            <p className=\"text-sm text-gray-500 dark:text-dark-text-secondary mb-6\">Control feature availability across the platform in real-time. Changes are applied instantly.</p>\n\n            <div className=\"divide-y divide-gray-200 dark:divide-dark-border\">\n                {flags.map(flag => (\n                    <div key={flag.id} className=\"py-4 flex flex-col md:flex-row justify-between items-start md:items-center\">\n                        <div>\n                            <h3 className=\"font-semibold text-gray-800 dark:text-white\">{flag.name}</h3>\n                            <p className=\"text-sm text-gray-500 dark:text-dark-text-secondary max-w-lg\">{flag.description}</p>\n                        </div>\n                        <div className=\"mt-2 md:mt-0 flex items-center space-x-4\">\n                           <span className={`text-sm font-bold ${flag.enabled ? 'text-success' : 'text-gray-500'}`}>\n                                {flag.enabled ? 'ENABLED' : 'DISABLED'}\n                           </span>\n                           <ToggleSwitch enabled={flag.enabled} onChange={() => handleToggle(flag.id)} />\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </Card>\n    );\n};\n\nexport default FeatureFlagsView;","size_bytes":2604},"pages/user-dashboard/SettingsView.tsx":{"content":"\nimport React from 'react';\nimport Card from '../../components/Card';\nimport ToggleSwitch from '../../components/ToggleSwitch';\n\nconst Section: React.FC<{ title: string; children: React.ReactNode }> = ({ title, children }) => (\n    <div className=\"border-b border-gray-200 dark:border-dark-border pb-6 mb-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>\n        <div className=\"space-y-4\">{children}</div>\n    </div>\n);\n\nconst SettingRow: React.FC<{ label?: string; value?: string; children?: React.ReactNode }> = ({ label, value, children }) => (\n    <div className=\"flex items-center justify-between py-2\">\n        <div>\n            {label && <p className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</p>}\n        </div>\n        <div>\n            {value && <p className=\"text-sm text-gray-800 dark:text-white font-medium\">{value}</p>}\n            {children}\n        </div>\n    </div>\n);\n\nconst SettingsView: React.FC = () => {\n    return (\n        <Card className=\"max-w-4xl mx-auto\">\n            <h2 className=\"text-2xl font-bold mb-6\">Account Settings</h2>\n\n            <Section title=\"Personal Data\">\n                <SettingRow label=\"User ID\" value=\"USR-11A2\" />\n                <SettingRow label=\"Email\" value=\"john.doe@example.com\" />\n                <SettingRow label=\"Name\" value=\"John Doe\" />\n                <SettingRow label=\"Country\" value=\"United States\" />\n                <SettingRow label=\"Phone Number\" value=\"+1 (555) 123-4567\" />\n            </Section>\n\n            <Section title=\"Security\">\n                <SettingRow label=\"Two-Factor Authentication (2FA)\">\n                     <button className=\"text-sm bg-primary text-white font-semibold py-1 px-3 rounded-lg hover:bg-primary-hover\">Enable</button>\n                </SettingRow>\n                <SettingRow label=\"Anti-Phishing Code\" value=\"Not Set\" />\n                <SettingRow label=\"IP Address Whitelist\" value=\"2 addresses\" />\n                 <SettingRow label=\"Device & Activity\">\n                     <a href=\"#\" className=\"text-sm text-primary hover:underline\">View Logs</a>\n                </SettingRow>\n            </Section>\n\n            <Section title=\"Billing\">\n                 <SettingRow label=\"Subscription Type\" value=\"Pro Plan\" />\n                 <SettingRow label=\"Status\" value=\"Active\" />\n                 <SettingRow label=\"Next Billing Date\" value=\"2024-08-15\" />\n                 <SettingRow>\n                     <button className=\"text-sm bg-primary/20 text-primary font-semibold py-2 px-4 rounded-lg hover:bg-primary/30\">Manage Subscription</button>\n                 </SettingRow>\n            </Section>\n            \n            <Section title=\"My Settings\">\n                 <SettingRow label=\"Language\" value=\"English\" />\n                 <SettingRow label=\"Timezone\" value=\"UTC-5 (Eastern Time)\" />\n                 <SettingRow label=\"Referral Code\">\n                     <input type=\"text\" placeholder=\"Enter code\" className=\"w-48 bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md p-1 text-sm\"/>\n                 </SettingRow>\n            </Section>\n\n            <div className=\"pb-6 mb-6\">\n                 <h3 className=\"text-lg font-semibold mb-4\">BETA Features</h3>\n                 <div className=\"space-y-4\">\n                    <SettingRow label=\"Enhanced Trade History Page\">\n                        <ToggleSwitch enabled={true} onChange={() => {}} size=\"sm\" />\n                    </SettingRow>\n                    <SettingRow label=\"Show Balance in EUR\">\n                         <ToggleSwitch enabled={false} onChange={() => {}} size=\"sm\" />\n                    </SettingRow>\n                </div>\n            </div>\n        </Card>\n    );\n};\n\nexport default SettingsView;\n","size_bytes":3793},"pages/admin-dashboard/AdminDashboard.tsx":{"content":"\nimport React, { useState } from 'react';\nimport AdminSidebar from './AdminSidebar';\nimport AdminHomeView from './AdminHomeView';\nimport KycManagementView from './KycManagementView';\nimport UserManagementView from './UserManagementView';\nimport BotManagementView from './BotManagementView';\nimport AuditTrailView from './AuditTrailView';\nimport AdminInboxView from './AdminInboxView';\nimport BotHealthView from './BotHealthView';\nimport FeatureFlagsView from './FeatureFlagsView';\nimport AdminHeader from '../../components/AdminHeader';\n\nconst AdminDashboard: React.FC = () => {\n  const [isSidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [isMobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [activeView, setActiveView] = useState('Dashboard');\n\n  const handleViewChange = (view: string) => {\n    setActiveView(view);\n    setMobileMenuOpen(false);\n  };\n\n  const renderView = () => {\n    switch (activeView) {\n      case 'Dashboard':\n        return <AdminHomeView />;\n      case 'User List / CRM':\n        return <UserManagementView />;\n      case 'KYC Management':\n        return <KycManagementView />;\n      case 'Bot Management':\n        return <BotManagementView />;\n      case 'Audit Trail':\n        return <AuditTrailView />;\n      case 'Admin Inbox':\n        return <AdminInboxView />;\n      case 'Bot Health / Heartbeats':\n        return <BotHealthView />;\n      case 'Feature Flags':\n        return <FeatureFlagsView />;\n      default:\n        return <div className=\"p-4 sm:p-6 md:p-8\"><h1 className=\"text-xl sm:text-2xl font-bold\">{activeView}</h1><p>Content coming soon...</p></div>;\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen bg-gray-100 dark:bg-dark-bg overflow-hidden\">\n      <AdminSidebar \n        isCollapsed={isSidebarCollapsed} \n        setSidebarCollapsed={setSidebarCollapsed} \n        isMobileMenuOpen={isMobileMenuOpen}\n        setMobileMenuOpen={setMobileMenuOpen}\n        activeView={activeView} \n        setActiveView={handleViewChange} \n      />\n      \n      {isMobileMenuOpen && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden\"\n          onClick={() => setMobileMenuOpen(false)}\n        />\n      )}\n      \n      <div className={`flex-1 flex flex-col transition-all duration-300 w-full lg:w-auto ${isSidebarCollapsed ? 'lg:ml-20' : 'lg:ml-64'}`}>\n        <AdminHeader onMenuClick={() => setMobileMenuOpen(true)} />\n        <main className=\"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6 lg:p-8\">\n          {renderView()}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n","size_bytes":2604},"pages/admin-dashboard/AdminInboxView.tsx":{"content":"\nimport React, { useState } from 'react';\nimport Card from '../../components/Card';\nimport { AdminInboxItem } from '../../types';\nimport Icon from '../../components/Icon';\n\nconst mockInboxItems: AdminInboxItem[] = [\n    { id: 'inbox-1', type: 'Approval', title: 'KYC Application: USR-B3C4', description: 'Jane Smith has submitted Tier 2 verification documents.', timestamp: '1h ago', isRead: false },\n    { id: 'inbox-2', type: 'Alert', title: 'High Bot Error Rate: BOT-C3', description: 'Bot has failed 5 consecutive orders. Manual review required.', timestamp: '3h ago', isRead: false },\n    { id: 'inbox-3', type: 'Task', title: 'Review System Health Report', description: 'The weekly performance and health report is ready for your review.', timestamp: '1d ago', isRead: true },\n    { id: 'inbox-4', type: 'Approval', title: 'Large Withdrawal Request: $50,000', description: 'User USR-F6G7 has requested a large withdrawal requiring manual approval.', timestamp: '2d ago', isRead: true },\n];\n\ntype ActiveTab = 'All' | 'Approvals' | 'Alerts' | 'Tasks';\n\nconst TabButton: React.FC<{\n    tabName: ActiveTab;\n    label: string;\n    activeTab: ActiveTab;\n    onClick: (tabName: ActiveTab) => void;\n}> = ({ tabName, label, activeTab, onClick }) => (\n     <button onClick={() => onClick(tabName)} className={`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${activeTab === tabName ? 'bg-primary text-white' : 'text-gray-500 hover:bg-gray-200 dark:text-dark-text-secondary dark:hover:bg-dark-bg-secondary'}`}>\n        {label}\n    </button>\n);\n\nconst AdminInboxView: React.FC = () => {\n    const [items, setItems] = useState(mockInboxItems);\n    const [activeTab, setActiveTab] = useState<ActiveTab>('All');\n\n    const filteredItems = items.filter(item => {\n        if (activeTab === 'All') return true;\n        return item.type.toLowerCase() === activeTab.slice(0, -1).toLowerCase();\n    });\n\n    const getIconForType = (type: AdminInboxItem['type']) => {\n        switch (type) {\n            case 'Approval': return { icon: 'check', color: 'text-blue-500' };\n            case 'Alert': return { icon: 'warning', color: 'text-danger' };\n            case 'Task': return { icon: 'audit', color: 'text-gray-500' };\n        }\n    };\n\n    return (\n        <Card>\n            <h2 className=\"text-2xl font-bold mb-4\">Admin Inbox</h2>\n            <div className=\"flex space-x-2 p-1 bg-gray-100 dark:bg-dark-bg-secondary rounded-lg mb-4 w-full md:w-auto\">\n                <TabButton tabName=\"All\" label=\"All\" activeTab={activeTab} onClick={setActiveTab} />\n                <TabButton tabName=\"Approvals\" label=\"Approvals\" activeTab={activeTab} onClick={setActiveTab} />\n                <TabButton tabName=\"Alerts\" label=\"Alerts\" activeTab={activeTab} onClick={setActiveTab} />\n                <TabButton tabName=\"Tasks\" label=\"Tasks\" activeTab={activeTab} onClick={setActiveTab} />\n            </div>\n\n            <div className=\"space-y-3\">\n                {filteredItems.map(item => (\n                    <div key={item.id} className={`p-4 rounded-lg flex items-start space-x-4 ${!item.isRead ? 'bg-blue-50 dark:bg-blue-900/10' : 'bg-gray-50 dark:bg-dark-bg-secondary'}`}>\n                        <div className={`p-2 rounded-full bg-white dark:bg-dark-bg ${getIconForType(item.type).color}`}>\n                            <Icon name={getIconForType(item.type).icon} className=\"h-5 w-5\" />\n                        </div>\n                        <div className=\"flex-1\">\n                            <div className=\"flex justify-between items-center\">\n                                <h3 className=\"font-semibold\">{item.title}</h3>\n                                <p className=\"text-xs text-gray-400\">{item.timestamp}</p>\n                            </div>\n                            <p className=\"text-sm text-gray-500 dark:text-dark-text-secondary\">{item.description}</p>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                             <button className=\"text-sm font-medium text-primary hover:underline\">View</button>\n                             <button className=\"text-sm font-medium text-gray-500 hover:text-gray-700\">Dismiss</button>\n                        </div>\n                    </div>\n                ))}\n                 {filteredItems.length === 0 && <p className=\"text-center p-8 text-gray-500\">No items in this category.</p>}\n            </div>\n        </Card>\n    );\n};\n\nexport default AdminInboxView;\n","size_bytes":4485},"App.tsx":{"content":"\nimport React, { useState, createContext, useMemo, useEffect } from 'react';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport LoginPage from './pages/LoginPage';\nimport UserDashboard from './pages/user-dashboard/UserDashboard';\nimport AdminDashboard from './pages/admin-dashboard/AdminDashboard';\nimport { Theme } from './types';\n\nexport const ThemeContext = createContext<{ theme: Theme; toggleTheme: () => void }>({\n  theme: 'dark',\n  toggleTheme: () => {},\n});\n\nconst AppContent: React.FC = () => {\n  const [theme, setTheme] = useState<Theme>('dark');\n  const { user, isAuthenticated } = useAuth();\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n    if (theme === 'dark') {\n      root.classList.add('dark');\n      root.style.backgroundColor = '#1a202c';\n    } else {\n      root.classList.remove('dark');\n      root.style.backgroundColor = '#f3f4f6';\n    }\n  }, [theme]);\n  \n  const toggleTheme = () => {\n    setTheme(prevTheme => (prevTheme === 'light' ? 'dark' : 'light'));\n  };\n\n  const themeValue = useMemo(() => ({ theme, toggleTheme }), [theme]);\n  \n  if (!isAuthenticated || !user) {\n    return <LoginPage />;\n  }\n\n  return (\n    <ThemeContext.Provider value={themeValue}>\n      <div className=\"min-h-screen font-sans text-gray-900 dark:text-dark-text bg-gray-100 dark:bg-dark-bg\">\n        {user.role === 'admin' ? <AdminDashboard /> : <UserDashboard />}\n      </div>\n    </ThemeContext.Provider>\n  );\n};\n\nconst App: React.FC = () => {\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  );\n};\n\nexport default App;\n","size_bytes":1591},"vite.config.ts":{"content":"import path from 'path';\nimport { defineConfig, loadEnv } from 'vite';\nimport react from '@vitejs/plugin-react';\nimport { fileURLToPath } from 'url';\n\nconst __dirname = path.dirname(fileURLToPath(import.meta.url));\n\nexport default defineConfig(({ mode }) => {\n    const env = loadEnv(mode, '.', '');\n    return {\n      server: {\n        port: 5000,\n        host: '0.0.0.0',\n        allowedHosts: true,\n        hmr: {\n          clientPort: 5000,\n        },\n      },\n      plugins: [react()],\n      define: {\n        'process.env.API_KEY': JSON.stringify(env.GEMINI_API_KEY),\n        'process.env.GEMINI_API_KEY': JSON.stringify(env.GEMINI_API_KEY)\n      },\n      resolve: {\n        alias: {\n          '@': path.resolve(__dirname, '.'),\n        }\n      }\n    };\n});\n","size_bytes":764},"types.ts":{"content":"export type UTCTimestamp = number;\n\nexport type Theme = 'light' | 'dark';\nexport type UserRole = 'user' | 'admin';\n\nexport interface User {\n  id: string;\n  username: string;\n  role: UserRole;\n  name: string;\n  email: string;\n  avatarUrl: string;\n  kycStatus: 'Verified' | 'Pending' | 'Rejected' | 'Not Submitted';\n  subscriptionPlan: string;\n  lastLogin: string;\n}\n\nexport interface AuthContextType {\n  user: User | null;\n  login: (username: string, password: string) => Promise<boolean>;\n  logout: () => void;\n  isAuthenticated: boolean;\n}\n\nexport interface KpiCardData {\n    title: string;\n    value: string;\n    change?: string;\n    changeType?: 'increase' | 'decrease';\n    icon: string;\n}\n\nexport interface ActivePosition {\n    symbol: string;\n    entryPrice: number;\n    quantity: number;\n    currentPrice: number;\n    pnl: number;\n    position: 'Long' | 'Short';\n    exchange: string;\n}\n\nexport interface TradeHistory {\n    symbol: string;\n    entryPrice: number;\n    exitPrice: number;\n    quantity: number;\n    pnl: number;\n    position: 'Long' | 'Short';\n    date: string;\n    mode: 'Demo' | 'Real';\n    strategy: string;\n}\n\nexport interface Exchange {\n    name: string;\n    logo: string;\n    connected: boolean;\n    permissions: string[];\n    requiredPermissions: string[];\n}\n\nexport interface KycApplication {\n    userId: string;\n    userEmail: string;\n    tier: string;\n    documentType: string;\n    timeInQueue: string;\n    status: 'Pending' | 'In Progress' | 'Requires Resubmission' | 'Failed' | 'Approved';\n    riskScore: 'Low' | 'Medium' | 'High';\n    submittedDate: string;\n}\n\nexport interface InvestmentGoal {\n    id: string;\n    name: string;\n    targetAmount: number;\n    currentAmount: number;\n    targetDate: string;\n}\n\nexport interface MasterTrader {\n  id: string;\n  name: string;\n  avatarUrl: string;\n  pnl: number; \n  maxDrawdown: number;\n  winRate: number;\n  aumCopied: number;\n  strategy: string;\n}\n\nexport interface CopiedTrade {\n  id: string;\n  masterTraderId: string;\n  masterTraderName: string;\n  masterTraderAvatarUrl: string;\n  strategy: string;\n  symbol: string;\n  position: 'Long' | 'Short';\n  pnl: number;\n  timestamp: string;\n}\n\nexport interface OptimizationResult {\n  timeframe: string;\n  totalReturn: number;\n  maxDrawdown: number;\n  winRate: number;\n  robustnessScore: number;\n  trades: number;\n  weeklyProfitability: number;\n  sharpeRatio: number;\n}\n\nexport interface MonthlyReturn {\n    month: string;\n    return: number;\n}\n\nexport type CandlestickData = {\n  time: UTCTimestamp;\n  open: number;\n  high: number;\n  low: number;\n  close: number;\n  value?: number;\n  color?: string;\n};\n\nexport type ChartOHLCV = {\n    open?: number;\n    high?: number;\n    low?: number;\n    close?: number;\n    volume?: number;\n    change?: number;\n    changePercent?: number;\n};\n\n\n// Admin Types\nexport interface SystemHealth {\n    name: string;\n    status: 'ok' | 'warning' | 'error';\n    metric: string;\n}\n\nexport interface AdminBotInfo {\n    botId: string;\n    userId: string;\n    strategy: string;\n    pair: string;\n    status: 'Active' | 'Paused' | 'Error';\n    pnl: number;\n    drawdown: number;\n}\n\nexport interface SystemAlert {\n  id: string;\n  severity: 'warning' | 'critical';\n  title: string;\n  message: string;\n  timestamp: string;\n}\n\nexport interface AuditLog {\n    id: string;\n    timestamp: string;\n    adminUser: string;\n    ipAddress: string;\n    action: string;\n    details: string;\n}\n\nexport interface AdminInboxItem {\n    id: string;\n    type: 'Approval' | 'Alert' | 'Task';\n    title: string;\n    description: string;\n    timestamp: string;\n    isRead: boolean;\n}\n\nexport interface BotHealth {\n    botId: string;\n    userId: string;\n    strategy: string;\n    status: 'Healthy' | 'Warning' | 'Critical';\n    lastHeartbeat: string;\n}\n\nexport interface FeatureFlag {\n    id: string;\n    name: string;\n    description: string;\n    enabled: boolean;\n}\n\n\n// Strategy Types\nexport interface DcaConfig {\n    // Market Type\n    marketType: 'SPOT' | 'FUTURES';\n\n    // Entry Logic\n    startOrderType: 'MARKET' | 'LIMIT';\n    initialBuy: number;\n    openPositionDoubled: boolean;\n    timeframe: '1m' | '5m' | '15m' | '1h' | '4h' | '1d';\n    startCondition: string; // e.g., 'RSI < 30'\n    buyInCallback: number;\n    \n    // Take Profit\n    tpBasis: '% by Average Price' | '% by Base Order Value';\n    wholePositionTPRatio: number;\n    wholePositionTPCallback: number;\n    subPositionTPCallback: number;\n    tpRule: '1st & last TP' | 'Combined TP' | 'TP all';\n\n    // Safety Orders (SO)\n    marginCallLimit: number;\n    marginCallDrop: number;\n    multipleBuyRatio: number;\n    soScalingType: 'Geometric' | 'Arithmetic';\n    maxSOPriceDeviation: number;\n    maxActiveSOs: number;\n    soPriceStepMultiplier: number;\n\n    // Re-entry\n    rebuy: number;\n    rebuyCallbackRatio: number;\n\n    // Risk Control\n    maxLossSL: number;\n    trailingSL: boolean;\n    trailingSLCallback: number;\n    cooldownPeriod: number; // in hours\n    maxDrawdownLimit: number;\n\n    // Deployment & Automation\n    totalUsedUSDT: number;\n    maxTradesPerDay: number;\n    tradingWindowStart: string; // HH:MM\n    tradingWindowEnd: string; // HH:MM\n    reinvestProfit: boolean;\n\n    // Futures/Margin\n    leverage: number;\n    marginMode: 'Isolated' | 'Cross';\n}\n\n\nexport interface GridConfig {\n    // Basic Grid Settings\n    marketType: 'SPOT' | 'FUTURES';\n    rangeType: 'Manual' | 'AI_OPTIMIZED';\n    aiModel: 'notebook' | 'princeton';\n    analysisPeriod: number;\n    lowerPrice: number;\n    upperPrice: number;\n    gridCount: number;\n    investmentAmount: number;\n    \n    // Grid Logic & Execution\n    gridSpacingType: 'Arithmetic' | 'Geometric';\n    startCondition: string;\n    pumpProtection: boolean;\n    timeframeForPumpDump: number; // in minutes\n    \n    // Advanced Trailing Controls\n    trailingUp: boolean;\n    trailingUpPercentage: number;\n    trailingDown: boolean;\n    trailingDownPercentage: number;\n    stopLossTrailing: boolean;\n    stopLossTrailingPercentage: number;\n    \n    // Risk & Inventory Management\n    stopLossPrice: number;\n    rangeBreakoutAction: 'Stop Bot' | 'Stop & Sell' | 'Convert to DCA';\n    maxInventoryLimit: number; // In base currency amount\n    \n    // Profit & Automation\n    compoundingProfit: boolean;\n    gridRedeploymentStrategy: 'Pause' | 'Auto-Restart Same' | 'Auto-Restart New AI';\n\n    // Futures Trading\n    orderDirection: 'Neutral' | 'Long' | 'Short';\n    leverageRatio: number;\n    marginMode: 'Isolated' | 'Cross';\n    autoMarginTransfer: boolean;\n    hedgeGridToggle: boolean;\n}\n\nexport interface AlgoStrategyConfig {\n    marketType: 'SPOT' | 'FUTURES';\n    \n    // Core Logic\n    model: 'Trend-Following' | 'Mean Reversion' | 'Volatility Breakout' | 'Pairs/Stat-Arb';\n    primaryEntrySignal: string;\n    confirmationFilter: string;\n    regimeFilter: 'ADX' | 'Volatility' | 'None';\n\n    // Universal Risk\n    atrMultiplierForStops: number;\n    maxHoldingPeriod: number;\n    useVolatilityFilter: boolean;\n    volatilityFilterATR: number;\n    useCorrelationAwareness: boolean;\n\n    // Pairs Specific\n    pairSelection: string;\n    zScoreEntry: number;\n    zScoreExit: number;\n    useStructuralBreakDetection: boolean;\n\n    // Execution & Order Management\n    maxPositionSize: number;\n    maxDailyLoss: number;\n    maxWeeklyLoss: number;\n    slippageTolerance: number;\n    orderType: 'Market' | 'Limit' | 'IOC' | 'FOK';\n    partialFillHandling: 'Wait' | 'Cancel Remainder';\n    \n    // Advanced Risk & System Health\n    circuitBreakerEnabled: boolean;\n    maxOpenPositions: number;\n    useTimeOfDayFilter: boolean;\n    tradingHoursStart: string;\n    tradingHoursEnd: string;\n    tradeVelocityLimit: number;\n    commissionFeeModel: 'Fixed' | 'Maker/Taker Tiers';\n    commissionFee: number;\n    \n    // Compliance and Reporting\n    allocationBucket: string;\n    auditLogVerbosity: 'Low' | 'Medium' | 'High';\n    postTradeReportingFlag: boolean;\n    \n    // Portfolio-Level Risk\n    maxPortfolioDrawdown: number;\n    varLimit: number;\n    maxPortfolioLeverage: number;\n    liquidityDepthThreshold: number;\n    interStrategyCorrelationFilter: number;\n    \n    // Operational & System Health\n    globalKillSwitch: boolean;\n    dataFeedLatencyThreshold: number;\n    connectivityFailureRetries: number;\n    connectivityRetryDelay: number;\n    maxOrderCancelRate: number;\n    \n    // Post-Trade & Compliance\n    slippageReportDeviation: number;\n    tradeAuditTrailLevel: 'Minimal' | 'Decision-Level' | 'Full Tick';\n    backtestLiveSkewThreshold: number;\n    \n    // Strategy Adaptivity and Calibration\n    useAdaptiveParameters: boolean;\n    adaptiveParameterRange: number;\n    marketRegimeSwitchThreshold: number;\n    performanceDegradationAction: 'Alert' | 'Pause' | 'Re-calibrate';\n    walkForwardAnalysisPeriod: number;\n    \n    // Portfolio Construction & Aggregation\n    targetPortfolioBeta: number;\n    assetClassExposureCap: number;\n    riskBasedCapitalAllocation: 'Equal-Weight' | 'Risk-Parity' | 'Kelly';\n    dynamicRebalanceThreshold: number;\n    rebalanceTimeInterval: string;\n    \n    // System Integrity and Emergency\n    gracefulShutdownMode: boolean;\n    hardwareLatencyAlert: number;\n    \n    // Model Risk and Decay Management\n    modelValidationFrequency: 'Daily' | 'Weekly' | 'Monthly';\n    outOfSamplePerformanceThreshold: number;\n    strategyDecommissioningLogic: number;\n    parameterStabilityMetric: number;\n    tradeRationaleLoggingDetail: 'Minimal' | 'Decision Tree' | 'Full Feature Set';\n    \n    // Futures/Margin\n    leverage: number;\n    marginMode: 'Isolated' | 'Cross';\n}\n\nexport interface NormalGridConfig {\n    marketType: 'SPOT' | 'FUTURES';\n    lowerPrice: number;\n    upperPrice: number;\n    gridCount: number;\n    investmentAmount: number;\n    gridSpacingType: 'Arithmetic' | 'Geometric';\n    stopLossPrice: number;\n    takeProfitPrice: number;\n    leverage: number;\n    marginMode: 'Isolated' | 'Cross';\n}\n\nexport interface NormalDCAConfig {\n    marketType: 'SPOT' | 'FUTURES';\n    initialBuy: number;\n    buyInCallback: number;\n    takeProfitPercentage: number;\n    safetyOrderCount: number;\n    safetyOrderStepPercentage: number;\n    safetyOrderVolumeMultiplier: number;\n    stopLossPercentage: number;\n    leverage: number;\n    marginMode: 'Isolated' | 'Cross';\n}\n\nexport interface TrendFollowingConfig {\n    marketType: 'SPOT' | 'FUTURES';\n    fastEMAPeriod: number;\n    slowEMAPeriod: number;\n    atrPeriod: number;\n    atrMultiplier: number;\n    positionSize: number;\n    stopLossATRMultiplier: number;\n    takeProfitATRMultiplier: number;\n    trailingStopEnabled: boolean;\n    leverage: number;\n    marginMode: 'Isolated' | 'Cross';\n}\n\nexport interface MeanReversionConfig {\n    marketType: 'SPOT' | 'FUTURES';\n    zScorePeriod: number;\n    zScoreEntryThreshold: number;\n    zScoreExitThreshold: number;\n    rsiPeriod: number;\n    rsiOversold: number;\n    rsiOverbought: number;\n    positionSize: number;\n    stopLossPercentage: number;\n    takeProfitPercentage: number;\n    leverage: number;\n    marginMode: 'Isolated' | 'Cross';\n}\n\nexport interface VolatilityBreakoutConfig {\n    marketType: 'SPOT' | 'FUTURES';\n    breakoutIndicator: 'Donchian' | 'Keltner';\n    lookbackPeriod: number;\n    keltnerATRMultiplier: number;\n    positionSize: number;\n    stopLossPercentage: number;\n    takeProfitPercentage: number;\n    timeOfDayFilterEnabled: boolean;\n    tradingHoursStart: string;\n    tradingHoursEnd: string;\n    leverage: number;\n    marginMode: 'Isolated' | 'Cross';\n}\n\nexport interface TradingViewWebhookConfig {\n    marketType: 'SPOT' | 'FUTURES';\n    webhookURL: string;\n    alertParser: string;\n    signalSourceTrustScore: number;\n    maximumSlippage: number;\n    orderTimeout: number;\n    positionSizeOverride: 'Use Signal' | 'Fixed %';\n    fixedPositionSize: number;\n    dailyLossLimit: number;\n    maxExchangeAPIRateUsage: number;\n    orderTypeDefault: 'Market' | 'Limit' | 'Post Only Limit';\n    maxOpenPositions: number;\n    minimumPositionSize: number;\n    takeProfitPercentage: number;\n    stopLossPercentage: number;\n    globalCapitalAllocation: number;\n    maxPositionLeverage: number;\n    dailyTradeCountLimit: number;\n    ignoreTickersList: string;\n    confirmationWebhookURL: string;\n    logLevel: 'Info' | 'Debug' | 'Error';\n    timeZoneSetting: string;\n    partialFillHandling: 'Cancel Remainder' | 'Wait for Fill';\n    cooldownPeriod: number;\n    trailingStopActivation: number;\n    maxDrawdown: number;\n    exchangeTimeOffset: number;\n    executionEnvironment: 'Live Trading' | 'Paper Trading';\n    whitelistedIPAddresses: string;\n    maxTradeFeePercentage: number;\n    minimumProfitTarget: number;\n    strategyTagID: string;\n    accountMode: 'Single' | 'Master/Sub-Account';\n    webhookRetryMechanism: 'Exponential Backoff' | 'Fixed Delay';\n    leverage: number;\n    marginMode: 'Isolated' | 'Cross';\n}\n\nexport interface DipAnalyserConfig {\n    marketType: 'SPOT' | 'FUTURES';\n    dipScoreComponents: {\n        rsiDivergence: boolean;\n        volumeSpike: boolean;\n        priceLevelTest: boolean;\n    };\n    scoreThreshold: number;\n    minimumDipDepth: number;\n    timeframeForAnalysis: '1h' | '4h' | '1D';\n    buyAggression: 'Conservative' | 'Moderate' | 'Aggressive';\n    quickProfitTarget: number;\n    progressiveStop: boolean;\n    progressiveStopPercentage: number;\n    maximumConcurrentDips: number;\n    forcedAccumulationMode: boolean;\n    recoveryConfirmationFilter: number;\n    liquiditySweepRequirement: boolean;\n    fvgRetracementPercentage: number;\n    orderBlockProximityFilter: number;\n    maxOrderBookSkew: number;\n    executionSliceSize: number;\n    twapHorizon: number;\n    maxCumulativeSlippage: number;\n    dcaTrancheSizeMultiplier: number;\n    dcaProfitExitThreshold: boolean;\n    dcaProfitExitPercentage: number;\n    portfolioHedgeRatioAdjustment: number;\n    maxLossFromAverageEntry: number;\n    assetAllocationHardCap: number;\n    botHealthCheckInterval: number;\n    apiPermissionValidation: 'Read-Only' | 'Read/Trade' | 'Full';\n    autoPauseOnNewsEvent: boolean;\n    newsEventSeverity: 'Low' | 'Medium' | 'High';\n    volumeParticipationRate: number;\n    timeBasedDipInvalidation: number;\n    minAssetHoldingQuantity: number;\n    leverage: number;\n    marginMode: 'Isolated' | 'Cross';\n}\n\nexport interface SignalBotConfig {\n    marketType: 'SPOT' | 'FUTURES';\n    signalSource: 'Telegram' | 'Discord' | 'API' | 'Custom';\n    messageParser: string;\n    providerTrustScore: number;\n    signalVerificationDelay: number;\n    maximumPositions: number;\n    correlationLimit: number;\n    autoStopOnProviderError: boolean;\n    maxOrderDeviation: number;\n    maxPortfolioDrawdown: number;\n    auditLogVerbosity: 'Minimal' | 'Standard' | 'Detailed' | 'Full';\n    assetWhitelist: string;\n    timeOfDayTradingWindow: string;\n    maxDailyLoss: number;\n    maxWeeklyLoss: number;\n    orderTypePreference: 'Limit' | 'Market' | 'Post-Only Limit' | 'IOC' | 'FOK';\n    slippageTolerance: number;\n    fillOrKillTimeout: number;\n    dynamicPositionSizing: 'Fixed Amt' | '% of Balance' | 'Kelly Criterion' | 'VaR';\n    dataFeedLatencyThreshold: number;\n    maxAPIRequestRate: number;\n    emergencyKillSwitchKey: string;\n    signalReentryDelay: number;\n    tpSlOverwrite: 'Allow' | 'Reject' | 'Only If Worse';\n    partialFillPolicy: 'Hold' | 'Cancel Remaining' | 'Re-Price Limit';\n    marketDataTolerance: number;\n    orderTradeRatioLimit: number;\n    strategyVersionLock: string;\n    tradeIdentifierTag: string;\n    pnlReportingFrequency: 'Real-Time' | '1min' | '5min' | 'EOD';\n    vendorSignalLicenseKey: string;\n    minExchangeLiquidity: number;\n    postTradeComplianceDelay: number;\n    circuitBreakerResponse: 'Cancel All' | 'Pause New' | 'Reduce-Only';\n    requiredDataFields: string[];\n    exposureNettingMode: 'Gross' | 'Net' | 'Delta-Adjusted';\n    maxVolatilityFilter: number;\n    maxSlippagePerPosition: number;\n    strategyConfidenceScoreThreshold: number;\n    auditLogRetentionPeriod: number;\n    correlationCheckLookbackWindow: string;\n    externalRiskSystemHeartbeatTimeout: number;\n    orderRoutingDestinationOverride: string;\n    signalParsingFailureLimit: number;\n    tradeExecutionWindowMaxLatency: number;\n    maxAdverseExcursion: number;\n    outOfSampleFailureThreshold: number;\n    leverage: number;\n    marginMode: 'Isolated' | 'Cross';\n}\n\nexport type StrategyType = 'Advanced DCA' | 'Advanced Grid' | 'Signal Bot' | 'Quantitative Strategy' | 'Normal Grid' | 'Normal DCA' | 'TradingView Webhook Bot' | 'Dip Analyser Bot' | 'Trend-Following Bot' | 'Mean Reversion Bot' | 'Volatility Breakout Bot';\n\nexport interface UserStrategy {\n    id: string;\n    name: string;\n    type: StrategyType;\n    pair: string;\n    status: 'Active' | 'Paused' | 'Error';\n    pnl: number;\n    config: DcaConfig | GridConfig | AlgoStrategyConfig | any;\n}\n\nexport interface StrategyTemplate {\n    id: string;\n    name: string;\n    type: StrategyType;\n    config: DcaConfig | GridConfig | AlgoStrategyConfig | any;\n}\n\n// Arbitrage Types\nexport interface ArbitrageOpportunity {\n  id: string;\n  path: string; // e.g., \"USDT -> BTC -> ETH -> USDT\"\n  exchanges: string; // e.g., \"Binance / KuCoin\"\n  profit: number; // as percentage\n  timestamp: number;\n}\n\nexport interface ActiveArbitrage {\n  id: string;\n  path: string;\n  status: string; // e.g., \"Executing Leg 1/3\"\n  startTime: string;\n}\n\nexport interface ArbitrageTradeHistory {\n  id: string;\n  timestamp: string;\n  path: string;\n  profit: number; // in USD\n  fees: number;\n  netProfit: number;\n}\n\nexport interface ArbitrageConfig {\n    capitalAllocation: number;\n    minReturnThreshold: number;\n    maxDrawdown: number;\n    includedAssets: string[];\n}","size_bytes":17626},"replit.md":{"content":"# SpiderBot - Institutional Crypto Trading Platform\n\n## Overview\nSpiderBot is a comprehensive crypto trading platform designed for institutional crypto trading management, providing both user and admin dashboards. Its purpose is to offer advanced tools for trading, analytics, strategy implementation, and administrative oversight in the cryptocurrency market. The platform aims to provide a robust, scalable, and secure environment for institutional-grade trading operations, leveraging AI for optimization and featuring an extensive strategy marketplace.\n\n## User Preferences\nI prefer iterative development, with clear communication at each stage. Ask before making major architectural changes or introducing new significant dependencies. I prefer detailed explanations for complex technical decisions. Ensure the code is well-commented and follows best practices for maintainability and readability.\n\n## System Architecture\nThe application is a frontend-only platform built with React 19.2.0 and TypeScript, using Vite 6.2.0 as the build tool. Styling is managed with TailwindCSS (via CDN).\n\n**UI/UX Decisions:**\n- **Theme Support:** Dark/Light theme toggling for user preference.\n- **Responsive Design:** Mobile-first approach implemented across the entire application, utilizing Tailwind CSS breakpoints (sm, md, lg, xl) for adaptive layouts, navigation, and component sizing. This includes responsive sidebars, headers, card components, and strategy configuration panels.\n- **Navigation:** Hamburger menu for mobile navigation with off-canvas slide-in sidebars.\n- **Professional Interfaces:** Integration of professional-grade components like TradingView widgets for charting.\n\n**Technical Implementations:**\n- **Authentication:** A mock, role-based authentication system is in place with 'user' and 'admin' roles, persisting state in localStorage.\n- **Charting:** Utilizes Recharts and Lightweight Charts, alongside a professional TradingView widget for real-time price data, 50+ technical indicators (RSI, MA, MACD, Bollinger Bands pre-loaded), advanced tools, and multiple timeframes.\n- **Strategy Marketplace:** Features 11 diverse trading strategies, including Advanced DCA, Advanced Grid, Normal Grid, Normal DCA, Quantitative Strategy (institutional algorithmic), Signal Bot, TradingView Webhook Bot, Dip Analyser Bot, Trend-Following Bot, Mean Reversion Bot, and Volatility Breakout Bot. Each strategy includes comprehensive, often institutional-grade, configuration panels with extensive settings for logic, risk management, execution, compliance, and operational controls.\n- **AI Optimization:** Integrated AI-powered features for trading, specifically mentioned with the `GEMINI_API_KEY`.\n- **Development Environment:** Vite development server runs on port 5000, configured with HMR and `allowedHosts: true` for Replit compatibility.\n\n**Feature Specifications:**\n- **User Dashboard:** Provides trading views, analytics, strategy management, and AI optimization tools.\n- **Admin Dashboard:** Offers bot management, user management, KYC, audit trails, and feature flag controls.\n- **Arbitrage Monitoring & Social Trading:** Planned or existing capabilities for advanced trading.\n\n**System Design Choices:**\n- **Frontend Focus:** The project is designed as a standalone frontend application, implying interaction with external APIs for data and services rather than an integrated backend.\n- **Modularity:** Components are organized into reusable UI elements, context providers for state management (e.g., AuthContext), and dedicated pages for different functionalities (login, user dashboard, admin dashboard).\n- **TypeScript:** Strong typing is enforced across the codebase for improved maintainability and error detection.\n\n## Recent Updates\n\n### UI/UX Improvements - Strategy Configuration Panels (November 5, 2025)\n**Standardized and enhanced styling across all bot configuration panels for improved usability:**\n\n**Visual Enhancements:**\n- Increased content area max-height from `60vh` to `65vh` for better visibility\n- Enhanced padding from `p-3 sm:p-4` to `p-4 sm:p-6` for improved spacing\n- Increased field spacing from `space-y-3` to `space-y-4` for better readability\n- Improved input field styling:\n  - Larger padding (`px-3 py-2.5`) for better touch targets\n  - Better color contrast for labels (`text-gray-700 dark:text-gray-300`)\n  - Rounded corners (`rounded-lg`) for modern appearance\n  - Enhanced focus states with 2px ring\n  - Smooth color transitions on all interactive elements\n- Better unit label styling with medium font weight\n- More readable help text with improved line-height (`leading-relaxed`)\n- Consistent gap spacing (`gap-2`) between inputs and units\n\n**Affected Components:**\n- Signal Bot Configuration (6 tabs, 60+ settings) - **FULLY FUNCTIONAL**\n- TradingView Webhook Configuration (4 tabs, 30+ settings)\n- Dip Analyser Configuration (4 tabs, 40+ settings)\n- All strategy configuration panels now have consistent styling\n\n**Result:** Professional, clean interface with improved usability and mobile responsiveness across all bot configuration panels.\n\n## External Dependencies\n- **React 19.2.0 & TypeScript:** Core frontend development stack.\n- **Vite 6.2.0:** Build tool for development and production.\n- **TailwindCSS (via CDN):** Utility-first CSS framework for styling.\n- **Recharts & Lightweight Charts:** Charting libraries.\n- **react-ts-tradingview-widgets:** For integrating professional TradingView charts.\n- **Gemini API:** Used for AI-powered features, requiring `GEMINI_API_KEY`.\n- **Binance Exchange:** Real-time price data source for TradingView widgets.\n- **Telegram/Discord/Custom API:** Potential signal sources for the Signal Bot.","size_bytes":5697},"components/AdminHeader.tsx":{"content":"import React, { useState, useRef, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { ThemeContext } from '../App';\nimport Icon from './Icon';\n\ninterface AdminHeaderProps {\n  onMenuClick: () => void;\n}\n\nconst AdminHeader: React.FC<AdminHeaderProps> = ({ onMenuClick }) => {\n  const { user, logout } = useAuth();\n  const { theme, toggleTheme } = React.useContext(ThemeContext);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  if (!user) return null;\n\n  return (\n    <div className=\"bg-white dark:bg-dark-card border-b border-gray-200 dark:border-dark-border px-3 sm:px-4 md:px-6 py-3 sm:py-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-3\">\n          <button \n            onClick={onMenuClick}\n            className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-bg-secondary lg:hidden\"\n          >\n            <Icon name=\"menu\" className=\"h-6 w-6\" />\n          </button>\n          <div>\n            <h1 className=\"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 dark:text-white\">Admin Dashboard</h1>\n            <p className=\"text-xs sm:text-sm text-gray-500 dark:text-dark-text-secondary hidden sm:block\">System Administration Panel</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center space-x-2 sm:space-x-4\">\n          <button\n            onClick={toggleTheme}\n            className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-bg-secondary transition-colors hidden sm:block\"\n            title=\"Toggle theme\"\n          >\n            <Icon name={theme === 'dark' ? 'sun' : 'moon'} className=\"h-5 w-5 text-gray-600 dark:text-dark-text-secondary\" />\n          </button>\n\n          <button className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-bg-secondary transition-colors relative hidden sm:block\">\n            <Icon name=\"bell\" className=\"h-5 w-5 text-gray-600 dark:text-dark-text-secondary\" />\n            <span className=\"absolute top-1 right-1 h-2 w-2 bg-danger rounded-full\"></span>\n          </button>\n\n          <button className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-bg-secondary transition-colors relative hidden sm:block\">\n            <Icon name=\"warning\" className=\"h-5 w-5 text-warning\" />\n            <span className=\"absolute -top-1 -right-1 bg-danger text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">3</span>\n          </button>\n\n          <div className=\"relative\" ref={dropdownRef}>\n            <button\n              onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n              className=\"flex items-center space-x-2 sm:space-x-3 p-1 sm:p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-bg-secondary transition-colors\"\n            >\n              <img\n                src={user.avatarUrl}\n                alt={user.name}\n                className=\"h-7 w-7 sm:h-8 sm:w-8 rounded-full ring-2 ring-warning\"\n              />\n              <div className=\"text-left hidden md:block\">\n                <p className=\"text-sm font-semibold text-gray-900 dark:text-white flex items-center\">\n                  {user.name}\n                  <span className=\"ml-2 px-2 py-0.5 text-xs bg-warning text-white rounded-full\">ADMIN</span>\n                </p>\n                <p className=\"text-xs text-gray-500 dark:text-dark-text-secondary\">{user.email}</p>\n              </div>\n              <Icon name=\"chevron\" className={`h-4 w-4 text-gray-500 transition-transform hidden sm:block ${isDropdownOpen ? 'rotate-180' : ''}`} />\n            </button>\n\n            {isDropdownOpen && (\n              <div className=\"absolute right-0 mt-2 w-64 sm:w-72 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-lg py-2 z-50 max-h-[80vh] overflow-y-auto\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-dark-border\">\n                  <p className=\"text-sm font-semibold text-gray-900 dark:text-white\">{user.name}</p>\n                  <p className=\"text-xs text-gray-500 dark:text-dark-text-secondary\">{user.email}</p>\n                  <p className=\"text-xs text-warning font-semibold mt-1\">Administrator Access</p>\n                </div>\n\n                <div className=\"py-2\">\n                  <div className=\"px-4 py-2 text-xs font-semibold text-gray-500 dark:text-dark-text-secondary uppercase\">\n                    Admin Tools\n                  </div>\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"settings\" className=\"h-4 w-4 text-warning\" />\n                    <span>System Settings</span>\n                  </button>\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"analytics\" className=\"h-4 w-4 text-warning\" />\n                    <span>Platform Analytics</span>\n                  </button>\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"search\" className=\"h-4 w-4 text-warning\" />\n                    <span>Audit Logs</span>\n                  </button>\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"warning\" className=\"h-4 w-4 text-danger\" />\n                    <span>System Alerts</span>\n                    <span className=\"ml-auto px-2 py-0.5 text-xs bg-danger text-white rounded-full\">3</span>\n                  </button>\n                  \n                  <div className=\"border-t border-gray-200 dark:border-dark-border my-2\"></div>\n                  \n                  <div className=\"px-4 py-2 text-xs font-semibold text-gray-500 dark:text-dark-text-secondary uppercase\">\n                    Personal\n                  </div>\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"user\" className=\"h-4 w-4\" />\n                    <span>My Profile</span>\n                  </button>\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"settings\" className=\"h-4 w-4\" />\n                    <span>Preferences</span>\n                  </button>\n                </div>\n\n                <div className=\"border-t border-gray-200 dark:border-dark-border pt-2\">\n                  <button\n                    onClick={logout}\n                    className=\"w-full px-4 py-2 text-left text-sm text-danger hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\"\n                  >\n                    <Icon name=\"logout\" className=\"h-4 w-4\" />\n                    <span>Sign Out</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminHeader;\n","size_bytes":7919},"contexts/AuthContext.tsx":{"content":"import React, { createContext, useState, useContext, ReactNode } from 'react';\nimport { User, AuthContextType } from '../types';\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nconst DEMO_USERS: { [key: string]: { password: string; user: User } } = {\n  'demo': {\n    password: 'demo',\n    user: {\n      id: 'user-1',\n      username: 'demo',\n      role: 'user',\n      name: 'Demo User',\n      email: 'demo@spiderbot.io',\n      avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=demo',\n      kycStatus: 'Verified',\n      subscriptionPlan: 'Pro',\n      lastLogin: new Date().toISOString()\n    }\n  },\n  'admin': {\n    password: 'admin',\n    user: {\n      id: 'admin-1',\n      username: 'admin',\n      role: 'admin',\n      name: 'Admin User',\n      email: 'admin@spiderbot.io',\n      avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=admin',\n      kycStatus: 'Verified',\n      subscriptionPlan: 'Enterprise',\n      lastLogin: new Date().toISOString()\n    }\n  }\n};\n\nexport const AuthProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n\n  const login = async (username: string, password: string): Promise<boolean> => {\n    const userEntry = DEMO_USERS[username.toLowerCase()];\n    if (userEntry && userEntry.password === password) {\n      setUser(userEntry.user);\n      localStorage.setItem('spiderbot_user', JSON.stringify(userEntry.user));\n      return true;\n    }\n    return false;\n  };\n\n  const logout = () => {\n    setUser(null);\n    localStorage.removeItem('spiderbot_user');\n  };\n\n  React.useEffect(() => {\n    const savedUser = localStorage.getItem('spiderbot_user');\n    if (savedUser) {\n      try {\n        setUser(JSON.parse(savedUser));\n      } catch (e) {\n        localStorage.removeItem('spiderbot_user');\n      }\n    }\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout, isAuthenticated: !!user }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n","size_bytes":2202},"pages/LoginPage.tsx":{"content":"import React, { useState } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport Icon from '../components/Icon';\n\nconst LoginPage: React.FC = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const { login } = useAuth();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setIsLoading(true);\n\n    const success = await login(username, password);\n    \n    if (!success) {\n      setError('Invalid username or password');\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-dark-bg to-gray-900 p-4\">\n      <div className=\"absolute inset-0 overflow-hidden\">\n        <div className=\"absolute w-64 sm:w-96 h-64 sm:h-96 bg-primary/10 rounded-full blur-3xl -top-32 sm:-top-48 -left-32 sm:-left-48\"></div>\n        <div className=\"absolute w-64 sm:w-96 h-64 sm:h-96 bg-success/10 rounded-full blur-3xl -bottom-32 sm:-bottom-48 -right-32 sm:-right-48\"></div>\n      </div>\n      \n      <div className=\"relative z-10 w-full max-w-md px-4 sm:px-8\">\n        <div className=\"bg-dark-card border border-dark-border rounded-2xl shadow-2xl p-6 sm:p-8\">\n          <div className=\"text-center mb-6 sm:mb-8\">\n            <div className=\"flex items-center justify-center mb-3 sm:mb-4\">\n              <Icon name=\"bot\" className=\"h-10 w-10 sm:h-12 sm:w-12 text-primary\" />\n            </div>\n            <h1 className=\"text-2xl sm:text-3xl font-bold text-white mb-2\">SpiderBot</h1>\n            <p className=\"text-sm sm:text-base text-dark-text-secondary\">Institutional Crypto Trading Platform</p>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4 sm:space-y-6\">\n            <div>\n              <label className=\"block text-xs sm:text-sm font-medium text-dark-text-secondary mb-2\">\n                Username\n              </label>\n              <input\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"w-full bg-dark-bg-secondary border border-dark-border rounded-lg px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                placeholder=\"Enter username\"\n                required\n                autoFocus\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-xs sm:text-sm font-medium text-dark-text-secondary mb-2\">\n                Password\n              </label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full bg-dark-bg-secondary border border-dark-border rounded-lg px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                placeholder=\"Enter password\"\n                required\n              />\n            </div>\n\n            {error && (\n              <div className=\"bg-danger/10 border border-danger/50 rounded-lg p-3 flex items-center space-x-2\">\n                <Icon name=\"warning\" className=\"h-5 w-5 text-danger flex-shrink-0\" />\n                <span className=\"text-danger text-sm\">{error}</span>\n              </div>\n            )}\n\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full bg-primary hover:bg-primary-hover text-white font-semibold py-2.5 sm:py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm sm:text-base\"\n            >\n              {isLoading ? (\n                <>\n                  <div className=\"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full\"></div>\n                  <span>Signing in...</span>\n                </>\n              ) : (\n                <span>Sign In</span>\n              )}\n            </button>\n          </form>\n\n          <div className=\"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-dark-border\">\n            <p className=\"text-xs sm:text-sm text-dark-text-secondary text-center mb-3\">Demo Credentials</p>\n            <div className=\"space-y-2 text-xs text-dark-text-secondary\">\n              <div className=\"bg-dark-bg-secondary rounded-lg p-2.5 sm:p-3\">\n                <p className=\"font-semibold text-white mb-1 text-xs sm:text-sm\">Regular User:</p>\n                <p className=\"text-xs\">Username: <span className=\"text-primary font-mono\">demo</span></p>\n                <p className=\"text-xs\">Password: <span className=\"text-primary font-mono\">demo</span></p>\n              </div>\n              <div className=\"bg-dark-bg-secondary rounded-lg p-2.5 sm:p-3\">\n                <p className=\"font-semibold text-white mb-1 text-xs sm:text-sm\">Admin User:</p>\n                <p className=\"text-xs\">Username: <span className=\"text-warning font-mono\">admin</span></p>\n                <p className=\"text-xs\">Password: <span className=\"text-warning font-mono\">admin</span></p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","size_bytes":5467},"components/UserHeader.tsx":{"content":"import React, { useState, useRef, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { ThemeContext } from '../App';\nimport Icon from './Icon';\nimport ToggleSwitch from './ToggleSwitch';\n\ninterface UserHeaderProps {\n  onMenuClick: () => void;\n}\n\nconst UserHeader: React.FC<UserHeaderProps> = ({ onMenuClick }) => {\n  const { user, logout } = useAuth();\n  const { theme, toggleTheme } = React.useContext(ThemeContext);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [isDemoMode, setIsDemoMode] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  if (!user) return null;\n\n  return (\n    <div className=\"bg-white dark:bg-dark-card border-b border-gray-200 dark:border-dark-border px-3 sm:px-4 md:px-6 py-3 sm:py-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-3\">\n          <button \n            onClick={onMenuClick}\n            className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-bg-secondary lg:hidden\"\n          >\n            <Icon name=\"menu\" className=\"h-6 w-6\" />\n          </button>\n          <div>\n            <h1 className=\"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 dark:text-white\">Dashboard</h1>\n            <p className=\"text-xs sm:text-sm text-gray-500 dark:text-dark-text-secondary hidden sm:block\">Welcome back, {user.name}</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center space-x-2 sm:space-x-4\">\n          <button className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-bg-secondary transition-colors relative text-gray-500 dark:text-dark-text-secondary hover:text-gray-700 dark:hover:text-white hidden sm:block\">\n            <Icon name=\"bell\" className=\"h-5 w-5\" />\n            <span className=\"absolute top-1 right-1 h-2 w-2 bg-danger rounded-full\"></span>\n          </button>\n\n          <div className=\"relative\" ref={dropdownRef}>\n            <button\n              onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n              className=\"flex items-center space-x-2 sm:space-x-3 p-1 sm:p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-bg-secondary transition-colors\"\n            >\n              <img\n                src={user.avatarUrl}\n                alt={user.name}\n                className=\"h-7 w-7 sm:h-8 sm:w-8 rounded-full\"\n              />\n              <div className=\"text-left hidden md:block\">\n                <p className=\"text-sm font-semibold text-gray-900 dark:text-white\">{user.name}</p>\n                <p className=\"text-xs text-gray-500 dark:text-dark-text-secondary\">{user.subscriptionPlan}</p>\n              </div>\n              <Icon name=\"chevron\" className={`h-4 w-4 text-gray-500 transition-transform hidden sm:block ${isDropdownOpen ? 'rotate-180' : ''}`} />\n            </button>\n\n            {isDropdownOpen && (\n              <div className=\"absolute right-0 mt-2 w-64 sm:w-72 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-lg py-2 z-50 max-h-[80vh] overflow-y-auto\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-dark-border\">\n                  <div className=\"flex items-center\">\n                    <img className=\"h-10 w-10 rounded-full object-cover mr-3\" src={user.avatarUrl} alt={user.name} />\n                    <div>\n                      <p className=\"text-sm font-semibold text-gray-900 dark:text-white\">{user.name}</p>\n                      <p className=\"text-xs text-gray-500 dark:text-dark-text-secondary\">{user.email}</p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"py-2\">\n                  <button \n                    onClick={(e) => { e.preventDefault(); toggleTheme(); }}\n                    className=\"w-full px-4 py-2 text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center justify-between\"\n                  >\n                    <div className=\"flex items-center space-x-3\">\n                      <Icon name={theme === 'light' ? 'moon' : 'sun'} className=\"h-5 w-5\" />\n                      <span>Dark Mode</span>\n                    </div>\n                    <ToggleSwitch enabled={theme === 'dark'} onChange={toggleTheme} size=\"sm\" />\n                  </button>\n                  <button \n                    onClick={(e) => { e.preventDefault(); }}\n                    className=\"w-full px-4 py-2 text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center justify-between\"\n                  >\n                    <div className=\"flex items-center space-x-3\">\n                      <Icon name=\"trades\" className=\"h-5 w-5\" />\n                      <span>Demo Mode</span>\n                    </div>\n                    <ToggleSwitch enabled={isDemoMode} onChange={() => setIsDemoMode(!isDemoMode)} size=\"sm\" />\n                  </button>\n                </div>\n\n                <div className=\"border-t border-gray-200 dark:border-dark-border py-2\">\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"billing\" className=\"h-5 w-5\" />\n                    <span>Subscription</span>\n                  </button>\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"share\" className=\"h-5 w-5\" />\n                    <span>Affiliate Program</span>\n                  </button>\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"portfolio\" className=\"h-5 w-5\" />\n                    <span>My Portfolio</span>\n                  </button>\n                </div>\n\n                <div className=\"border-t border-gray-200 dark:border-dark-border py-2\">\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"settings\" className=\"h-5 w-5\" />\n                    <span>Account Settings</span>\n                  </button>\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"bell\" className=\"h-5 w-5\" />\n                    <span>Notifications</span>\n                  </button>\n                  <button className=\"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-bg-secondary flex items-center space-x-3\">\n                    <Icon name=\"kyc\" className=\"h-5 w-5\" />\n                    <span>KYC Verification</span>\n                  </button>\n                </div>\n\n                <div className=\"border-t border-gray-200 dark:border-dark-border pt-2\">\n                  <button\n                    onClick={logout}\n                    className=\"w-full px-4 py-3 text-left text-sm text-danger hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center space-x-3 rounded-b-lg\"\n                  >\n                    <Icon name=\"logout\" className=\"h-5 w-5\" />\n                    <span>Logout</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserHeader;\n","size_bytes":8152},"components/strategies/TrendFollowingConfigPanel.tsx":{"content":"import React from 'react';\nimport { TrendFollowingConfig } from '../../types';\nimport Card from '../Card';\nimport ToggleSwitch from '../ToggleSwitch';\n\nconst InputField: React.FC<{ label: string, type?: string, value: any, onChange: (e: any) => void, unit?: string, helpText?: string }> = ({ label, type = 'text', value, onChange, unit, helpText }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</label>\n        <div className=\"mt-1 flex items-center\">\n            <input type={type} value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\" />\n            {unit && <span className=\"ml-2 text-gray-500 dark:text-dark-text-secondary whitespace-nowrap\">{unit}</span>}\n        </div>\n        {helpText && <p className=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">{helpText}</p>}\n    </div>\n);\n\nconst SelectField: React.FC<{ label: string, value: any, onChange: (e: any) => void, children?: React.ReactNode }> = ({ label, value, onChange, children }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">{label}</label>\n        <select value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\">\n            {children}\n        </select>\n    </div>\n);\n\nconst ToggleField: React.FC<{ label: string, enabled: boolean, onChange: (val: boolean) => void, helpText?: string }> = ({ label, enabled, onChange, helpText }) => (\n    <div>\n        <div className=\"flex justify-between items-center\">\n            <label className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</label>\n            <ToggleSwitch enabled={enabled} onChange={onChange} />\n        </div>\n        {helpText && <p className=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">{helpText}</p>}\n    </div>\n);\n\nconst MarketTypeSelector: React.FC<{ value: 'SPOT' | 'FUTURES'; onChange: (value: 'SPOT' | 'FUTURES') => void; }> = ({ value, onChange }) => (\n    <div className=\"mb-6\">\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-2\">Market Type</label>\n        <div className=\"flex w-full bg-gray-100 dark:bg-dark-bg-secondary rounded-lg p-1\">\n            <button onClick={() => onChange('SPOT')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'SPOT' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>SPOT</button>\n            <button onClick={() => onChange('FUTURES')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'FUTURES' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>FUTURES</button>\n        </div>\n    </div>\n);\n\ninterface TrendFollowingConfigPanelProps {\n    config: TrendFollowingConfig;\n    onConfigChange: (newConfig: TrendFollowingConfig) => void;\n    onSave: () => void;\n    onSaveTemplate: () => void;\n}\n\nconst TrendFollowingConfigPanel: React.FC<TrendFollowingConfigPanelProps> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    const handleChange = (field: keyof TrendFollowingConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement> | boolean | 'SPOT' | 'FUTURES') => {\n        const value = typeof e === 'boolean' || e === 'SPOT' || e === 'FUTURES'\n            ? e\n            : e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n\n    return (\n        <Card>\n            <h3 className=\"text-lg font-bold mb-4\">Configure Trend-Following Bot</h3>\n            <p className=\"text-sm text-gray-500 dark:text-dark-text-secondary mb-4\">EMA Crossover strategy with ATR-based filters and trailing stops</p>\n            <div className=\"space-y-4 max-h-[70vh] overflow-y-auto pr-2\">\n                <MarketTypeSelector value={config.marketType} onChange={handleChange('marketType')} />\n                \n                <InputField label=\"Fast EMA Period\" type=\"number\" value={config.fastEMAPeriod} onChange={handleChange('fastEMAPeriod')} unit=\"periods\" helpText=\"Short-term EMA (e.g., 12)\" />\n                <InputField label=\"Slow EMA Period\" type=\"number\" value={config.slowEMAPeriod} onChange={handleChange('slowEMAPeriod')} unit=\"periods\" helpText=\"Long-term EMA (e.g., 26)\" />\n                \n                <InputField label=\"ATR Period\" type=\"number\" value={config.atrPeriod} onChange={handleChange('atrPeriod')} unit=\"periods\" helpText=\"Average True Range lookback\" />\n                <InputField label=\"ATR Multiplier\" type=\"number\" value={config.atrMultiplier} onChange={handleChange('atrMultiplier')} unit=\"x\" helpText=\"Volatility filter threshold\" />\n                \n                <InputField label=\"Position Size\" type=\"number\" value={config.positionSize} onChange={handleChange('positionSize')} unit=\"%\" helpText=\"% of capital per trade\" />\n                \n                <InputField label=\"Stop Loss (ATR Multiple)\" type=\"number\" value={config.stopLossATRMultiplier} onChange={handleChange('stopLossATRMultiplier')} unit=\"x ATR\" helpText=\"Dynamic SL based on volatility\" />\n                <InputField label=\"Take Profit (ATR Multiple)\" type=\"number\" value={config.takeProfitATRMultiplier} onChange={handleChange('takeProfitATRMultiplier')} unit=\"x ATR\" helpText=\"Dynamic TP based on volatility\" />\n                \n                <ToggleField label=\"Trailing Stop Enabled\" enabled={config.trailingStopEnabled} onChange={handleChange('trailingStopEnabled')} helpText=\"Lock in profits as trend continues\" />\n                \n                {config.marketType === 'FUTURES' && (\n                    <>\n                        <InputField label=\"Leverage\" type=\"number\" value={config.leverage} onChange={handleChange('leverage')} unit=\"x\" />\n                        <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                            <option value=\"Isolated\">Isolated</option>\n                            <option value=\"Cross\">Cross</option>\n                        </SelectField>\n                    </>\n                )}\n            </div>\n            <div className=\"mt-6 flex gap-3\">\n                <button onClick={onSaveTemplate} className=\"flex-1 py-2 text-sm font-semibold text-gray-700 dark:text-dark-text-secondary bg-gray-100 dark:bg-dark-bg-secondary rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700\">\n                    Save as Template\n                </button>\n                <button onClick={onSave} className=\"flex-1 py-2 text-sm font-semibold text-white bg-primary rounded-lg hover:bg-primary-hover\">\n                    Save & Start Bot\n                </button>\n            </div>\n        </Card>\n    );\n};\n\nexport default TrendFollowingConfigPanel;\n","size_bytes":7101},"components/strategies/DipAnalyserConfigPanel.tsx":{"content":"import React, { useState } from 'react';\nimport { DipAnalyserConfig } from '../../types';\nimport StrategyConfigPanelLayout from '../StrategyConfigPanelLayout';\nimport ToggleSwitch from '../ToggleSwitch';\n\nconst InputField: React.FC<{ label: string, type?: string, value: any, onChange: (e: any) => void, unit?: string, helpText?: string }> = ({ label, type = 'text', value, onChange, unit, helpText }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5\">{label}</label>\n        <div className=\"flex items-center gap-2\">\n            <input type={type} value={value} onChange={onChange} className=\"flex-1 bg-white dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-lg shadow-sm px-3 py-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-primary text-sm transition-colors\" />\n            {unit && <span className=\"text-gray-600 dark:text-gray-400 whitespace-nowrap text-sm font-medium\">{unit}</span>}\n        </div>\n        {helpText && <p className=\"mt-1.5 text-xs text-gray-500 dark:text-gray-400 leading-relaxed\">{helpText}</p>}\n    </div>\n);\n\nconst SelectField: React.FC<{ label: string, value: any, onChange: (e: any) => void, children?: React.ReactNode, helpText?: string }> = ({ label, value, onChange, children, helpText }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5\">{label}</label>\n        <select value={value} onChange={onChange} className=\"w-full bg-white dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-lg shadow-sm px-3 py-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-primary text-sm transition-colors\">\n            {children}\n        </select>\n        {helpText && <p className=\"mt-1.5 text-xs text-gray-500 dark:text-gray-400 leading-relaxed\">{helpText}</p>}\n    </div>\n);\n\nconst ToggleField: React.FC<{ label: string, enabled: boolean, onChange: (val: boolean) => void, helpText?: string }> = ({ label, enabled, onChange, helpText }) => (\n    <div>\n        <div className=\"flex justify-between items-center\">\n            <label className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</label>\n            <ToggleSwitch enabled={enabled} onChange={onChange} />\n        </div>\n        {helpText && <p className=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">{helpText}</p>}\n    </div>\n);\n\nconst MarketTypeSelector: React.FC<{ value: 'SPOT' | 'FUTURES'; onChange: (value: 'SPOT' | 'FUTURES') => void; }> = ({ value, onChange }) => (\n    <div className=\"mb-4\">\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-2\">Market Type</label>\n        <div className=\"flex w-full bg-gray-100 dark:bg-dark-bg-secondary rounded-lg p-1\">\n            <button onClick={() => onChange('SPOT')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'SPOT' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>SPOT</button>\n            <button onClick={() => onChange('FUTURES')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'FUTURES' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>FUTURES</button>\n        </div>\n    </div>\n);\n\ninterface DipAnalyserConfigPanelProps {\n    config: DipAnalyserConfig;\n    onConfigChange: (newConfig: DipAnalyserConfig) => void;\n    onSave: () => void;\n    onSaveTemplate: () => void;\n}\n\nconst DipAnalyserConfigPanel: React.FC<DipAnalyserConfigPanelProps> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    const [activeTab, setActiveTab] = useState('core');\n\n    const handleChange = (field: keyof DipAnalyserConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement> | boolean | 'SPOT' | 'FUTURES') => {\n        const value = typeof e === 'boolean' || e === 'SPOT' || e === 'FUTURES'\n            ? e\n            : e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n\n    const handleComponentChange = (component: keyof DipAnalyserConfig['dipScoreComponents']) => (enabled: boolean) => {\n        onConfigChange({\n            ...config,\n            dipScoreComponents: {\n                ...config.dipScoreComponents,\n                [component]: enabled\n            }\n        });\n    };\n\n    const coreLogicContent = (\n        <div className=\"space-y-4\">\n            <MarketTypeSelector value={config.marketType} onChange={handleChange('marketType')} />\n            \n            <div className=\"border dark:border-dark-border rounded-lg p-3 bg-gray-50 dark:bg-dark-bg-secondary\">\n                <label className=\"block text-sm font-medium mb-2 dark:text-white\">Dip Score Components (Signal Weighting)</label>\n                <div className=\"space-y-2\">\n                    <ToggleField label=\"RSI Divergence\" enabled={config.dipScoreComponents.rsiDivergence} onChange={handleComponentChange('rsiDivergence')} />\n                    <ToggleField label=\"Volume Spike\" enabled={config.dipScoreComponents.volumeSpike} onChange={handleComponentChange('volumeSpike')} />\n                    <ToggleField label=\"Price Level Test\" enabled={config.dipScoreComponents.priceLevelTest} onChange={handleComponentChange('priceLevelTest')} />\n                </div>\n            </div>\n\n            <InputField label=\"Score Threshold\" type=\"number\" value={config.scoreThreshold} onChange={handleChange('scoreThreshold')} unit=\"(0-100)\" helpText=\"Minimum weighted score to confirm buy signal\" />\n            <InputField label=\"Minimum Dip Depth\" type=\"number\" value={config.minimumDipDepth} onChange={handleChange('minimumDipDepth')} unit=\"%\" helpText=\"Required % drop from recent high\" />\n            <SelectField label=\"Timeframe for Analysis\" value={config.timeframeForAnalysis} onChange={handleChange('timeframeForAnalysis')} helpText=\"Lookback period for 'recent high'\">\n                <option value=\"1h\">1 Hour</option>\n                <option value=\"4h\">4 Hours</option>\n                <option value=\"1D\">1 Day</option>\n            </SelectField>\n            <SelectField label=\"Buy Aggression\" value={config.buyAggression} onChange={handleChange('buyAggression')} helpText=\"Order execution speed\">\n                <option value=\"Conservative\">Conservative (Limit Orders)</option>\n                <option value=\"Moderate\">Moderate</option>\n                <option value=\"Aggressive\">Aggressive (Market Orders)</option>\n            </SelectField>\n            <InputField label=\"Recovery Confirmation Filter\" type=\"number\" value={config.recoveryConfirmationFilter} onChange={handleChange('recoveryConfirmationFilter')} unit=\"%\" helpText=\"% recovery before buy (prevents falling knife)\" />\n        </div>\n    );\n\n    const riskManagementContent = (\n        <div className=\"space-y-4\">\n            <InputField label=\"Quick Profit Target\" type=\"number\" value={config.quickProfitTarget} onChange={handleChange('quickProfitTarget')} unit=\"%\" helpText=\"Exit trap for initial bounce\" />\n            <ToggleField label=\"Progressive Stop\" enabled={config.progressiveStop} onChange={handleChange('progressiveStop')} helpText=\"Lock in profits after quick profit hit\" />\n            {config.progressiveStop && (\n                <InputField label=\"Progressive Stop Percentage\" type=\"number\" value={config.progressiveStopPercentage} onChange={handleChange('progressiveStopPercentage')} unit=\"%\" />\n            )}\n            <InputField label=\"Maximum Concurrent Dips\" type=\"number\" value={config.maximumConcurrentDips} onChange={handleChange('maximumConcurrentDips')} unit=\"trades\" helpText=\"Limit simultaneous dip trades\" />\n            <ToggleField label=\"Forced Accumulation Mode\" enabled={config.forcedAccumulationMode} onChange={handleChange('forcedAccumulationMode')} helpText=\"Hard-lock to prevent sell orders\" />\n            <InputField label=\"Max Loss from Average Entry\" type=\"number\" value={config.maxLossFromAverageEntry} onChange={handleChange('maxLossFromAverageEntry')} unit=\"%\" helpText=\"Strategy failsafe trigger\" />\n            <InputField label=\"Asset Allocation Hard Cap\" type=\"number\" value={config.assetAllocationHardCap} onChange={handleChange('assetAllocationHardCap')} unit=\"%\" helpText=\"Max % of portfolio for this asset\" />\n            <InputField label=\"Portfolio Hedge Ratio Adjustment\" type=\"number\" value={config.portfolioHedgeRatioAdjustment} onChange={handleChange('portfolioHedgeRatioAdjustment')} unit=\"\" helpText=\"Delta offset for risk\" />\n        </div>\n    );\n\n    const executionContent = (\n        <div className=\"space-y-4\">\n            <InputField label=\"Execution Slice Size\" type=\"number\" value={config.executionSliceSize} onChange={handleChange('executionSliceSize')} unit=\"$\" helpText=\"Stealth trading - break into slices\" />\n            <InputField label=\"TWAP Horizon\" type=\"number\" value={config.twapHorizon} onChange={handleChange('twapHorizon')} unit=\"minutes\" helpText=\"Time-weighted average price distribution\" />\n            <InputField label=\"Max Cumulative Slippage\" type=\"number\" value={config.maxCumulativeSlippage} onChange={handleChange('maxCumulativeSlippage')} unit=\"%\" helpText=\"Per DCA tranche cost control\" />\n            <InputField label=\"DCA Tranche Size Multiplier\" type=\"number\" value={config.dcaTrancheSizeMultiplier} onChange={handleChange('dcaTrancheSizeMultiplier')} unit=\"x ATR\" helpText=\"Risk-adjusted sizing based on volatility\" />\n            <ToggleField label=\"DCA Profit Exit Threshold\" enabled={config.dcaProfitExitThreshold} onChange={handleChange('dcaProfitExitThreshold')} helpText=\"Selective profit-taking on latest tranche\" />\n            {config.dcaProfitExitThreshold && (\n                <InputField label=\"DCA Profit Exit Percentage\" type=\"number\" value={config.dcaProfitExitPercentage} onChange={handleChange('dcaProfitExitPercentage')} unit=\"%\" />\n            )}\n            <InputField label=\"Volume Participation Rate\" type=\"number\" value={config.volumeParticipationRate} onChange={handleChange('volumeParticipationRate')} unit=\"%\" helpText=\"Market impact control\" />\n            <InputField label=\"Time-Based Dip Invalidation\" type=\"number\" value={config.timeBasedDipInvalidation} onChange={handleChange('timeBasedDipInvalidation')} unit=\"minutes\" helpText=\"Stale signal timeout\" />\n        </div>\n    );\n\n    const complianceContent = (\n        <div className=\"space-y-4\">\n            <ToggleField label=\"Liquidity Sweep Requirement\" enabled={config.liquiditySweepRequirement} onChange={handleChange('liquiditySweepRequirement')} helpText=\"Smart Money filter - require stop sweep\" />\n            <InputField label=\"FVG Retracement Percentage\" type=\"number\" value={config.fvgRetracementPercentage} onChange={handleChange('fvgRetracementPercentage')} unit=\"% gap\" helpText=\"Fair Value Gap anchor\" />\n            <InputField label=\"Order Block Proximity Filter\" type=\"number\" value={config.orderBlockProximityFilter} onChange={handleChange('orderBlockProximityFilter')} unit=\"x ATR\" helpText=\"Demand zone entry distance\" />\n            <InputField label=\"Max Order Book Skew\" type=\"number\" value={config.maxOrderBookSkew} onChange={handleChange('maxOrderBookSkew')} unit=\"%\" helpText=\"Liquidity/manipulation filter\" />\n            <InputField label=\"Min Asset Holding Quantity\" type=\"number\" value={config.minAssetHoldingQuantity} onChange={handleChange('minAssetHoldingQuantity')} helpText=\"Accumulation lock minimum\" />\n            <SelectField label=\"API Permission Validation\" value={config.apiPermissionValidation} onChange={handleChange('apiPermissionValidation')}>\n                <option value=\"Read-Only\">Read-Only</option>\n                <option value=\"Read/Trade\">Read/Trade</option>\n                <option value=\"Full\">Full (Not Recommended)</option>\n            </SelectField>\n        </div>\n    );\n\n    const operationalContent = (\n        <div className=\"space-y-3\">\n            <InputField label=\"Bot Health Check Interval\" type=\"number\" value={config.botHealthCheckInterval} onChange={handleChange('botHealthCheckInterval')} unit=\"minutes\" helpText=\"Self-diagnostic frequency\" />\n            <ToggleField label=\"Auto-Pause on News Event\" enabled={config.autoPauseOnNewsEvent} onChange={handleChange('autoPauseOnNewsEvent')} helpText=\"Halt trading around high-impact news\" />\n            {config.autoPauseOnNewsEvent && (\n                <SelectField label=\"News Event Severity\" value={config.newsEventSeverity} onChange={handleChange('newsEventSeverity')}>\n                    <option value=\"Low\">Low</option>\n                    <option value=\"Medium\">Medium</option>\n                    <option value=\"High\">High</option>\n                </SelectField>\n            )}\n            {config.marketType === 'FUTURES' && (\n                <>\n                    <InputField label=\"Leverage\" type=\"number\" value={config.leverage} onChange={handleChange('leverage')} unit=\"x\" />\n                    <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                        <option value=\"Isolated\">Isolated</option>\n                        <option value=\"Cross\">Cross</option>\n                    </SelectField>\n                </>\n            )}\n        </div>\n    );\n\n    const adaptiveContent = (\n        <div className=\"space-y-3\">\n            <p className=\"text-xs text-gray-500 dark:text-dark-text-secondary italic\">Advanced institutional-grade controls for professional traders</p>\n        </div>\n    );\n\n    const tabs = [\n        { id: 'core', label: 'Core Logic', content: coreLogicContent },\n        { id: 'risk', label: 'Risk Management', content: riskManagementContent },\n        { id: 'execution', label: 'Execution & TWAP', content: executionContent },\n        { id: 'compliance', label: 'SMC & Compliance', content: complianceContent },\n        { id: 'operational', label: 'Operational', content: operationalContent },\n        { id: 'adaptive', label: 'Advanced', content: adaptiveContent },\n    ];\n\n    return (\n        <StrategyConfigPanelLayout\n            title=\"Configure Dip Analyser Bot\"\n            activeTab={activeTab}\n            tabs={tabs}\n            onTabChange={setActiveTab}\n            onSave={onSave}\n            onSaveTemplate={onSaveTemplate}\n        />\n    );\n};\n\nexport default DipAnalyserConfigPanel;\n","size_bytes":14490},"components/strategies/NormalDCAConfigPanel.tsx":{"content":"import React from 'react';\nimport { NormalDCAConfig } from '../../types';\nimport Card from '../Card';\n\nconst InputField: React.FC<{ label: string, type?: string, value: any, onChange: (e: any) => void, unit?: string }> = ({ label, type = 'text', value, onChange, unit }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</label>\n        <div className=\"mt-1 flex items-center\">\n            <input type={type} value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\" />\n            {unit && <span className=\"ml-2 text-gray-500 dark:text-dark-text-secondary whitespace-nowrap\">{unit}</span>}\n        </div>\n    </div>\n);\n\nconst SelectField: React.FC<{ label: string, value: any, onChange: (e: any) => void, children?: React.ReactNode }> = ({ label, value, onChange, children }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">{label}</label>\n        <select value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\">\n            {children}\n        </select>\n    </div>\n);\n\nconst MarketTypeSelector: React.FC<{ value: 'SPOT' | 'FUTURES'; onChange: (value: 'SPOT' | 'FUTURES') => void; }> = ({ value, onChange }) => (\n    <div className=\"mb-6\">\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-2\">Market Type</label>\n        <div className=\"flex w-full bg-gray-100 dark:bg-dark-bg-secondary rounded-lg p-1\">\n            <button onClick={() => onChange('SPOT')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'SPOT' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>SPOT</button>\n            <button onClick={() => onChange('FUTURES')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'FUTURES' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>FUTURES</button>\n        </div>\n    </div>\n);\n\ninterface NormalDCAConfigPanelProps {\n    config: NormalDCAConfig;\n    onConfigChange: (newConfig: NormalDCAConfig) => void;\n    onSave: () => void;\n    onSaveTemplate: () => void;\n}\n\nconst NormalDCAConfigPanel: React.FC<NormalDCAConfigPanelProps> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    const handleChange = (field: keyof NormalDCAConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement> | 'SPOT' | 'FUTURES') => {\n        const value = e === 'SPOT' || e === 'FUTURES'\n            ? e\n            : e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n\n    return (\n        <Card>\n            <h3 className=\"text-lg font-bold mb-4\">Configure Normal DCA Bot</h3>\n            <div className=\"space-y-4 max-h-[70vh] overflow-y-auto pr-2\">\n                <MarketTypeSelector value={config.marketType} onChange={handleChange('marketType')} />\n                \n                <InputField label=\"Initial Buy Amount\" type=\"number\" value={config.initialBuy} onChange={handleChange('initialBuy')} unit=\"USDT\" />\n                <InputField label=\"Buy-In Callback\" type=\"number\" value={config.buyInCallback} onChange={handleChange('buyInCallback')} unit=\"%\" />\n                <InputField label=\"Take Profit Percentage\" type=\"number\" value={config.takeProfitPercentage} onChange={handleChange('takeProfitPercentage')} unit=\"%\" />\n                \n                <InputField label=\"Safety Order Count\" type=\"number\" value={config.safetyOrderCount} onChange={handleChange('safetyOrderCount')} unit=\"orders\" />\n                <InputField label=\"Safety Order Step\" type=\"number\" value={config.safetyOrderStepPercentage} onChange={handleChange('safetyOrderStepPercentage')} unit=\"%\" />\n                <InputField label=\"Safety Order Volume Multiplier\" type=\"number\" value={config.safetyOrderVolumeMultiplier} onChange={handleChange('safetyOrderVolumeMultiplier')} unit=\"x\" />\n                \n                <InputField label=\"Stop Loss Percentage\" type=\"number\" value={config.stopLossPercentage} onChange={handleChange('stopLossPercentage')} unit=\"%\" />\n                \n                {config.marketType === 'FUTURES' && (\n                    <>\n                        <InputField label=\"Leverage\" type=\"number\" value={config.leverage} onChange={handleChange('leverage')} unit=\"x\" />\n                        <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                            <option value=\"Isolated\">Isolated</option>\n                            <option value=\"Cross\">Cross</option>\n                        </SelectField>\n                    </>\n                )}\n            </div>\n            <div className=\"mt-6 flex gap-3\">\n                <button onClick={onSaveTemplate} className=\"flex-1 py-2 text-sm font-semibold text-gray-700 dark:text-dark-text-secondary bg-gray-100 dark:bg-dark-bg-secondary rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700\">\n                    Save as Template\n                </button>\n                <button onClick={onSave} className=\"flex-1 py-2 text-sm font-semibold text-white bg-primary rounded-lg hover:bg-primary-hover\">\n                    Save & Start Bot\n                </button>\n            </div>\n        </Card>\n    );\n};\n\nexport default NormalDCAConfigPanel;\n","size_bytes":5714},"components/strategies/NormalGridConfigPanel.tsx":{"content":"import React from 'react';\nimport { NormalGridConfig } from '../../types';\nimport Card from '../Card';\n\nconst InputField: React.FC<{ label: string, type?: string, value: any, onChange: (e: any) => void, unit?: string }> = ({ label, type = 'text', value, onChange, unit }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</label>\n        <div className=\"mt-1 flex items-center\">\n            <input type={type} value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\" />\n            {unit && <span className=\"ml-2 text-gray-500 dark:text-dark-text-secondary whitespace-nowrap\">{unit}</span>}\n        </div>\n    </div>\n);\n\nconst SelectField: React.FC<{ label: string, value: any, onChange: (e: any) => void, children?: React.ReactNode }> = ({ label, value, onChange, children }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">{label}</label>\n        <select value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\">\n            {children}\n        </select>\n    </div>\n);\n\nconst MarketTypeSelector: React.FC<{ value: 'SPOT' | 'FUTURES'; onChange: (value: 'SPOT' | 'FUTURES') => void; }> = ({ value, onChange }) => (\n    <div className=\"mb-6\">\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-2\">Market Type</label>\n        <div className=\"flex w-full bg-gray-100 dark:bg-dark-bg-secondary rounded-lg p-1\">\n            <button onClick={() => onChange('SPOT')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'SPOT' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>SPOT</button>\n            <button onClick={() => onChange('FUTURES')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'FUTURES' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>FUTURES</button>\n        </div>\n    </div>\n);\n\ninterface NormalGridConfigPanelProps {\n    config: NormalGridConfig;\n    onConfigChange: (newConfig: NormalGridConfig) => void;\n    onSave: () => void;\n    onSaveTemplate: () => void;\n}\n\nconst NormalGridConfigPanel: React.FC<NormalGridConfigPanelProps> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    const handleChange = (field: keyof NormalGridConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement> | 'SPOT' | 'FUTURES') => {\n        const value = e === 'SPOT' || e === 'FUTURES'\n            ? e\n            : e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n\n    return (\n        <Card>\n            <h3 className=\"text-lg font-bold mb-4\">Configure Normal Grid Bot</h3>\n            <div className=\"space-y-4 max-h-[70vh] overflow-y-auto pr-2\">\n                <MarketTypeSelector value={config.marketType} onChange={handleChange('marketType')} />\n                \n                <InputField label=\"Lower Price\" type=\"number\" value={config.lowerPrice} onChange={handleChange('lowerPrice')} unit=\"USDT\" />\n                <InputField label=\"Upper Price\" type=\"number\" value={config.upperPrice} onChange={handleChange('upperPrice')} unit=\"USDT\" />\n                <InputField label=\"Grid Count\" type=\"number\" value={config.gridCount} onChange={handleChange('gridCount')} unit=\"grids\" />\n                <InputField label=\"Investment Amount\" type=\"number\" value={config.investmentAmount} onChange={handleChange('investmentAmount')} unit=\"USDT\" />\n                \n                <SelectField label=\"Grid Spacing Type\" value={config.gridSpacingType} onChange={handleChange('gridSpacingType')}>\n                    <option value=\"Arithmetic\">Arithmetic (Equal Spacing)</option>\n                    <option value=\"Geometric\">Geometric (% Spacing)</option>\n                </SelectField>\n                \n                <InputField label=\"Stop Loss Price\" type=\"number\" value={config.stopLossPrice} onChange={handleChange('stopLossPrice')} unit=\"USDT\" />\n                <InputField label=\"Take Profit Price\" type=\"number\" value={config.takeProfitPrice} onChange={handleChange('takeProfitPrice')} unit=\"USDT\" />\n                \n                {config.marketType === 'FUTURES' && (\n                    <>\n                        <InputField label=\"Leverage\" type=\"number\" value={config.leverage} onChange={handleChange('leverage')} unit=\"x\" />\n                        <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                            <option value=\"Isolated\">Isolated</option>\n                            <option value=\"Cross\">Cross</option>\n                        </SelectField>\n                    </>\n                )}\n            </div>\n            <div className=\"mt-6 flex gap-3\">\n                <button onClick={onSaveTemplate} className=\"flex-1 py-2 text-sm font-semibold text-gray-700 dark:text-dark-text-secondary bg-gray-100 dark:bg-dark-bg-secondary rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700\">\n                    Save as Template\n                </button>\n                <button onClick={onSave} className=\"flex-1 py-2 text-sm font-semibold text-white bg-primary rounded-lg hover:bg-primary-hover\">\n                    Save & Start Bot\n                </button>\n            </div>\n        </Card>\n    );\n};\n\nexport default NormalGridConfigPanel;\n","size_bytes":5777},"components/StrategyConfigPanelLayout.tsx":{"content":"import React, { ReactNode } from 'react';\n\nexport interface CategoryTab {\n    id: string;\n    label: string;\n    content: ReactNode;\n}\n\ninterface StrategyConfigPanelLayoutProps {\n    title: string;\n    activeTab: string;\n    tabs: CategoryTab[];\n    onTabChange: (tabId: string) => void;\n    onSave: () => void;\n    onSaveTemplate: () => void;\n}\n\nconst StrategyConfigPanelLayout: React.FC<StrategyConfigPanelLayoutProps> = ({ \n    title, \n    activeTab, \n    tabs, \n    onTabChange, \n    onSave, \n    onSaveTemplate \n}) => {\n    return (\n        <div className=\"bg-white dark:bg-dark-card rounded-lg shadow-sm border border-gray-200 dark:border-dark-border\">\n            <div className=\"p-3 sm:p-4 border-b border-gray-200 dark:border-dark-border\">\n                <h3 className=\"text-base sm:text-lg font-bold dark:text-white\">{title}</h3>\n            </div>\n\n            <div className=\"border-b border-gray-200 dark:border-dark-border overflow-x-auto\">\n                <div className=\"flex min-w-max\">\n                    {tabs.map(tab => (\n                        <button\n                            key={tab.id}\n                            onClick={() => onTabChange(tab.id)}\n                            className={`px-3 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${\n                                activeTab === tab.id\n                                    ? 'border-b-2 border-primary text-primary dark:text-primary'\n                                    : 'text-gray-500 hover:text-gray-700 dark:text-dark-text-secondary dark:hover:text-white'\n                            }`}\n                        >\n                            {tab.label}\n                        </button>\n                    ))}\n                </div>\n            </div>\n\n            <div className=\"p-4 sm:p-6 max-h-[65vh] overflow-y-auto\">\n                {tabs.find(tab => tab.id === activeTab)?.content}\n            </div>\n\n            <div className=\"p-3 sm:p-4 border-t border-gray-200 dark:border-dark-border flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3\">\n                <button\n                    onClick={onSaveTemplate}\n                    className=\"w-full sm:w-auto px-4 py-2 text-sm font-semibold text-gray-700 dark:text-dark-text-secondary bg-gray-100 dark:bg-dark-bg-secondary rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\n                >\n                    Save as Template\n                </button>\n                <button\n                    onClick={onSave}\n                    className=\"w-full sm:w-auto px-4 py-2 text-sm font-semibold text-white bg-primary rounded-lg hover:bg-primary-hover transition-colors\"\n                >\n                    Save & Start Bot\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default StrategyConfigPanelLayout;\n","size_bytes":2879},"components/strategies/MeanReversionConfigPanel.tsx":{"content":"import React from 'react';\nimport { MeanReversionConfig } from '../../types';\nimport Card from '../Card';\n\nconst InputField: React.FC<{ label: string, type?: string, value: any, onChange: (e: any) => void, unit?: string, helpText?: string }> = ({ label, type = 'text', value, onChange, unit, helpText }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</label>\n        <div className=\"mt-1 flex items-center\">\n            <input type={type} value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\" />\n            {unit && <span className=\"ml-2 text-gray-500 dark:text-dark-text-secondary whitespace-nowrap\">{unit}</span>}\n        </div>\n        {helpText && <p className=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">{helpText}</p>}\n    </div>\n);\n\nconst SelectField: React.FC<{ label: string, value: any, onChange: (e: any) => void, children?: React.ReactNode }> = ({ label, value, onChange, children }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">{label}</label>\n        <select value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\">\n            {children}\n        </select>\n    </div>\n);\n\nconst MarketTypeSelector: React.FC<{ value: 'SPOT' | 'FUTURES'; onChange: (value: 'SPOT' | 'FUTURES') => void; }> = ({ value, onChange }) => (\n    <div className=\"mb-6\">\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-2\">Market Type</label>\n        <div className=\"flex w-full bg-gray-100 dark:bg-dark-bg-secondary rounded-lg p-1\">\n            <button onClick={() => onChange('SPOT')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'SPOT' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>SPOT</button>\n            <button onClick={() => onChange('FUTURES')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'FUTURES' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>FUTURES</button>\n        </div>\n    </div>\n);\n\ninterface MeanReversionConfigPanelProps {\n    config: MeanReversionConfig;\n    onConfigChange: (newConfig: MeanReversionConfig) => void;\n    onSave: () => void;\n    onSaveTemplate: () => void;\n}\n\nconst MeanReversionConfigPanel: React.FC<MeanReversionConfigPanelProps> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    const handleChange = (field: keyof MeanReversionConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement> | 'SPOT' | 'FUTURES') => {\n        const value = e === 'SPOT' || e === 'FUTURES'\n            ? e\n            : e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n\n    return (\n        <Card>\n            <h3 className=\"text-lg font-bold mb-4\">Configure Mean Reversion Bot</h3>\n            <p className=\"text-sm text-gray-500 dark:text-dark-text-secondary mb-4\">Z-Score and RSI-based strategy for ranging markets</p>\n            <div className=\"space-y-4 max-h-[70vh] overflow-y-auto pr-2\">\n                <MarketTypeSelector value={config.marketType} onChange={handleChange('marketType')} />\n                \n                <InputField label=\"Z-Score Period\" type=\"number\" value={config.zScorePeriod} onChange={handleChange('zScorePeriod')} unit=\"periods\" helpText=\"Lookback period for mean/std calculation\" />\n                <InputField label=\"Z-Score Entry Threshold\" type=\"number\" value={config.zScoreEntryThreshold} onChange={handleChange('zScoreEntryThreshold')} unit=\"\" helpText=\"Enter when price is X std devs from mean\" />\n                <InputField label=\"Z-Score Exit Threshold\" type=\"number\" value={config.zScoreExitThreshold} onChange={handleChange('zScoreExitThreshold')} unit=\"\" helpText=\"Exit when price returns to X std devs\" />\n                \n                <InputField label=\"RSI Period\" type=\"number\" value={config.rsiPeriod} onChange={handleChange('rsiPeriod')} unit=\"periods\" helpText=\"RSI calculation period\" />\n                <InputField label=\"RSI Oversold Level\" type=\"number\" value={config.rsiOversold} onChange={handleChange('rsiOversold')} unit=\"\" helpText=\"Buy signal threshold (e.g., 30)\" />\n                <InputField label=\"RSI Overbought Level\" type=\"number\" value={config.rsiOverbought} onChange={handleChange('rsiOverbought')} unit=\"\" helpText=\"Sell signal threshold (e.g., 70)\" />\n                \n                <InputField label=\"Position Size\" type=\"number\" value={config.positionSize} onChange={handleChange('positionSize')} unit=\"%\" helpText=\"% of capital per trade\" />\n                \n                <InputField label=\"Stop Loss\" type=\"number\" value={config.stopLossPercentage} onChange={handleChange('stopLossPercentage')} unit=\"%\" helpText=\"Hard stop loss percentage\" />\n                <InputField label=\"Take Profit\" type=\"number\" value={config.takeProfitPercentage} onChange={handleChange('takeProfitPercentage')} unit=\"%\" helpText=\"Take profit target percentage\" />\n                \n                {config.marketType === 'FUTURES' && (\n                    <>\n                        <InputField label=\"Leverage\" type=\"number\" value={config.leverage} onChange={handleChange('leverage')} unit=\"x\" />\n                        <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                            <option value=\"Isolated\">Isolated</option>\n                            <option value=\"Cross\">Cross</option>\n                        </SelectField>\n                    </>\n                )}\n            </div>\n            <div className=\"mt-6 flex gap-3\">\n                <button onClick={onSaveTemplate} className=\"flex-1 py-2 text-sm font-semibold text-gray-700 dark:text-dark-text-secondary bg-gray-100 dark:bg-dark-bg-secondary rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700\">\n                    Save as Template\n                </button>\n                <button onClick={onSave} className=\"flex-1 py-2 text-sm font-semibold text-white bg-primary rounded-lg hover:bg-primary-hover\">\n                    Save & Start Bot\n                </button>\n            </div>\n        </Card>\n    );\n};\n\nexport default MeanReversionConfigPanel;\n","size_bytes":6647},"components/strategies/TradingViewWebhookConfigPanel.tsx":{"content":"import React, { useState } from 'react';\nimport { TradingViewWebhookConfig } from '../../types';\nimport StrategyConfigPanelLayout from '../StrategyConfigPanelLayout';\nimport ToggleSwitch from '../ToggleSwitch';\n\nconst InputField: React.FC<{ label: string, type?: string, value: any, onChange: (e: any) => void, unit?: string, helpText?: string }> = ({ label, type = 'text', value, onChange, unit, helpText }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5\">{label}</label>\n        <div className=\"flex items-center gap-2\">\n            <input type={type} value={value} onChange={onChange} className=\"flex-1 bg-white dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-lg shadow-sm px-3 py-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-primary text-sm transition-colors\" />\n            {unit && <span className=\"text-gray-600 dark:text-gray-400 whitespace-nowrap text-sm font-medium\">{unit}</span>}\n        </div>\n        {helpText && <p className=\"mt-1.5 text-xs text-gray-500 dark:text-gray-400 leading-relaxed\">{helpText}</p>}\n    </div>\n);\n\nconst SelectField: React.FC<{ label: string, value: any, onChange: (e: any) => void, children?: React.ReactNode, helpText?: string }> = ({ label, value, onChange, children, helpText }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5\">{label}</label>\n        <select value={value} onChange={onChange} className=\"w-full bg-white dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-lg shadow-sm px-3 py-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-primary text-sm transition-colors\">\n            {children}\n        </select>\n        {helpText && <p className=\"mt-1.5 text-xs text-gray-500 dark:text-gray-400 leading-relaxed\">{helpText}</p>}\n    </div>\n);\n\nconst MarketTypeSelector: React.FC<{ value: 'SPOT' | 'FUTURES'; onChange: (value: 'SPOT' | 'FUTURES') => void; }> = ({ value, onChange }) => (\n    <div className=\"mb-4\">\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-2\">Market Type</label>\n        <div className=\"flex w-full bg-gray-100 dark:bg-dark-bg-secondary rounded-lg p-1\">\n            <button onClick={() => onChange('SPOT')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'SPOT' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>SPOT</button>\n            <button onClick={() => onChange('FUTURES')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'FUTURES' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>FUTURES</button>\n        </div>\n    </div>\n);\n\ninterface TradingViewWebhookConfigPanelProps {\n    config: TradingViewWebhookConfig;\n    onConfigChange: (newConfig: TradingViewWebhookConfig) => void;\n    onSave: () => void;\n    onSaveTemplate: () => void;\n}\n\nconst TradingViewWebhookConfigPanel: React.FC<TradingViewWebhookConfigPanelProps> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    const [activeTab, setActiveTab] = useState('core');\n\n    const handleChange = (field: keyof TradingViewWebhookConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement> | 'SPOT' | 'FUTURES') => {\n        const value = e === 'SPOT' || e === 'FUTURES'\n            ? e\n            : e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n\n    const coreLogicContent = (\n        <div className=\"space-y-4\">\n            <MarketTypeSelector value={config.marketType} onChange={handleChange('marketType')} />\n            <InputField label=\"Webhook URL\" type=\"text\" value={config.webhookURL} onChange={handleChange('webhookURL')} helpText=\"Endpoint for receiving TradingView alerts\" />\n            <div>\n                <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">Alert Parser (JSON Template)</label>\n                <textarea\n                    value={config.alertParser}\n                    onChange={handleChange('alertParser')}\n                    className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary text-sm font-mono\"\n                    rows={3}\n                    placeholder='{\"action\": \"{{strategy.order.action}}\", \"ticker\": \"{{ticker}}\"}'\n                />\n                <p className=\"mt-1 text-xs text-gray-400\">Defines how to extract action, ticker, and size from alerts</p>\n            </div>\n            <InputField label=\"Signal Source Trust Score\" type=\"number\" value={config.signalSourceTrustScore} onChange={handleChange('signalSourceTrustScore')} unit=\"(1-10)\" helpText=\"Position sizing weighted by provider reliability\" />\n            <SelectField label=\"Position Size Override\" value={config.positionSizeOverride} onChange={handleChange('positionSizeOverride')} helpText=\"Use signal or fixed % of capital\">\n                <option value=\"Use Signal\">Use Signal</option>\n                <option value=\"Fixed %\">Fixed %</option>\n            </SelectField>\n            {config.positionSizeOverride === 'Fixed %' && (\n                <InputField label=\"Fixed Position Size\" type=\"number\" value={config.fixedPositionSize} onChange={handleChange('fixedPositionSize')} unit=\"%\" />\n            )}\n        </div>\n    );\n\n    const riskManagementContent = (\n        <div className=\"space-y-4\">\n            <InputField label=\"Maximum Slippage\" type=\"number\" value={config.maximumSlippage} onChange={handleChange('maximumSlippage')} unit=\"%\" helpText=\"Rejects fills worse than this threshold\" />\n            <InputField label=\"Daily Loss Limit\" type=\"number\" value={config.dailyLossLimit} onChange={handleChange('dailyLossLimit')} unit=\"%\" helpText=\"Stops trading for 24h after loss limit\" />\n            <InputField label=\"Max Drawdown\" type=\"number\" value={config.maxDrawdown} onChange={handleChange('maxDrawdown')} unit=\"%\" helpText=\"Global kill switch trigger\" />\n            <InputField label=\"Global Capital Allocation\" type=\"number\" value={config.globalCapitalAllocation} onChange={handleChange('globalCapitalAllocation')} unit=\"%\" helpText=\"Max % of portfolio for this bot\" />\n            <InputField label=\"Max Position Leverage\" type=\"number\" value={config.maxPositionLeverage} onChange={handleChange('maxPositionLeverage')} unit=\"x\" helpText=\"Caps leverage even if signal specifies higher\" />\n            <InputField label=\"Take Profit Percentage\" type=\"number\" value={config.takeProfitPercentage} onChange={handleChange('takeProfitPercentage')} unit=\"%\" />\n            <InputField label=\"Stop Loss Percentage\" type=\"number\" value={config.stopLossPercentage} onChange={handleChange('stopLossPercentage')} unit=\"%\" />\n            <InputField label=\"Trailing Stop Activation\" type=\"number\" value={config.trailingStopActivation} onChange={handleChange('trailingStopActivation')} unit=\"%\" helpText=\"Profit % to activate trailing stop\" />\n        </div>\n    );\n\n    const executionContent = (\n        <div className=\"space-y-4\">\n            <SelectField label=\"Order Type Default\" value={config.orderTypeDefault} onChange={handleChange('orderTypeDefault')} helpText=\"Type used if signal doesn't specify\">\n                <option value=\"Market\">Market</option>\n                <option value=\"Limit\">Limit</option>\n                <option value=\"Post Only Limit\">Post Only Limit</option>\n            </SelectField>\n            <InputField label=\"Order Timeout\" type=\"number\" value={config.orderTimeout} onChange={handleChange('orderTimeout')} unit=\"seconds\" helpText=\"Cancel if not filled within time limit\" />\n            <InputField label=\"Max Open Positions\" type=\"number\" value={config.maxOpenPositions} onChange={handleChange('maxOpenPositions')} unit=\"positions\" />\n            <InputField label=\"Minimum Position Size\" type=\"number\" value={config.minimumPositionSize} onChange={handleChange('minimumPositionSize')} unit=\"USDT\" helpText=\"Rejects signals below exchange minimum\" />\n            <InputField label=\"Daily Trade Count Limit\" type=\"number\" value={config.dailyTradeCountLimit} onChange={handleChange('dailyTradeCountLimit')} unit=\"trades\" helpText=\"Prevents over-trading\" />\n            <InputField label=\"Cooldown Period\" type=\"number\" value={config.cooldownPeriod} onChange={handleChange('cooldownPeriod')} unit=\"seconds\" helpText=\"Per-ticker re-entry delay after exit\" />\n            <SelectField label=\"Partial Fill Handling\" value={config.partialFillHandling} onChange={handleChange('partialFillHandling')}>\n                <option value=\"Cancel Remainder\">Cancel Remainder</option>\n                <option value=\"Wait for Fill\">Wait for Fill</option>\n            </SelectField>\n        </div>\n    );\n\n    const complianceContent = (\n        <div className=\"space-y-4\">\n            <SelectField label=\"Log Level\" value={config.logLevel} onChange={handleChange('logLevel')} helpText=\"Verbosity of internal logging\">\n                <option value=\"Info\">Info</option>\n                <option value=\"Debug\">Debug</option>\n                <option value=\"Error\">Error</option>\n            </SelectField>\n            <InputField label=\"Strategy Tag/ID\" type=\"text\" value={config.strategyTagID} onChange={handleChange('strategyTagID')} helpText=\"Unique identifier for tracking\" />\n            <InputField label=\"Ignore Tickers List\" type=\"text\" value={config.ignoreTickersList} onChange={handleChange('ignoreTickersList')} helpText=\"Comma-separated blacklist (e.g., BTC/USDT,ETH/USDT)\" />\n            <InputField label=\"Whitelisted IP Addresses\" type=\"text\" value={config.whitelistedIPAddresses} onChange={handleChange('whitelistedIPAddresses')} helpText=\"Only accept alerts from these IPs\" />\n            <InputField label=\"Max Trade Fee Percentage\" type=\"number\" value={config.maxTradeFeePercentage} onChange={handleChange('maxTradeFeePercentage')} unit=\"%\" helpText=\"Rejects trades with fees exceeding limit\" />\n            <InputField label=\"Minimum Profit Target\" type=\"number\" value={config.minimumProfitTarget} onChange={handleChange('minimumProfitTarget')} unit=\"$\" helpText=\"Ensures trades are financially viable\" />\n        </div>\n    );\n\n    const operationalContent = (\n        <div className=\"space-y-3\">\n            <SelectField label=\"Execution Environment\" value={config.executionEnvironment} onChange={handleChange('executionEnvironment')}>\n                <option value=\"Live Trading\">Live Trading</option>\n                <option value=\"Paper Trading\">Paper Trading</option>\n            </SelectField>\n            <InputField label=\"Max Exchange API Rate Usage\" type=\"number\" value={config.maxExchangeAPIRateUsage} onChange={handleChange('maxExchangeAPIRateUsage')} unit=\"%\" helpText=\"Soft throttle to prevent connectivity issues\" />\n            <InputField label=\"Exchange Time Offset\" type=\"number\" value={config.exchangeTimeOffset} onChange={handleChange('exchangeTimeOffset')} unit=\"ms\" helpText=\"Accounts for clock drift\" />\n            <InputField label=\"Confirmation Webhook URL\" type=\"text\" value={config.confirmationWebhookURL} onChange={handleChange('confirmationWebhookURL')} helpText=\"Optional endpoint for trade confirmations\" />\n            <SelectField label=\"Webhook Retry Mechanism\" value={config.webhookRetryMechanism} onChange={handleChange('webhookRetryMechanism')}>\n                <option value=\"Exponential Backoff\">Exponential Backoff</option>\n                <option value=\"Fixed Delay\">Fixed Delay</option>\n            </SelectField>\n            <InputField label=\"Time Zone Setting\" type=\"text\" value={config.timeZoneSetting} onChange={handleChange('timeZoneSetting')} helpText=\"e.g., America/New_York, UTC\" />\n        </div>\n    );\n\n    const adaptiveContent = (\n        <div className=\"space-y-3\">\n            <SelectField label=\"Account Mode\" value={config.accountMode} onChange={handleChange('accountMode')}>\n                <option value=\"Single\">Single Account</option>\n                <option value=\"Master/Sub-Account\">Master/Sub-Account</option>\n            </SelectField>\n            {config.marketType === 'FUTURES' && (\n                <>\n                    <InputField label=\"Leverage\" type=\"number\" value={config.leverage} onChange={handleChange('leverage')} unit=\"x\" />\n                    <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                        <option value=\"Isolated\">Isolated</option>\n                        <option value=\"Cross\">Cross</option>\n                    </SelectField>\n                </>\n            )}\n        </div>\n    );\n\n    const tabs = [\n        { id: 'core', label: 'Core Logic', content: coreLogicContent },\n        { id: 'risk', label: 'Risk Management', content: riskManagementContent },\n        { id: 'execution', label: 'Execution', content: executionContent },\n        { id: 'compliance', label: 'Compliance', content: complianceContent },\n        { id: 'operational', label: 'Operational', content: operationalContent },\n        { id: 'adaptive', label: 'Advanced', content: adaptiveContent },\n    ];\n\n    return (\n        <StrategyConfigPanelLayout\n            title=\"Configure TradingView Webhook Bot\"\n            activeTab={activeTab}\n            tabs={tabs}\n            onTabChange={setActiveTab}\n            onSave={onSave}\n            onSaveTemplate={onSaveTemplate}\n        />\n    );\n};\n\nexport default TradingViewWebhookConfigPanel;\n","size_bytes":13729},"components/strategies/VolatilityBreakoutConfigPanel.tsx":{"content":"import React from 'react';\nimport { VolatilityBreakoutConfig } from '../../types';\nimport Card from '../Card';\nimport ToggleSwitch from '../ToggleSwitch';\n\nconst InputField: React.FC<{ label: string, type?: string, value: any, onChange: (e: any) => void, unit?: string, helpText?: string }> = ({ label, type = 'text', value, onChange, unit, helpText }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</label>\n        <div className=\"mt-1 flex items-center\">\n            <input type={type} value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\" />\n            {unit && <span className=\"ml-2 text-gray-500 dark:text-dark-text-secondary whitespace-nowrap\">{unit}</span>}\n        </div>\n        {helpText && <p className=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">{helpText}</p>}\n    </div>\n);\n\nconst SelectField: React.FC<{ label: string, value: any, onChange: (e: any) => void, children?: React.ReactNode }> = ({ label, value, onChange, children }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-1\">{label}</label>\n        <select value={value} onChange={onChange} className=\"w-full bg-gray-50 dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-md shadow-sm p-2 focus:ring-primary focus:border-primary\">\n            {children}\n        </select>\n    </div>\n);\n\nconst ToggleField: React.FC<{ label: string, enabled: boolean, onChange: (val: boolean) => void, helpText?: string }> = ({ label, enabled, onChange, helpText }) => (\n    <div>\n        <div className=\"flex justify-between items-center\">\n            <label className=\"text-sm font-medium text-gray-500 dark:text-dark-text-secondary\">{label}</label>\n            <ToggleSwitch enabled={enabled} onChange={onChange} />\n        </div>\n        {helpText && <p className=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">{helpText}</p>}\n    </div>\n);\n\nconst MarketTypeSelector: React.FC<{ value: 'SPOT' | 'FUTURES'; onChange: (value: 'SPOT' | 'FUTURES') => void; }> = ({ value, onChange }) => (\n    <div className=\"mb-6\">\n        <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-2\">Market Type</label>\n        <div className=\"flex w-full bg-gray-100 dark:bg-dark-bg-secondary rounded-lg p-1\">\n            <button onClick={() => onChange('SPOT')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'SPOT' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>SPOT</button>\n            <button onClick={() => onChange('FUTURES')} className={`w-full py-1.5 text-sm font-semibold rounded-md transition-colors ${value === 'FUTURES' ? 'bg-white dark:bg-primary shadow-sm' : 'hover:bg-gray-200 dark:hover:bg-gray-700'}`}>FUTURES</button>\n        </div>\n    </div>\n);\n\ninterface VolatilityBreakoutConfigPanelProps {\n    config: VolatilityBreakoutConfig;\n    onConfigChange: (newConfig: VolatilityBreakoutConfig) => void;\n    onSave: () => void;\n    onSaveTemplate: () => void;\n}\n\nconst VolatilityBreakoutConfigPanel: React.FC<VolatilityBreakoutConfigPanelProps> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    const handleChange = (field: keyof VolatilityBreakoutConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement> | boolean | 'SPOT' | 'FUTURES') => {\n        const value = typeof e === 'boolean' || e === 'SPOT' || e === 'FUTURES'\n            ? e\n            : e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n\n    return (\n        <Card>\n            <h3 className=\"text-lg font-bold mb-4\">Configure Volatility Breakout Bot</h3>\n            <p className=\"text-sm text-gray-500 dark:text-dark-text-secondary mb-4\">Donchian/Keltner channel breakout strategy with time filters</p>\n            <div className=\"space-y-4 max-h-[70vh] overflow-y-auto pr-2\">\n                <MarketTypeSelector value={config.marketType} onChange={handleChange('marketType')} />\n                \n                <SelectField label=\"Breakout Indicator\" value={config.breakoutIndicator} onChange={handleChange('breakoutIndicator')}>\n                    <option value=\"Donchian\">Donchian Channels (High/Low Breakout)</option>\n                    <option value=\"Keltner\">Keltner Channels (ATR-Based)</option>\n                </SelectField>\n                \n                <InputField label=\"Lookback Period\" type=\"number\" value={config.lookbackPeriod} onChange={handleChange('lookbackPeriod')} unit=\"periods\" helpText=\"Channel calculation period\" />\n                \n                {config.breakoutIndicator === 'Keltner' && (\n                    <InputField label=\"Keltner ATR Multiplier\" type=\"number\" value={config.keltnerATRMultiplier} onChange={handleChange('keltnerATRMultiplier')} unit=\"x\" helpText=\"Channel width multiplier\" />\n                )}\n                \n                <InputField label=\"Position Size\" type=\"number\" value={config.positionSize} onChange={handleChange('positionSize')} unit=\"%\" helpText=\"% of capital per trade\" />\n                \n                <InputField label=\"Stop Loss\" type=\"number\" value={config.stopLossPercentage} onChange={handleChange('stopLossPercentage')} unit=\"%\" helpText=\"Hard stop loss percentage\" />\n                <InputField label=\"Take Profit\" type=\"number\" value={config.takeProfitPercentage} onChange={handleChange('takeProfitPercentage')} unit=\"%\" helpText=\"Take profit target percentage\" />\n                \n                <ToggleField label=\"Time-of-Day Filter Enabled\" enabled={config.timeOfDayFilterEnabled} onChange={handleChange('timeOfDayFilterEnabled')} helpText=\"Only trade during specific hours\" />\n                \n                {config.timeOfDayFilterEnabled && (\n                    <>\n                        <InputField label=\"Trading Hours Start\" type=\"time\" value={config.tradingHoursStart} onChange={handleChange('tradingHoursStart')} helpText=\"Start time in 24h format\" />\n                        <InputField label=\"Trading Hours End\" type=\"time\" value={config.tradingHoursEnd} onChange={handleChange('tradingHoursEnd')} helpText=\"End time in 24h format\" />\n                    </>\n                )}\n                \n                {config.marketType === 'FUTURES' && (\n                    <>\n                        <InputField label=\"Leverage\" type=\"number\" value={config.leverage} onChange={handleChange('leverage')} unit=\"x\" />\n                        <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                            <option value=\"Isolated\">Isolated</option>\n                            <option value=\"Cross\">Cross</option>\n                        </SelectField>\n                    </>\n                )}\n            </div>\n            <div className=\"mt-6 flex gap-3\">\n                <button onClick={onSaveTemplate} className=\"flex-1 py-2 text-sm font-semibold text-gray-700 dark:text-dark-text-secondary bg-gray-100 dark:bg-dark-bg-secondary rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700\">\n                    Save as Template\n                </button>\n                <button onClick={onSave} className=\"flex-1 py-2 text-sm font-semibold text-white bg-primary rounded-lg hover:bg-primary-hover\">\n                    Save & Start Bot\n                </button>\n            </div>\n        </Card>\n    );\n};\n\nexport default VolatilityBreakoutConfigPanel;\n","size_bytes":7692},"components/strategies/SignalBotConfigPanel.tsx":{"content":"import React, { useState } from 'react';\nimport { SignalBotConfig } from '../../types';\nimport StrategyConfigPanelLayout from '../StrategyConfigPanelLayout';\nimport ToggleSwitch from '../ToggleSwitch';\n\nconst InputField: React.FC<{ label: string, type?: string, value: any, onChange: (e: any) => void, unit?: string, helpText?: string, placeholder?: string, min?: string, max?: string, step?: string }> = ({ label, type = 'text', value, onChange, unit, helpText, placeholder, min, max, step }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5\">{label}</label>\n        <div className=\"flex items-center gap-2\">\n            <input \n                type={type} \n                value={value} \n                onChange={onChange} \n                placeholder={placeholder}\n                min={min}\n                max={max}\n                step={step}\n                className=\"flex-1 bg-white dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-lg shadow-sm px-3 py-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-primary text-sm transition-colors\" \n            />\n            {unit && <span className=\"text-gray-600 dark:text-gray-400 whitespace-nowrap text-sm font-medium\">{unit}</span>}\n        </div>\n        {helpText && <p className=\"mt-1.5 text-xs text-gray-500 dark:text-gray-400 leading-relaxed\">{helpText}</p>}\n    </div>\n);\n\nconst SelectField: React.FC<{ label: string, value: any, onChange: (e: any) => void, children?: React.ReactNode, helpText?: string }> = ({ label, value, onChange, children, helpText }) => (\n    <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5\">{label}</label>\n        <select \n            value={value} \n            onChange={onChange} \n            className=\"w-full bg-white dark:bg-dark-bg-secondary border border-gray-300 dark:border-dark-border rounded-lg shadow-sm px-3 py-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-primary text-sm transition-colors\"\n        >\n            {children}\n        </select>\n        {helpText && <p className=\"mt-1.5 text-xs text-gray-500 dark:text-gray-400 leading-relaxed\">{helpText}</p>}\n    </div>\n);\n\ninterface SignalBotConfigPanelProps {\n    config: SignalBotConfig;\n    onConfigChange: (config: SignalBotConfig) => void;\n    onSave: () => void;\n    onSaveTemplate: () => void;\n}\n\nconst SignalBotConfigPanel: React.FC<SignalBotConfigPanelProps> = ({ config, onConfigChange, onSave, onSaveTemplate }) => {\n    const [activeTab, setActiveTab] = useState('basic');\n\n    const handleChange = (field: keyof SignalBotConfig) => (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n        const value = e.target.type === 'number' ? parseFloat(e.target.value) || 0 : e.target.value;\n        onConfigChange({ ...config, [field]: value });\n    };\n\n    const basicSignalContent = (\n        <div className=\"space-y-4\">\n            <SelectField label=\"Signal Source\" value={config.signalSource} onChange={handleChange('signalSource')} helpText=\"Platform where signals are received\">\n                <option value=\"Telegram\">Telegram</option>\n                <option value=\"Discord\">Discord</option>\n                <option value=\"API\">API</option>\n                <option value=\"Custom\">Custom</option>\n            </SelectField>\n            <InputField label=\"Message Parser (Regex)\" type=\"text\" value={config.messageParser} onChange={handleChange('messageParser')} placeholder=\"^(BUY|SELL)\\s+(\\w+)\\s+@\\s+([\\d.]+)\" helpText=\"Custom regex pattern to extract action, asset, and price from signal\" />\n            <InputField label=\"Provider Trust Score (1-10)\" type=\"number\" value={config.providerTrustScore} onChange={handleChange('providerTrustScore')} min=\"1\" max=\"10\" step=\"0.1\" helpText=\"Dynamic position sizing based on provider's historical performance\" />\n            <InputField label=\"Signal Verification Delay\" type=\"number\" value={config.signalVerificationDelay} onChange={handleChange('signalVerificationDelay')} unit=\"seconds\" helpText=\"Wait time to check for signal correction/retraction before executing\" />\n            <InputField label=\"Maximum Positions\" type=\"number\" value={config.maximumPositions} onChange={handleChange('maximumPositions')} helpText=\"Hard limit on concurrent open trades\" />\n            <InputField label=\"Correlation Limit\" type=\"number\" value={config.correlationLimit} onChange={handleChange('correlationLimit')} unit=\"%\" helpText=\"Prevent trading correlated assets simultaneously above this threshold\" />\n            <div className=\"flex items-center justify-between py-2\">\n                <div>\n                    <label className=\"text-sm font-medium text-gray-700 dark:text-dark-text-secondary\">Auto-Stop on Provider Error</label>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">Stop bot on excessive invalid signals</p>\n                </div>\n                <ToggleSwitch\n                    checked={config.autoStopOnProviderError}\n                    onChange={(checked) => onConfigChange({ ...config, autoStopOnProviderError: checked })}\n                />\n            </div>\n            <InputField label=\"Max Order Deviation\" type=\"number\" value={config.maxOrderDeviation} onChange={handleChange('maxOrderDeviation')} unit=\"%\" helpText=\"Reject trade if market price deviates from signal price by this %\" />\n            <InputField label=\"Signal Re-entry Delay\" type=\"number\" value={config.signalReentryDelay} onChange={handleChange('signalReentryDelay')} unit=\"minutes\" helpText=\"Wait time per asset before accepting new signals after trade close\" />\n            <SelectField label=\"TP/SL Overwrite Policy\" value={config.tpSlOverwrite} onChange={handleChange('tpSlOverwrite')} helpText=\"Control whether bot can override signal TP/SL levels\">\n                <option value=\"Allow\">Allow Override</option>\n                <option value=\"Reject\">Reject Override</option>\n                <option value=\"Only If Worse\">Only If Worse</option>\n            </SelectField>\n            <InputField label=\"Signal Parsing Failure Limit\" type=\"number\" value={config.signalParsingFailureLimit} onChange={handleChange('signalParsingFailureLimit')} helpText=\"Consecutive parsing failures before halting\" />\n        </div>\n    );\n\n    const executionContent = (\n        <div className=\"space-y-4\">\n            <SelectField label=\"Order Type Preference\" value={config.orderTypePreference} onChange={handleChange('orderTypePreference')} helpText=\"Limit is safer, Market is faster but risks slippage\">\n                <option value=\"Limit\">Limit</option>\n                <option value=\"Market\">Market</option>\n                <option value=\"Post-Only Limit\">Post-Only Limit</option>\n                <option value=\"IOC\">IOC (Immediate or Cancel)</option>\n                <option value=\"FOK\">FOK (Fill or Kill)</option>\n            </SelectField>\n            <InputField label=\"Slippage Tolerance\" type=\"number\" value={config.slippageTolerance} onChange={handleChange('slippageTolerance')} unit=\"%\" helpText=\"Max acceptable price difference between intended and actual fill\" />\n            <InputField label=\"Fill-or-Kill Timeout\" type=\"number\" value={config.fillOrKillTimeout} onChange={handleChange('fillOrKillTimeout')} unit=\"ms\" helpText=\"Maximum wait time for FOK/IOC orders before auto-cancel\" />\n            <SelectField label=\"Dynamic Position Sizing Logic\" value={config.dynamicPositionSizing} onChange={handleChange('dynamicPositionSizing')} helpText=\"Capital allocation method per trade\">\n                <option value=\"Fixed Amt\">Fixed Amount</option>\n                <option value=\"% of Balance\">% of Balance</option>\n                <option value=\"Kelly Criterion\">Kelly Criterion</option>\n                <option value=\"VaR\">VaR (Value at Risk)</option>\n            </SelectField>\n            <SelectField label=\"Partial Fill Policy\" value={config.partialFillPolicy} onChange={handleChange('partialFillPolicy')} helpText=\"Action when limit order is only partially filled\">\n                <option value=\"Hold\">Hold</option>\n                <option value=\"Cancel Remaining\">Cancel Remaining</option>\n                <option value=\"Re-Price Limit\">Re-Price Limit</option>\n            </SelectField>\n            <InputField label=\"Max Slippage per Position\" type=\"number\" value={config.maxSlippagePerPosition} onChange={handleChange('maxSlippagePerPosition')} unit=\"%\" helpText=\"Cumulative slippage cap for entire trade lifecycle\" />\n            <InputField label=\"Trade Execution Window Max Latency\" type=\"number\" value={config.tradeExecutionWindowMaxLatency} onChange={handleChange('tradeExecutionWindowMaxLatency')} unit=\"ms\" helpText=\"Max acceptable delay from signal processing to order acceptance\" />\n            <InputField label=\"Order Routing Destination Override\" type=\"text\" value={config.orderRoutingDestinationOverride} onChange={handleChange('orderRoutingDestinationOverride')} placeholder=\"Leave empty for auto-routing\" helpText=\"Force all orders to specific exchange/venue (Exchange ID)\" />\n        </div>\n    );\n\n    const riskContent = (\n        <div className=\"space-y-4\">\n            <InputField label=\"Max Portfolio Drawdown\" type=\"number\" value={config.maxPortfolioDrawdown} onChange={handleChange('maxPortfolioDrawdown')} unit=\"%\" helpText=\"Halt all trading if portfolio drops this % from peak\" />\n            <InputField label=\"Max Daily Loss\" type=\"number\" value={config.maxDailyLoss} onChange={handleChange('maxDailyLoss')} unit=\"$\" helpText=\"Hard cap on daily losses; triggers auto-stop\" />\n            <InputField label=\"Max Weekly Loss\" type=\"number\" value={config.maxWeeklyLoss} onChange={handleChange('maxWeeklyLoss')} unit=\"$\" helpText=\"Hard cap on weekly losses\" />\n            <InputField label=\"Max Adverse Excursion (MAE) Limit\" type=\"number\" value={config.maxAdverseExcursion} onChange={handleChange('maxAdverseExcursion')} unit=\"%\" helpText=\"Max intra-trade loss before force-close regardless of SL\" />\n            <SelectField label=\"Exposure Netting Mode\" value={config.exposureNettingMode} onChange={handleChange('exposureNettingMode')} helpText=\"How to calculate total exposure across correlated positions\">\n                <option value=\"Gross\">Gross</option>\n                <option value=\"Net\">Net</option>\n                <option value=\"Delta-Adjusted\">Delta-Adjusted</option>\n            </SelectField>\n            <InputField label=\"Max Volatility Filter (ATR)\" type=\"number\" value={config.maxVolatilityFilter} onChange={handleChange('maxVolatilityFilter')} unit=\"$\" helpText=\"Reject trades if ATR volatility exceeds this threshold\" />\n            <InputField label=\"Correlation Check Lookback Window\" type=\"text\" value={config.correlationCheckLookbackWindow} onChange={handleChange('correlationCheckLookbackWindow')} placeholder=\"30 Days / 60 Mins\" helpText=\"Time window for calculating asset correlation\" />\n            <InputField label=\"Leverage\" type=\"number\" value={config.leverage} onChange={handleChange('leverage')} min=\"1\" max=\"125\" />\n            <SelectField label=\"Margin Mode\" value={config.marginMode} onChange={handleChange('marginMode')}>\n                <option value=\"Isolated\">Isolated</option>\n                <option value=\"Cross\">Cross</option>\n            </SelectField>\n        </div>\n    );\n\n    const complianceContent = (\n        <div className=\"space-y-4\">\n            <SelectField label=\"Audit Log Verbosity Level\" value={config.auditLogVerbosity} onChange={handleChange('auditLogVerbosity')} helpText=\"Level of detail logged for every action\">\n                <option value=\"Minimal\">Minimal</option>\n                <option value=\"Standard\">Standard</option>\n                <option value=\"Detailed\">Detailed</option>\n                <option value=\"Full\">Full (Required for Institutional Audits)</option>\n            </SelectField>\n            <InputField label=\"Asset Whitelist\" type=\"text\" value={config.assetWhitelist} onChange={handleChange('assetWhitelist')} placeholder=\"BTC,ETH,SOL,BNB (comma-separated)\" helpText=\"Pre-approved assets authorized for trading\" />\n            <InputField label=\"Time-of-Day Trading Window\" type=\"text\" value={config.timeOfDayTradingWindow} onChange={handleChange('timeOfDayTradingWindow')} placeholder=\"09:30-16:00 EST\" helpText=\"Authorized trading hours for new orders\" />\n            <InputField label=\"Market Data Tolerance\" type=\"number\" value={config.marketDataTolerance} onChange={handleChange('marketDataTolerance')} unit=\"%\" helpText=\"Max allowed deviation of current market price from signal price\" />\n            <InputField label=\"Order/Trade Ratio Limit\" type=\"number\" value={config.orderTradeRatioLimit} onChange={handleChange('orderTradeRatioLimit')} helpText=\"Max ratio of orders placed to trades executed (MiFID II/SEC Rule 15c3-5)\" />\n            <InputField label=\"Strategy Version Lock\" type=\"text\" value={config.strategyVersionLock} onChange={handleChange('strategyVersionLock')} placeholder=\"v3.1.2_QC\" helpText=\"Locks bot to specific auditable strategy version\" />\n            <InputField label=\"Trade Identifier Tag\" type=\"text\" value={config.tradeIdentifierTag} onChange={handleChange('tradeIdentifierTag')} placeholder=\"ACCT123_SIGNALBOT_Q1\" helpText=\"Unique tag for regulatory reporting (CAT/MiFID II)\" />\n            <InputField label=\"Min. Exchange Liquidity\" type=\"number\" value={config.minExchangeLiquidity} onChange={handleChange('minExchangeLiquidity')} unit=\"$\" helpText=\"Minimum 24h trading volume required to trade an asset\" />\n            <InputField label=\"Post-Trade Compliance Delay\" type=\"number\" value={config.postTradeComplianceDelay} onChange={handleChange('postTradeComplianceDelay')} unit=\"ms\" helpText=\"Delay after fill before accepting new signals\" />\n            <InputField label=\"Audit Log Retention Period\" type=\"number\" value={config.auditLogRetentionPeriod} onChange={handleChange('auditLogRetentionPeriod')} unit=\"days\" helpText=\"Minimum required audit log storage period (e.g., 1825 for 5 years)\" />\n        </div>\n    );\n\n    const monitoringContent = (\n        <div className=\"space-y-4\">\n            <InputField label=\"Data Feed Latency Threshold\" type=\"number\" value={config.dataFeedLatencyThreshold} onChange={handleChange('dataFeedLatencyThreshold')} unit=\"ms\" helpText=\"Pause trading if market data is older than this\" />\n            <InputField label=\"Max API Request Rate (per min)\" type=\"number\" value={config.maxAPIRequestRate} onChange={handleChange('maxAPIRequestRate')} helpText=\"Limit orders/cancellations to avoid rate-limiting\" />\n            <InputField label=\"Emergency Kill Switch API Key\" type=\"password\" value={config.emergencyKillSwitchKey} onChange={handleChange('emergencyKillSwitchKey')} placeholder=\"Enter emergency key\" helpText=\"Secondary key to instantly cancel all orders and close positions\" />\n            <SelectField label=\"P&L Reporting Frequency\" value={config.pnlReportingFrequency} onChange={handleChange('pnlReportingFrequency')} helpText=\"How often to calculate and report P&L metrics\">\n                <option value=\"Real-Time\">Real-Time</option>\n                <option value=\"1min\">1 Minute</option>\n                <option value=\"5min\">5 Minutes</option>\n                <option value=\"EOD\">End of Day</option>\n            </SelectField>\n            <SelectField label=\"Circuit Breaker Response\" value={config.circuitBreakerResponse} onChange={handleChange('circuitBreakerResponse')} helpText=\"Bot's automated response when circuit breaker is triggered\">\n                <option value=\"Cancel All\">Cancel All Orders</option>\n                <option value=\"Pause New\">Pause New Orders</option>\n                <option value=\"Reduce-Only\">Reduce-Only Mode</option>\n            </SelectField>\n            <InputField label=\"External Risk System Heartbeat Timeout\" type=\"number\" value={config.externalRiskSystemHeartbeatTimeout} onChange={handleChange('externalRiskSystemHeartbeatTimeout')} unit=\"seconds\" helpText=\"Max time gap since last risk system heartbeat before pause\" />\n            <InputField label=\"Vendor Signal License Key\" type=\"password\" value={config.vendorSignalLicenseKey} onChange={handleChange('vendorSignalLicenseKey')} placeholder=\"Enter license key\" helpText=\"Token required to decrypt/validate signal provider's feed\" />\n        </div>\n    );\n\n    const advancedContent = (\n        <div className=\"space-y-4\">\n            <InputField label=\"Strategy Confidence Score Threshold (0.0-1.0)\" type=\"number\" value={config.strategyConfidenceScoreThreshold} onChange={handleChange('strategyConfidenceScoreThreshold')} min=\"0\" max=\"1\" step=\"0.01\" helpText=\"Only execute if strategy's live performance score exceeds this\" />\n            <InputField label=\"Out-of-Sample Failure Threshold\" type=\"number\" value={config.outOfSampleFailureThreshold} onChange={handleChange('outOfSampleFailureThreshold')} helpText=\"Consecutive trade failures before forcing paper-trading mode\" />\n            <div>\n                <label className=\"block text-sm font-medium text-gray-500 dark:text-dark-text-secondary mb-2\">Required Data Fields</label>\n                <div className=\"grid grid-cols-2 gap-2\">\n                    {['Asset', 'Action', 'Price', 'Stop-Loss', 'Timestamp', 'Context ID'].map((field) => (\n                        <label key={field} className=\"flex items-center space-x-2 text-sm\">\n                            <input\n                                type=\"checkbox\"\n                                checked={config.requiredDataFields.includes(field)}\n                                onChange={(e) => {\n                                    const newFields = e.target.checked\n                                        ? [...config.requiredDataFields, field]\n                                        : config.requiredDataFields.filter(f => f !== field);\n                                    onConfigChange({ ...config, requiredDataFields: newFields });\n                                }}\n                                className=\"rounded text-primary focus:ring-primary\"\n                            />\n                            <span className=\"text-gray-700 dark:text-dark-text-secondary\">{field}</span>\n                        </label>\n                    ))}\n                </div>\n                <p className=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">Mandatory fields in signal message; reject if any missing</p>\n            </div>\n        </div>\n    );\n\n    const tabs = [\n        { id: 'basic', label: 'Basic Signal', content: basicSignalContent },\n        { id: 'execution', label: 'Execution', content: executionContent },\n        { id: 'risk', label: 'Risk & Limits', content: riskContent },\n        { id: 'compliance', label: 'Compliance', content: complianceContent },\n        { id: 'monitoring', label: 'Monitoring', content: monitoringContent },\n        { id: 'advanced', label: 'Advanced', content: advancedContent }\n    ];\n\n    return (\n        <StrategyConfigPanelLayout\n            title=\"Signal Bot Configuration\"\n            activeTab={activeTab}\n            tabs={tabs}\n            onTabChange={setActiveTab}\n            onSave={onSave}\n            onSaveTemplate={onSaveTemplate}\n        />\n    );\n};\n\nexport default SignalBotConfigPanel;\n","size_bytes":19342},"components/TradingViewWidget.tsx":{"content":"import React, { useContext } from 'react';\nimport { AdvancedRealTimeChart } from 'react-ts-tradingview-widgets';\nimport { ThemeContext } from '../App';\n\ninterface TradingViewWidgetProps {\n  symbol?: string;\n  exchange?: string;\n}\n\nconst TradingViewWidget: React.FC<TradingViewWidgetProps> = ({ \n  symbol = 'BTCUSDT',\n  exchange = 'BINANCE'\n}) => {\n  const { theme } = useContext(ThemeContext);\n  \n  const fullSymbol = `${exchange}:${symbol}`;\n\n  return (\n    <div className=\"w-full h-full\">\n      <AdvancedRealTimeChart\n        theme={theme === 'dark' ? 'dark' : 'light'}\n        autosize\n        symbol={fullSymbol}\n        interval=\"D\"\n        timezone=\"Etc/UTC\"\n        style=\"1\"\n        locale=\"en\"\n        enable_publishing={false}\n        allow_symbol_change={true}\n        details={true}\n        hotlist={false}\n        calendar={false}\n        studies={[\n          'RSI@tv-basicstudies',\n          'MASimple@tv-basicstudies',\n          'MACD@tv-basicstudies',\n          'BB@tv-basicstudies'\n        ]}\n        show_popup_button={true}\n        popup_width=\"1000\"\n        popup_height=\"650\"\n        container_id={`tradingview_${symbol}`}\n      />\n    </div>\n  );\n};\n\nexport default TradingViewWidget;\n","size_bytes":1207}},"version":2}